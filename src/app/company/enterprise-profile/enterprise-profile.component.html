<div class="main-content" *ngIf="company">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="row">
          <div class=" col-md-5">
            <div class="card-header">
              <p class="card-category clrs-h1">
                <!-- style="height: 28px; font-size: 8; -->
                Company : {{ (company)?.name }}
              </p>
            </div>
          </div>
          <div class="col-md-4 ml-auto">
                <!-- &body=Colours%20Is%20invited%20to%20a%20big%20summer%20party! -->
            <div class="card-header">
              <button *ngIf="displayDept" class="btn-link btn-magnify" (click)="printReport()">Print</button>
              <a *ngIf="displayDept" href="mailto:someone@example.com?
                &subject=Welcome%20to%20Colours
                &body=Colours%20Is%20inviting%20you%20to%20join%20Colours%20System%20
                " target="_top">
                Email
              </a>
              <button class="btn-link btn-magnify" (click)="doc$(company.id); refreshCompany()"> <i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>
                Refresh</button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="row" style="margin-left:3em; margin-right:0em">
            <div class="clrs-tabs">
            <!-- <div class="col-lg-2 col-md-2 col-sm-3" style="margin-left: -50px"> -->
              <div class="nav-tabs-navigation vertical-navs">
                <div class="nav-tabs-wrapper">
                  <ul class="nav nav-tabs flex-column nav-stacked text-left" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link nav-colors active" href="#info" role="tab" data-toggle="tab">Dashboard</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link nav-colors" href="#standards" role="tab" data-toggle="tab">Standards</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link nav-colors" (click)="minimizeSidebar()" href="#compSetup" role="tab" data-toggle="tab">Setup</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link nav-colors" (click)="minimizeSidebar()" href="#planning" role="tab" data-toggle="tab">Planning</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link nav-colors" (click)="minimizeSidebar()" href="#implement" role="tab" data-toggle="tab">Implementation</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link nav-colors" (click)="minimizeSidebar()" href="#reports" role="tab" data-toggle="tab">Reporting</a>
                    </li>
                    <!-- <li class="nav-item">
                      <a class="nav-link nav-colors" href="#test" role="tab" data-toggle="tab">feeds</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link nav-colors" href="#requests" role="tab" data-toggle="tab">Requests</a>
                    </li> -->
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-lg-110 col-md-10 col-sm-9 col-8" style="padding-right: 0px;padding-left: 15px;margin-right: -50px">
              <!-- Tab panes -->
              <div class="tab-content">
                <div class="tab-pane active" id="info">
                  <div class="row">
                    <div class="col-lg-4 col-sm-6 dash-col-left">
                      <div class="card">
                        <div class="card-content btn-magnify">
                          <div class="row col-sm-12 ml-auto mr-auto" style="padding-bottom: -1em ">
                            <div class="clrs-h4 col-md-12" style="color:steelblue">
                              <a><i class="nc-icon nc-palette"></i> Colours Personal</a>
                            </div><br>
                            <div class="col-md-112">
                              <div *ngIf="company">
                                <!-- class="card" -->
                                <div class="card-header">
                                  <h6 class="card-category">
                                    Tasks I'm Champion : {{ (tasksImChamp | async)?.length }} <small>{{ (tasksImChamp
                                      )?.name
                                      }}</small><br><br>
                                    My Tasks : {{ (myTasks | async)?.length }}<br>
                                  </h6>
                                </div>
                              </div>
                            </div>
                            <div class="text-left col-md-10" style="padding-top: -1em; color: steelblue; ">
                              <div class="spacer" style="height: 1em;"></div>
                              <a>My Diary Today</a>
                            </div>
                          </div>
                          <div class="spacer" style="height: 1em;"></div>
                          <div class="row">
                            <div class="content" style="margin-left:1.0em;">
                              <ol>
                                <li>
                                  <div class="row">
                                    <div class="col-sm-12" style="margin-left:1.0em; margin-right:-.5em">
                                      <a style="color:lightgrey">
                                        Meeting<span class="label text-warning"> 1000 hrs</span>
                                      </a>
                                    </div>
                                  </div>
                                </li>
                                <li>
                                  <div class="row">
                                    <div class="col-sm-12" style="margin-left:1.0em; margin-right:-1em">
                                      <a style="color:lightgrey">
                                        Email<span class="label text-success"> 1230 Hrs </span>
                                      </a>
                                    </div>
                                  </div>
                                </li>
                                <li>
                                  <div class="row">
                                    <div class="col-sm-12" style="margin-left:1.0em; margin-right:-1em">
                                      <a style="color:lightgrey; margin-bottom: 0px;">
                                        Skype<span class="label text-success"> 1400 Hrs </span>
                                      </a>
                                    </div>
                                  </div>
                                </li>
                                <li>
                                  <div class="row">
                                    <div class="col-sm-12" style="margin-left:1.0em; margin-right:-1em">
                                      <a style="color:lightgrey; margin-bottom: 0px;">
                                        Scheduling<span class="label text-success"> 0800 Hrs </span>
                                      </a>
                                    </div>
                                  </div>
                                </li>
                              </ol>
                            </div>
                          </div>
                        </div>
                        <div class="card-body">
                          <h6 class="big-title">total earnings in last ten quarters</h6>
                          <canvas id="activeUsers" width="826" height="150"></canvas>
                        </div>
                        <div class="card-footer">
                          <hr>
                          <div class="row">
                            <div class="col-sm-7">
                              <div class="footer-title">Financial Statistics</div>
                            </div>
                            <div class="col-sm-5">
                              <div class="pull-right">
                                <button class="btn btn-success btn-round btn-icon btn-sm">
                                  <i class="nc-icon nc-simple-add"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-4 col-sm-6 dash-col">
                      <div class="card">
                        <div class="card-content btn-magnify">
                          <div class="row col-sm-12 ml-auto mr-auto" style="padding-bottom: -1em ">
                            <div class="clrs-h4" style="color:steelblue">
                              <a><i class="fa fa-tasks fa-fw"></i> Colours Enterprise</a>
                            </div><br>
                            <div class="col-md-112">
                              <div *ngIf="company">
                                <!-- class="card" -->
                                <div class="card-header">
                                  <h6 class="card-category">
                                    Company : {{ company.name }}<br>
                                    Sector : {{ company.sector }}<br>
                                    Location : {{ company.location }}<br>
                                    Projects : {{ (projects | async)?.length }}<br>
                                  </h6>
                                </div>
                              </div>
                            </div>
                            <div class="text-left" style="padding-top: -1em; color: steelblue; ">
                              <a>My Current Priority Projects</a>
                            </div>
                          </div>
                          <div class="spacer" style="height:1em;"></div>
                          <div id="pTasklist">
                            <ol>
                              <li>
                                <div class="row">
                                  <div class="col-xs-10 " style="margin-left:2.0em">
                                    <a class="text-danger" style="color:lightgrey" href="#send_agenda">
                                      Joina City
                                    </a>
                                  </div>
                                </div>
                              </li>
                              <li>
                                <div class="row">
                                  <div class="col-xs-10 " style="margin-left:2.0em">
                                    <a class="text-danger" style="color:lightgrey" href="#send_agenda">
                                      Aripo Offices
                                    </a>
                                  </div>
                                </div>
                              </li>
                              <li>
                                <div class="row">
                                  <div class="col-xs-10 " style="margin-left:2.0em">
                                    <a class="text-danger" style="color:lightgrey" href="#send_agenda">
                                      Colours Software
                                    </a>
                                  </div>
                                </div>
                              </li>
                              <li>
                                <div class="row">
                                  <div class="col-xs-10 " style="margin-left:2.0em">
                                    <a class="text-danger" style="color:lightgrey" href="#send_agenda">
                                      Beitbridge
                                    </a>
                                  </div>
                                </div>
                              </li>
                            </ol>
                          </div>
                        </div>
                        <div class="card-body">
                          <h6 class="big-title">total subscriptions in last 7 days</h6>
                          <canvas id="emailsCampaignChart" width="826" height="150"></canvas>
                        </div><!-- height="150" -->
                        <div class="card-footer">
                          <hr>
                          <div class="row">
                            <div class="col-sm-7">
                              <div class="footer-title">View all members</div>
                            </div>
                            <div class="col-sm-5">
                              <div class="pull-right">
                                <button class="btn btn-danger btn-round btn-icon btn-sm">
                                  <i class="nc-icon nc-button-play"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-4 col-sm-6  dash-col-right">
                      <div class="card">
                        <div class="card-content btn-magnify">
                          <div class="row col-sm-12 ml-auto mr-auto" style="padding-bottom: -1em ">
                            <div class="clrs-h4" style="color:steelblue">
                              <a><i class="fa fa-feed  fa-flip-vertical fa-fw"></i> {{ (company)?.name }} News</a>
                            </div><br>
                            <div class="text-left" style="padding-top: -1em; color: steelblue;font-size: 2 ">
                              <a>High Priority Enterprise Tasks</a>
                            </div>
                          </div>
                          <div class="spacer" style="height: 1em;"></div>
                          <div id="eTasklixt" class="row col-sm-12 ml-auto mr-auto">
                            <marquee direction="up">
                              <ol style="padding-left: 14px; padding-right: 14px;">
                                <li>
                                  <div class="row">
                                    <div class="col-xs-10 " style="margin-left: 1em">
                                      <a class="text-danger" href="#Respond_to_feed" style="color:lightgrey">
                                        Increase your Ô¨Ånancial networth by using Colours
                                        to get the best results out of your efforts.
                                      </a>
                                    </div>
                                  </div>
                                </li>
                                <li>
                                  <div class="row">
                                    <div class="col-xs-10" style="margin-left:1em">
                                      <a href="#Respond_to_mail" style="color:lightgrey">
                                        Use Colours to TRACK your own daily performance metrics, review and improve on
                                        the same.
                                      </a>
                                    </div>
                                  </div>
                                </li>
                                <li>
                                  <div class="row">
                                    <div class="col-xs-10" style="margin-left:1em">
                                      <a href="#Contact_Supplier" style="color:lightgrey">
                                        Colours will help you pay attention to the effective
                                        use of yo time and your any other resources.
                                      </a>
                                    </div>
                                  </div>
                                </li>
                                <li>
                                  <div class="row">
                                    <div class="col-xs-10" style="margin-left:1em">
                                      <a href="#Aripo" style="color:lightgrey">
                                        Colours will help you squeeze the most out of your life
                                      </a>
                                    </div>
                                  </div>
                                </li>
                              </ol>
                            </marquee>
                          </div>
                        </div>
                        <!-- <div class="card-body">
                          <h6 class="big-title">total downloads in last 6 years</h6>
                          <canvas id="activeCountries" width="826" height="150"></canvas>
                        </div> -->
                        <div class="card-footer">
                          <hr>
                          <div class="row">
                            <div class="col-sm-7">
                              <div class="footer-title">View more details</div>
                            </div>
                            <div class="col-sm-5">
                              <div class="pull-right">
                                <button class="btn btn-warning btn-round btn-icon btn-sm">
                                  <i class="nc-icon nc-alert-circle-i"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="standards">
                  <p>The first thing you notice when you hold the phone is how great it feels in your hand. The cover
                    glass curves down around the sides to meet the anodized aluminum enclosure in a remarkable,
                    simplified design. </p>
                  <p>There are no distinct edges. No gaps. Just a smooth, seamless bond of metal and glass that feels
                    like one continuous surface.</p>
                </div>
                <div class="tab-pane" id="compSetup">
                  <div class="col-md-12">
                    <div class="card-body nav-hor-tabs">
                      <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                          <ul id="tabs" class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                              <a class="nav-link nav-colors active" data-toggle="tab" href="#subs" role="tab"
                                aria-expanded="false">Subsidiaries</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#dept" role="tab" aria-expanded="true">Departments</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#proj" role="tab" aria-expanded="false">Projects</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#cstaff" role="tab" aria-expanded="false">Staff
                                Register</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#client" role="tab" aria-expanded="false">Clients</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#asset" role="tab" aria-expanded="false">Asset
                                Register</a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div id="my-tab-content" class="tab-content text-center">
                        <div class="tab-pane" role="tabpanel" id="dept" aria-expanded="false">
                          <div class="card-header text-left" style="padding-top: 0px;">
                            <h5 class="card-category" style="height: 28px; font-size: 8;">
                              Company Departments<br><small>
                              </small><br>
                            </h5>
                          </div>
                          <div class="table-responsive">
                            <table class="table text-left">
                              <thead class="card-category">
                                <th>Department</th>
                                <th>Head(HOD)</th>
                                <th>Action</th>
                              </thead>
                              <tbody>
                                <tr *ngFor="let dept of departments | async" style="border-bottom: darkslategrey">
                                  <td class="td-clrs" style="padding-left: 1em">{{ dept.name }}</td>
                                  <td class="td-clrs" style="padding-left: 1em">{{ (dept.hod)?.name }}</td>
                                  <td class="td-clrs">
                                    <a *ngIf="dept.hod == null" class="btn warning btn-link btn-icon btn-sm edit"
                                      data-toggle="modal" (click)="dpTasks(dept)" data-target="#entDptStaff" rel="tooltip"
                                      title="Set department head"><i class="fa fa-edit"></i></a>
                                    <a class="btn danger btn-link btn-icon btn-sm remove" (click)="deleteDept(dept)"><i
                                        class="fa fa-times"></i></a>
                                  </td>
                                  <hr>
                                </tr>

                                <div class="">
                                  <div class="spacer" style="height:2em"></div>
                                  <input class="form-control" placeholder="Add Department" type="text" [(ngModel)]="dpt.name">
                                  <button class="primary btn-link" (click)="saveDept(dpt)">Save</button>
                                </div>
                              </tbody>
                            </table>
                          </div>
                        </div>

                        <div class="tab-pane active" id="subs" role="tabpanel" aria-expanded="true">
                          <div class="card-header text-left" style="padding-top: 0px;">
                            <h5 class="card-category" style="height: 28px; font-size: 8;">
                              Company Subsidiaries<br><small>
                              </small><br>
                            </h5>
                          </div>
                          <div class="table-responsive">
                            <!--  pro_info -->
                            <table class="table text-left">
                              <thead class="card-category">
                                <th>Subsidiary</th>
                                <th>Sector</th>
                                <th>Location</th>
                                <th>Action</th>
                              </thead>
                              <tbody>
                                <tr *ngFor="let subsidiary of subsidiaries | async">
                                  <!--  style="border-bottom: darkslategrey" -->
                                  <td class=" td-clrs" style="padding-left: 1em">{{ subsidiary.name }}</td>
                                  <td class=" td-clrs" style="padding-left: 1em">{{ subsidiary.sector }}</td>
                                  <td class=" td-clrs" style="padding-left: 1em">{{ subsidiary.location }}</td>
                                  <td class=" td-clrs">
                                    <!-- <a class="btn warning btn-link btn-icon btn-sm edit" rel="tooltip" title="Select Department"><i class="fa fa-edit"></i></a> -->
                                    <a class="btn danger btn-link btn-icon btn-sm remove" (click)="deleteSubs(subsidiary)"><i
                                        class="fa fa-times"></i></a>
                                  </td>
                                  <hr>
                                </tr>
                              </tbody>
                            </table>
                            <div class="text-left">
                              <div class="spacer" style="height:2em"></div>
                              <div class="card-header text-left" style="padding-top: 0px;">
                                <h5 class="card-category" style="height: 28px; font-size: 8;">
                                  Add Subsidiary
                                </h5>
                              </div>
                              <div class="row">
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="nc-icon nc-tablet-2"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Subsidiary name..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="subsidiary.name">
                                  </div>
                                </div>
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="nc-icon nc-tag-content"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Location..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="subsidiary.location">
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="nc-icon nc-tag-content"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Industry sector..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="subsidiary.sector">
                                  </div>
                                </div>
                              </div>
                              <button class="primary btn-link" (click)="saveSubsidiary()">save</button>
                            </div>
                          </div>
                        </div>

                        <div class="tab-pane" id="proj" role="tabpanel" aria-expanded="false">

                          <div class=" row card-header text-left" style="padding-top: 0px;">
                            <h5 class="card-category col-md-8" style="height: 28px; font-size: 8;">
                              Company projects<br><small>
                              </small><br>
                            </h5>
                            <a class="info btn-link" rel="tooltip" routerLink="/work" title="create project">
                              <!--  (click)="joinProject(project)" style="cursor:default"-->Create 
                            </a>
                            <span style="padding-top: 8px;">/</span>
                            <a class="info btn-link" rel="tooltip" routerLink="/projects/join-project" title="Join project">
                              <!--  (click)="joinProject(project)" style="cursor:default"-->Join project
                            </a>
                          </div>
                          <div class="table-responsive pro_info">
                            <table class="table">
                              <thead class="card-category">
                                <th class="text-left">Name</th>
                                <th>Sector</th>
                                <th>Location</th>
                                <!-- <th>Project Id</th> -->
                                <th>Action</th>
                              </thead>
                              <tbody>
                                <tr *ngFor="let project of projects | async">
                                  <!--  [routerLink]="[ '/projects/', project.id ]" -->
                                  <td class="text-left"> {{ project.name }} </td>
                                  <td> {{ project.sector }}</td>
                                  <td> {{ project.location }}</td>
                                  <!-- <td> {{ project.id }} </td> -->
                                  <td class="text-center">

                                    <a class="btn btn-warning btn-link btn-icon btn-sm edit" rel="tooltip" data-toggle="modal"
                                      data-target="#confirmModal" (click)="setProject(project)" title="join project">
                                      <!--  (click)="joinProject(project)" style="cursor:default"-->
                                      <i class="fa fa-edit"></i>
                                    </a>
                                    <a *ngIf="project.byId == userId" class="btn btn-danger btn-link btn-icon btn-sm remove"
                                      (click)="deleteProject(project.id)">
                                      <i class="fa fa-times"></i>
                                    </a>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>

                        <div class="tab-pane" id="cstaff" role="tabpanel" aria-expanded="false">
                          <div class="row">
                            <div class="col-md-12">
                              <div class="card-header text-left" style="padding-top: 0px;">
                                <h5 class="card-category title clrs-h4" style="height: 28px; font-size: 8;">
                                  Company Staff<br><small>
                                  </small><br>
                                </h5>
                              </div>
                              <div class="table-responsive">
                                <table class="table text-left">
                                  <thead class="card-category">
                                    <th>Staff</th>
                                    <th>Department</th>
                                    <th>Action</th>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let person of allStaff | async" style="border-bottom: #2f4f4f">
                                      <td class="td-clrs" style="padding-left: 1em">{{ person.name }}</td>
                                      <td class="td-clrs" style="padding-left: 1em">{{ person.department }}</td>
                                      <td class="td-clrs">
                                        <a *ngIf="!person.department" class="btn warning btn-link btn-icon btn-sm edit"
                                          rel="tooltip" title="Add to Department" (click)="selectUser(person)"
                                          data-toggle="modal" data-target="#addStaffdpt">
                                          <i class="fa fa-edit"></i></a>
                                        <a class="btn danger btn-link btn-icon btn-sm remove" (click)="deleteStaff(person)"><i
                                            class="fa fa-times"></i></a>
                                      </td>
                                      <hr>
                                    </tr>
                                  </tbody>
                                </table>
                                <div class="text-left">
                                  <div class="row" style="padding-top: 0px;">
                                    <div class="col-ms-8">
                                      <div class="card-header text-left">
                                        <h5 class="card-category" style="height: 28px; font-size: 8;">
                                          Add new staff
                                        </h5>
                                      </div>
                                    </div>
                                    <div class="col-ms-4 mr-auto ml-auto">
                                      <div class="card-header text-right">
                                        <h5 class="card-category" style="height: 28px; font-size: 8;">
                                          Add from <button class="primary btn-link" data-toggle="modal" data-target="#usersList">Colours
                                            Users</button>
                                        </h5>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-10">
                                      <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                        <div class="input-group-prepend">
                                          <span class="input-group-text">
                                            <i class="fa fa-user-md"></i>
                                          </span>
                                        </div>
                                        <input type="text" class="form-control" placeholder="Staff name..." (focus)="focus=true"
                                          (blur)="focus=false" [(ngModel)]="companystaff.name">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-10">
                                      <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                        <div class="input-group-prepend">
                                          <span class="input-group-text">
                                            <i class="nc-icon nc-tag-content"></i>
                                          </span>
                                        </div>
                                        <input type="text" class="form-control" placeholder="Phone number ..." (focus)="focus=true"
                                          (blur)="focus=false" [(ngModel)]="companystaff.phoneNnumber">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-10">
                                      <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                        <div class="input-group-prepend">
                                          <span class="input-group-text">
                                            <i class="nc-icon nc-email-85"></i>
                                          </span>
                                        </div>
                                        <input type="email" class="form-control" placeholder="email address ..."
                                          (focus)="focus=true" (blur)="focus=false" [(ngModel)]="companystaff.email">
                                      </div>
                                    </div>
                                  </div>
                                  <button class="primary btn-link" (click)="saveStaff(companystaff)">save</button>
                                </div>
                              </div>
                            </div>
                            <!-- <div class="col-md-4 mr-auto ml-auto">
                              <div class="card-plain">
                                <div class="card-header text-left" style="padding-top: 0px;">
                                  <h5 class="card-category title clrs-h4" style="height: 28px; font-size: 8;">
                                    Connection Requests<br><small>
                                    </small><br>
                                  </h5>
                                </div>
                                <ul>
                                  <li *ngFor="let rMan of staffRequests | async"><span>{{ rMan.name }}</span><span><button
                                        class="btn-link" (click)="acceptRequest(rMan)"> Accept
                                      </button></span></li>
                                </ul>
                              </div>
                            </div> -->
                          </div>
                        </div>

                        <div class="tab-pane" id="client" role="tabpanel" aria-expanded="false">
                          <div class="">
                            <div class="card-header text-left" style="padding-top: 0px;">
                              <h5 class="card-category" style="height: 28px; font-size: 8;">
                                Company Client Accounts<br><small>
                                </small><br>
                              </h5>
                            </div>
                            <div class="table-responsive">
                              <!--  pro_info -->
                              <table class="table text-left">
                                <thead class="card-category">
                                  <th>Client</th>
                                  <th>Contact person</th>
                                  <th>Action</th>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let user of clients | async" style="border-bottom: darkslategrey">
                                    <td class="td-clrs" style="padding-left: 1em">{{ (user)?.name }}</td>
                                    <td class="card-category td-clrs" style="padding-left: 1em">
                                      <span *ngIf="user.contactPerson">
                                        {{ user.contactPerson.name }}
                                      </span>
                                      <span *ngIf="user.champion">
                                        {{ user.champion.name }}
                                      </span></td>
                                    <td class="td-clrs">
                                      <button class="btn-link btn-icon edit" rel="tooltip" title="Send mail"><i class="nc-icon nc-email-85"></i></button>
                                      <button class=" btn-link btn-icon remove" (click)="deleteDept(dept)"><i class="nc-icon nc-simple-remove"></i></button>
                                    </td>
                                    <hr>
                                  </tr>
                                </tbody>
                              </table>
                              <div class="text-left">
                                <div class="spacer" style="height:2em"></div>
                                <div class="card-body">
                                  <div class="row text-info">
                                    <div class="col-md-1"></div>
                                    <div class="col-md-10 ml-auto mr-auto">
                                      <a style="cursor: context-menu" data-toggle="modal" data-target="#companyPicker">Pick
                                        client from existing Companies in Colours</a>
                                    </div>
                                  </div>
                                  <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
                                    <div class="card card-plain">
                                      <div class="card-header" role="tab" id="headingOne">
                                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse2"
                                          aria-expanded="false" aria-controls="collapse2">
                                          Add Client
                                          <i class="nc-icon nc-minimal-down"></i>
                                        </a>
                                      </div>
                                      <div id="collapse2" class="collapse" role="tabpanel" aria-labelledby="heading2">
                                        <div class="card-body">
                                          <div class="row">
                                            <div class="col-md-5">
                                              <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-suitcase"></i>
                                                  </span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Company name..."
                                                  (focus)="focus=true" (blur)="focus=false" [(ngModel)]="client.name">
                                              </div>
                                            </div>
                                          </div>
                                          <div class="card-header text-left" style="padding-top: 0px;">
                                            <h5 class="card-category" style="font-size: 8; padding-top: 4px; margin-bottom: 6px;">
                                              Contact personel details
                                            </h5>
                                          </div>
                                          <div class="row">
                                            <div class="col-md-7">
                                              <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="nc-icon nc-email-85"></i>
                                                  </span>
                                                </div>
                                                <input type="email" class="form-control" placeholder="email..." (focus)="focus=true"
                                                  (blur)="focus=false" [(ngModel)]="contactPerson.email">
                                              </div>
                                            </div>
                                          </div>
                                          <div class="row">
                                            <div class="col-md-5">
                                              <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-user-o"></i>
                                                  </span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Contact name..."
                                                  (focus)="focus=true" (blur)="focus=false" [(ngModel)]="contactPerson.name">
                                              </div>
                                            </div>
                                            <div class="col-md-5">
                                              <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-phone"></i>
                                                  </span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Phone number..."
                                                  (focus)="focus=true" (blur)="focus=false" [(ngModel)]="contactPerson.phoneNumber">
                                              </div>
                                            </div>
                                          </div>
                                          <button class="primary btn-link" (click)="saveClient(asset)">save</button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="tab-pane" id="asset" role="tabpanel" aria-expanded="false">
                          <div class="card-header text-left" style="padding-top: 0px;">
                            <h5 class="card-category" style="height: 28px; font-size: 8;">
                              Company Asset Register<br><small>
                              </small><br>
                            </h5>
                          </div>
                          <div class="table-responsive">
                            <!--  pro_info -->
                            <table class="table text-left">
                              <thead class="card-category">
                                <th>Asset</th>
                                <th>Asset No.</th>
                                <th>Action</th>
                              </thead>
                              <tbody>
                                <tr *ngFor="let asset of assets | async" style="border-bottom: darkslategrey">
                                  <td class="td-clrs" style="padding-left: 1em">{{ asset.name }}</td>
                                  <td class="td-clrs" style="padding-left: 1em">{{ asset.number }}</td>
                                  <td class="td-clrs">
                                    <a class="btn warning btn-link btn-icon btn-sm edit" rel="tooltip" title="Select Department"><i
                                        class="fa fa-edit"></i></a>
                                    <a class="btn danger btn-link btn-icon btn-sm remove" (click)="removeAsset(asset)"><i
                                        class="fa fa-times"></i></a>
                                  </td>
                                  <hr>
                                </tr>
                              </tbody>
                            </table>
                            <div class="text-left">
                              <div class="spacer" style="height:2em"></div>
                              <div class="card-header text-left" style="padding-top: 0px;">
                                <h5 class="card-category" style="height: 28px; font-size: 8;">
                                  Add Asset
                                </h5>
                              </div>
                              <div class="row">
                                <div class="col-md-8">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="nc-icon nc-tablet-2"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Asset name..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="asset.name">
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="nc-icon nc-tablet-2"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Serial /Reg No..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="asset.number">
                                  </div>
                                </div>
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="fa fa-usd"></i>
                                      </span>
                                    </div>
                                    <input type="number" class="form-control" placeholder="Asset Cost value..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="asset.cost">
                                  </div>
                                </div>
                              </div>
                              <button class="primary btn-link" (click)="saveAsset(asset)">save</button>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="planning">
                  <div class="col-md-12">
                    <div class="card-body nav-hor-tabs">
                      <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                          <ul id="tabs" class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                              <a class="nav-link nav-colors  active" data-toggle="tab" href="#week" role="tab"
                                aria-expanded="true">Week</a><!--  (click)="setPeriod('startWeek')" -->
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#month" role="tab" aria-expanded="false">Month</a><!--  (click)="setPeriod('startMonth')" -->
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#quarter" role="tab" aria-expanded="false">Quarter</a><!--  (click)="setPeriod('startQuarter')" -->
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#year" role="tab" aria-expanded="false">Year</a><!--  (click)="setPeriod('startYear')" -->
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div id="my-tab-content" class="tab-content text-center">
                        <div class="tab-pane" id="day" role="tabpanel" aria-expanded="true">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startDay')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>
                                  {{ currentDay }}'s Tasks
                                  <button class="btn-link" (click)="changePeriod('next','startDay')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div class="table-responsive">
                                <table class="table">
                                  <thead class="text-primary">
                                    <th class="text-left">Name</th>
                                    <th class="text-center">Project</th>
                                    <th class="text-center">Champion</th>
                                    <th class="text-right">Start Date</th>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let tss of todayTasks | async">
                                      <td class="text-left td-clrs">{{ tss.name }}</td>
                                      <td class="text-left td-clrs">{{ tss.projectName }}</td>
                                      <td class="text-left td-clrs">{{ tss.champion.name }}</td>
                                      <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                      <!-- <td class="text-right td-clrs">
                                      <button type="button" rel="tooltip" class="btn btn-info btn-icon btn-sm   btn-neutral  ">
                                        <i class="fa fa-user"></i>
                                      </button>
                                      <button type="button" rel="tooltip" class="btn btn-success btn-icon btn-sm   btn-neutral  ">
                                        <i class="fa fa-edit"></i>
                                      </button>
                                      <button type="button" rel="tooltip" class="btn btn-danger btn-icon btn-sm   btn-neutral  ">
                                        <i class="fa fa-times"></i>
                                      </button>
                                    </td> -->
                                    </tr>
                                    <tr class="text-left">
                                      <button rel="tooltip" title="click to create a task" class="btn-link" data-toggle="modal"
                                        data-target="#tskModal">New Task</button>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane active" id="week" role="tabpanel" aria-expanded="false">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startWeek')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>Week {{ currentWeek.week() }}'s Tasks of
                                  Year {{ currentWeek.year() }}
                                  <button class="btn-link" (click)="changePeriod('next','startWeek')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div aria-multiselectable="true" class="card-collapse" id="accordionDay" role="tablist">
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day0')" data-toggle="collapse" href="#planDay0"
                                      aria-expanded="false" aria-controls="planDay0">
                                      {{ day0label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay0" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of todayTasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day1')" data-toggle="collapse" href="#planDay1"
                                      aria-expanded="false" aria-controls="planDay1">
                                      {{ day1label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay1" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day1Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day2')" data-toggle="collapse" href="#planDay2"
                                      aria-expanded="false" aria-controls="planDay2">
                                      {{ day2label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay2" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day2Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day3')" data-toggle="collapse" href="#planDay3"
                                      aria-expanded="false" aria-controls="planDay3">
                                      {{ day3label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay3" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day3Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day4')" data-toggle="collapse" href="#planDay4"
                                      aria-expanded="false" aria-controls="planDay4">
                                      {{ day4label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay4" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day4Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day5')" data-toggle="collapse" href="#planDay5"
                                      aria-expanded="false" aria-controls="planDay5">
                                      {{ day5label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay5" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day5Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day6')" data-toggle="collapse" href="#planDay6"
                                      aria-expanded="false" aria-controls="planDay6">
                                      {{ day6label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay6" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day6Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane" id="month" role="tabpanel" aria-expanded="false">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startMonth')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>
                                  {{ currentMonth }}<small>th</small> month's Tasks of Year {{ currentYear }} {{
                                  monthLabel }}
                                  <button class="btn-link" (click)="changePeriod('next','startMonth')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div aria-multiselectable="true" class="card-collapse" id="accordionWeek" role="tablist">
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pWeek">
                                    <a class="collapsed" (click)="setWeek('week0')" data-toggle="collapse" href="#planWeek0"
                                      aria-expanded="false" aria-controls="planWeek0">
                                      Week {{ week0label.week() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planWeek0" class="collapse" aria-labelledby="pWeek" data-parent="#accordionWeek">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of week0Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pWeek">
                                    <a class="collapsed" (click)="setWeek('week1')" data-toggle="collapse" href="#planWeek1"
                                      aria-expanded="false" aria-controls="planWeek1">
                                      Week {{ week1label.week() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planWeek1" class="collapse" aria-labelledby="pWeek" data-parent="#accordionWeek">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of week1Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pWeek">
                                    <a class="collapsed" (click)="setWeek('week2')" data-toggle="collapse" href="#planWeek2"
                                      aria-expanded="false" aria-controls="planWeek2">
                                      Week {{ week2label.week() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planWeek2" class="collapse" aria-labelledby="pWeek" data-parent="#accordionWeek">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of week2Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pWeek">
                                    <a class="collapsed" (click)="setWeek('week3')" data-toggle="collapse" href="#planWeek3"
                                      aria-expanded="false" aria-controls="planWeek3">
                                      Week {{ week3label.week() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planWeek3" class="collapse" aria-labelledby="pWeek" data-parent="#accordionWeek">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of week3Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane" id="quarter" role="tabpanel" aria-expanded="false">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startQuarter')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>
                                  {{ currentQuarter }}<small>th</small> Quarter's Tasks of Year {{ currentYear }}
                                  <button class="btn-link" (click)="changePeriod('next','startQuarter')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div aria-multiselectable="true" class="card-collapse" id="accordionMonth" role="tablist">
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pMonth">
                                    <a class="collapsed" (click)="setMonth('month1')" data-toggle="collapse" href="#planMonth1"
                                      aria-expanded="false" aria-controls="planMonth1">
                                      {{ month1label.format('MMMM') }}, {{ month1label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planMonth1" class="collapse" aria-labelledby="pMonth" data-parent="#accordionMonth">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of month1Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pMonth">
                                    <a class="collapsed" (click)="setMonth('month2')" data-toggle="collapse" href="#planMonth2"
                                      aria-expanded="false" aria-controls="planMonth2">
                                      {{ month2label.format('MMMM') }}, {{ month2label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planMonth2" class="collapse" aria-labelledby="pMonth" data-parent="#accordionMonth">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of month2Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pMonth">
                                    <a class="collapsed" (click)="setMonth('month3')" data-toggle="collapse" href="#planMonth3"
                                      aria-expanded="false" aria-controls="planMonth3">
                                      {{ month3label.format('MMMM') }}, {{ month3label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planMonth3" class="collapse" aria-labelledby="pMonth" data-parent="#accordionMonth">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of month3Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane" id="year" role="tabpanel" aria-expanded="false">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startYear')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>
                                  Year {{ currentYear }}'s Tasks
                                  <button class="btn-link" (click)="changePeriod('next','startYear')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div aria-multiselectable="true" class="card-collapse" id="accordionQuarter" role="tablist">
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pQuarter">
                                    <a class="collapsed" (click)="setQuarter('quarter0')" data-toggle="collapse" href="#planQuarter0"
                                      aria-expanded="false" aria-controls="planQuarter0">
                                      {{ quarter0label.quarter() }} Quarter of year {{ quarter0label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planQuarter0" class="collapse" aria-labelledby="pQuarter" data-parent="#accordionQuarter">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <!-- <th class="text-left">Id</th> -->
                                            <th class="text-left">Project</th>
                                            <th class="text-right">Start Date</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of quarter0Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <!-- <td class="text-left td-clrs">{{ tss.id }}</td> -->
                                              <td class="text-left td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=5> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip"
                                                    (click)="deleteTask(tss)" title="Remove {{ tss.name }} to a department">Remove</button>
                                                </div>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pQuarter">
                                    <a class="collapsed" (click)="setQuarter('quarter1')" data-toggle="collapse" href="#planQuarter1"
                                      aria-expanded="false" aria-controls="planQuarter1">
                                      {{ quarter1label.quarter() }} Quarter of year {{ quarter1label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planQuarter1" class="collapse" aria-labelledby="pQuarter" data-parent="#accordionQuarter">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of quarter1Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pQuarter">
                                    <a class="collapsed" (click)="setQuarter('quarter2')" data-toggle="collapse" href="#planQuarter2"
                                      aria-expanded="false" aria-controls="planQuarter2">
                                      {{ quarter2label.quarter() }} Quarter of year {{ quarter2label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planQuarter2" class="collapse" aria-labelledby="pQuarter" data-parent="#accordionQuarter">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of quarter2Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pQuarter">
                                    <a class="collapsed" (click)="setQuarter('quarter3')" data-toggle="collapse" href="#planQuarter3"
                                      aria-expanded="false" aria-controls="planQuarter3">
                                      {{ quarter3label.quarter() }} Quarter of year {{ quarter3label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planQuarter3" class="collapse" aria-labelledby="pQuarter" data-parent="#accordionQuarter">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Project</th>
                                            <th class="text-right">Start Date</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of quarter3Tasks | async">
                                              <td class="text-left td-clrs">{{ tss.name }}</td>
                                              <td class="text-center td-clrs">{{ tss.projectName }}</td>
                                              <td class="text-right td-clrs">{{ tss.start | date }}</td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New
                                                Task</button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="implement">
                  <div class="card">
                    <div class="card-body" style="padding-top:0px">
                      <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                          <ul id="tabs" class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                              <a class="nav-link nav-colors active" data-toggle="tab" href="#cIntray" role="tab"
                                aria-expanded="true">In-tray For whole company</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#dIntray" role="tab" aria-expanded="false">In-tray
                                For Each Department</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#weekly" role="tab" aria-expanded="true">Weekly
                                Calendar</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" (click)="initDiary()" href="#diary" role="tab"
                                aria-expanded="false">Daily Diary</a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div id="my-tab-content" class="tab-content text-center">
                        <div class="tab-pane active" id="cIntray" role="tabpanel" aria-expanded="true">
                          <div class="row">
                            <div class="col-md-6 ml-auto mr-auto">
                              <div class="card">
                                <div class="card-body text-center" style="padding-top:0px">
                                  <div class="card-header text-left">
                                    <p class="title na-an" style="color: steelblue"><i class="ti-palette"></i> Things
                                      To Do In Tray For company</p>
                                    Task List
                                  </div>
                                  <div class="card-body">
                                    <div id="accordionTsk" role="tablist" aria-multiselectable="true" class="card-collapse">
                                      <div class="card card-plain">
                                        <div class="card-header text-left" role="tab" id="headingOne">
                                          <a data-toggle="collapse" href="#Outstanding" aria-expanded="true"
                                            aria-controls="Outstanding">
                                            Outstanding Tasks
                                            <i class="nc-icon nc-minimal-down"></i>
                                          </a>
                                        </div>
                                        <div id="Outstanding" class="collapse show" role="tabpanel" aria-labelledby="headingOne"
                                          data-parent="#accordionTsk">
                                          <div class="card-body">
                                            <div class="content container scroll-em">
                                              <ol style="padding-left:18px;">
                                                <li class="" style="color:steelblue" *ngFor="let tss of OutstandingTasks">
                                                  <div class="row">
                                                    <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                                      <button class="dropdown-toggle btn-link" id="dropdownMenuButton"
                                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="color:slategrey">
                                                        {{ tss.name }}<span class="label text-warning"> {{ tss.when }}</span>
                                                      </button>
                                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                        <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          (click)="selectTask(tss)" data-toggle="modal" data-target="#dptModal"
                                                          title="Add {{ tss.name }} to a department">Add to department</button>
                                                        <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          data-toggle="modal" data-target="#tskModal" (click)="closeTask(project)"
                                                          title="Set task as completed">Task Complete</button>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </li>
                                              </ol>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="card card-plain">
                                        <div class="card-header text-left" role="tab" id="headingTwo">
                                          <a class="collapsed" data-toggle="collapse" href="#currentTsk" aria-expanded="false"
                                            aria-controls="currentTsk">
                                            Current Tasks
                                            <i class="nc-icon nc-minimal-down"></i>
                                          </a>
                                        </div>
                                        <div id="currentTsk" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionTsk">
                                          <div class="card-body">
                                            <div class="content container scroll-em">
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let tss of CurrentTAsks">
                                                  <div class="row">
                                                    <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                                      <button class="dropdown-toggle btn-link" id="dropdownMenuButton"
                                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="color:slategrey">
                                                        {{ tss.name }}<span class="label text-warning"> {{ tss.when }}</span>
                                                      </button>
                                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                        <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          (click)="selectTask(tss)" data-toggle="modal" data-target="#dptModal"
                                                          title="Add {{ tss.name }} to a department">Add to department</button>
                                                        <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          data-toggle="modal" data-target="#tskModal" (click)="closeTask(project)"
                                                          title="Set task as completed">Task Complete</button>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </li>
                                              </ol>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="card card-plain">
                                        <div class="card-header text-left" role="tab" id="headingThree">
                                          <a class="collapsed" data-toggle="collapse" href="#upcoming" aria-expanded="false"
                                            aria-controls="upcoming">
                                            Upcoming Tasks
                                            <i class="nc-icon nc-minimal-down"></i>
                                          </a>
                                        </div>
                                        <div id="upcoming" class="collapse" aria-labelledby="headingThree" data-parent="#accordionTsk">
                                          <div class="card-body">
                                            <div class="content container scroll-em">
                                              Short Term Tasks<br>
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let event of ShortTermTAsks">
                                                  <div class="row">
                                                    <div class="col-sm-12" style="margin-left:.5em; margin-right:-.5em">
                                                      <button class="btn-link" style="color:slategrey">
                                                        {{ event.name }}<span class="label text-warning"> {{ event.when }}</span>
                                                      </button>
                                                    </div>
                                                  </div>
                                                </li>
                                              </ol>
                                              Medium Term Tasks<br>
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let event of MediumTermTAsks">
                                                  <div class="row">
                                                    <div class="col-sm-12" style="margin-left:.5em; margin-right:-.5em">
                                                      <button class="btn-link" style="color:slategrey">
                                                        {{ event.name }}<span class="label text-warning"> {{ event.when }}</span>
                                                      </button>
                                                    </div>
                                                  </div>
                                                </li>
                                              </ol>
                                              Long Term Tasks<br>
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let event of LongTermTAsks">
                                                  <div class="row">
                                                    <div class="col-sm-12" style="margin-left:.5em; margin-right:-.5em">
                                                      <button class="btn-link" style="color:slategrey">
                                                        {{ event.name }}<span class="label text-warning"> {{ event.when }}</span>
                                                      </button>
                                                    </div>
                                                  </div>
                                                </li>
                                              </ol>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6 ml-auto mr-auto">
                              <div class="card">
                                <div class="card-body text-center" style="padding-top:0px">
                                  <div class="card-header">
                                    <p class="title na-an" style="color: steelblue"><i class="ti-palette"></i>
                                      Allocate to Department</p>
                                    <div id="accordionB" role="tablist" aria-multiselectable="true" class="card-collapse">
                                      <ul>
                                        <!-- <li *ngFor="let department of companyDpts | async"> -->
                                        <li *ngFor="let department of departments | async">
                                          <div class="card card-plain">
                                            <div class="card-header" role="tab" id="heading2">
                                              <a class="collapsed" data-toggle="collapse" href="#{{  department.id  }}"
                                                (click)="showTasks(department)" aria-expanded="false" aria-current="false">{{
                                                department.name }}<i class="nc-icon nc-minimal-down"></i>
                                              </a>
                                            </div>
                                            <div id="{{  department.id  }}" class="collapse" data-parent="#accordionB"
                                              role="tabpanel" aria-labelledby="heading2">
                                              <div class="card-body">
                                                <ol>
                                                  <li *ngFor="let task of dptIntrayTasks | async" class="text-left"
                                                    style="padding-left: 2em"> {{ task.name }}</li>
                                                </ol>
                                              </div>
                                            </div>
                                          </div>
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane" id="dIntray" role="tabpanel" aria-expanded="false">
                          <div class="row">
                            <div class="col-md-6 ml-auto mr-auto">
                              <div class="card">
                                <div class="card-body text-center" style="padding-top:0px">
                                  <div class="card-header text-left">
                                    <p class="title na-an" style="color: steelblue"><i class="ti-palette"></i>
                                      Things To Do In Tray For Departments</p>
                                    <div class="row">
                                      <div class="col-md-12">
                                        <ng-select placeholder="Select department" [(ngModel)]="dpId" (change)="showDpTasks(dpId)">
                                          <ng-option *ngFor="let department of departments | async" [value]="department.id">
                                            {{ department.name }}</ng-option>
                                        </ng-select>
                                      </div>
                                    </div>
                                    <div *ngIf="dpId">
                                      <div class="card-body">
                                        <div class="row">
                                          <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                            <div id="accordionTasks" role="tablist" aria-multiselectable="true" class="card-collapse">
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let tss of dptTasks | async">
                                                  <div class="row">
                                                    <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                                      <button class="dropdown-toggle btn-link" id="dropdownMenuButton"
                                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="color:slategrey">
                                                        {{ tss.name }}<span class="label text-warning"> {{ tss.when }}</span>
                                                      </button>
                                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                        <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          (click)="selectTask(tss)" data-toggle="modal" data-target="#taskdptStaff"
                                                          title="Assign {{ tss.name }} to a department champion ">
                                                          Reallocate Champion
                                                        </button>
                                                        <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          data-toggle="modal" data-target="#tskModal" title="Set task as completed">Task
                                                          Complete</button>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </li>
                                              </ol>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6 ml-auto mr-auto">
                              <div class="card">
                                <div class="card-body text-center" style="padding-top:0px">
                                  <div class="card-header">
                                    <p class="title na-an text-left" style="color: steelblue"><i class="ti-palette"></i>
                                      Allocate to Staff</p>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-12">
                                      <ng-select placeholder="Select staff" [(ngModel)]="staffId" (change)="showUserTasks(staffId)">
                                        <ng-option *ngFor="let user of dptStaff | async" [value]="user.id">{{ user.name }}</ng-option>
                                      </ng-select>
                                    </div>
                                  </div>
                                  <div *ngIf="staffId">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                          <div id="accordionTasks2" role="tablist" aria-multiselectable="true" class="card-collapse">
                                            <ol>
                                              <li class="" style="color:steelblue" *ngFor="let tss of staffTasks | async">
                                                <div class="card card-plain">
                                                  <div class="card-header" role="tab" id="heading2">
                                                    <a class="collapsed" data-toggle="collapse" href="#{{ tss.id }}"
                                                      (click)="showTaskActions(tss)" aria-expanded="false" aria-current="false">
                                                      {{ tss.name }}<span class="label text-warning"> {{ tss.when }}</span><i
                                                        class="nc-icon nc-minimal-down"></i>
                                                    </a>
                                                  </div>
                                                  <div id="{{ tss.id }}" class="collapse" data-parent="#accordionTasks2"
                                                    role="tabpanel" aria-labelledby="heading2">
                                                    <div class="card-body">
                                                      <ul>
                                                        <li *ngFor="let item of taskActions | async">
                                                          <div class="row">
                                                            <div class="col-md-9">
                                                              <button class="warning btn-link" id="dropdownMenuButton"
                                                                data-toggle="dropdown" aria-haspopup="true"
                                                                aria-expanded="false" style="color:slategrey" (click)="selectAction(item)">
                                                                {{ item.name }}<span class="label text-info" hidden> {{
                                                                  item.targetQty }} {{ item.siu }}</span>
                                                              </button>
                                                              <!-- <div class="dropdown-menu dropdown-menu-right"
                                                                aria-labelledby="dropdownMenuButton">
                                                                <button class="dropdown-item btn-info btn-link" rel="tooltip"
                                                                  data-toggle="modal" data-target="#tskModal" (click)="closeTask(project)"
                                                                  title="Set task as completed">Action Complete</button>
                                                                <button class="dropdown-item primary btn-link" rel="tooltip"
                                                                  data-toggle="modal" data-target="#actionParticipants"
                                                                  (click)="selectAction(item)" title="Set task as completed">Add
                                                                  Participants</button>
                                                                <button class="dropdown-item btn-info btn-link" rel="tooltip"
                                                                  title="Assign action to Staff"
                                                                  data-toggle="modal" data-target="#dptStaffList">Assign
                                                                  Champion</button>
                                                              </div> -->
                                                            </div>
                                                            <div class="col-md-3" style="padding-top: 12px;">
                                                              <input class="card-category pull-right col-form-label"
                                                                type="checkbox" (change)="selectActions($event, item)">
                                                            </div>
                                                          </div>
                                                        </li>
                                                      </ul>
                                                    </div>
                                                    <button class="btn-link btn-round primary" (click)="selectTask(tss)"
                                                      data-toggle="modal" data-target="#newAction">
                                                      <small>Add action item</small></button>
                                                  </div>
                                                </div>
                                              </li>
                                            </ol>
                                          </div>
                                        </div>
                                      </div>
                                      <!-- <div class="row text-center"> -->
                                      <p class="na-an text-center" style="color: steelblue; margin-bottom: 0px;"><i
                                          class="ti-palette"></i>list of this weeks selected
                                        action items</p><br><br>
                                      <!-- </div> -->
                                      <div class="col-sm-10">
                                        <ol>
                                          <li *ngFor="let item of selectedActionItems" class="text-left">
                                            {{ item.name }}
                                          </li>
                                        </ol>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>


                        <div class="tab-pane" id="weekly" role="tabpanel" aria-expanded="false">
                          <div class="row card-category clrs-h4">
                            <div class="col-xs-1"></div>
                            <div class="col-md-3">Action Item</div>
                            <div class="col-md-3 text-left na-an">Start</div>
                            <div class="col-md-3 text-left ma-an">Finish</div>
                            <div class="col-md-3 text-left ma-an">Actions</div>
                          </div>
                          <div id="accordionTasksActions" role="tablist" aria-multiselectable="true" class="card-collapse">
                            <ol>
                              <li *ngFor="let item of companyActions">
                                <div class="row card-category">
                                  <div class="col-sm-2 text-left"><a>{{ item.name }}</a></div>
                                  <div class="col-sm-3 text-left"><a>{{ item.startDay }}, {{ item.startDate }}</a></div>
                                  <div class="col-sm-3 text-left"><a>{{ item.endDay }}, {{ item.endDate }}</a></div>
                                  <div>
                                    <small>
                                      <button class="primary btn-link" (click)="selectEditAction(item)" data-toggle="modal"
                                        data-target="#editAction">
                                        Add date
                                      </button><button class="primary btn-link" data-toggle="modal" (click)="select2EditAction(item);"
                                        data-target="#actionItemParticipants">
                                        Participants
                                      </button>
                                    </small>
                                  </div>
                                </div>
                              </li>
                            </ol>
                          </div>
                        </div>


                        <div class="tab-pane" id="diary" role="tabpanel" aria-expanded="false">
                          <div class="row card-category clrs-h4">
                            <div class="col-sm-3">
                              <a class="clrs-h1 text-left">Daily Diary</a>
                            </div>
                            <div class="col-sm-2"></div>
                            <div class="col-sm-2"><a class="btn btn-primary btn-link a-mycol" (click)="changeDay('previous','startDate')">Previous</a></div>
                            <div class="col-sm-3 clrs-h4 text-info">{{ workWeekDay }} {{ workDay }}</div>
                            <div class="col-sm-2"><a class="btn btn-primary btn-link a-mycol" (click)="changeDay('next','startDate')">Next</a></div>
                          </div>
                          <div class="card-body" style="margin-top: -10px">
                            <div class="row">
                              <!-- <div class="col-sm-1 card-header text-center"></div> -->
                              <div class="col-sm-2 card-header text-center">Item</div>
                              <div class="col-sm-3 card-header">Target Qty</div>
                              <div class="col-sm-2 card-header text-left">Start </div>
                              <div class="col-sm-2 card-header text-left">Finish </div>
                              <div class="col-sm-2 card-header text-left">Action</div>
                            </div>
                            <!-- <div class="col-sm-12"> -->
                            <ol style="padding-left: 10px;">
                              <!-- <li *ngFor="let item of viewActions | async"> -->
                              <li *ngFor="let item of viewDayActions">
                                <div class="row">
                                  <div class="col-sm-2">
                                    <a> {{ item.name }}</a>
                                  </div>
                                  <div class="col-sm-3" style="padding-left: 5px; padding-right:5px">
                                    <div class="form-group">
                                      <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                        <input type="text" class="form-control panel-boader" [(ngModel)]="item.targetQty"
                                          style=" padding-left: 10px; padding-right: 10px; height:2em" placeholder="1 200" /><!-- clrs-cell  -->
                                        <div class="input-group-postpend">
                                          <span class="input-group-text" style=" padding-left: 10px; padding-right: 10px; height:28px">
                                            <small>{{ item.unit }}</small>
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-sm-2" style="padding-left: 5px; padding-right:5px">
                                    <div class="form-group">
                                      <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.start"
                                        style=" padding-left: 10px; padding-right: 10px; height:2em" placeholder="Time from" />
                                      <!-- clrs-cell  -->
                                    </div>
                                  </div>
                                  <div class="col-sm-2" style="padding-left: 5px; padding-right:5px">
                                    <div class="form-group">
                                      <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.end"
                                        style=" padding-left: 10px; padding-right: 10px;  height:2em" placeholder="Time to" />
                                      <!-- clrs-cell  -->
                                    </div>
                                  </div>
                                  <div class="col-sm-3" style="padding-left: 0px; padding-right:50px">
                                    <div class="form-group">
                                      <small><button class="primary btn-link" style=" padding-left: 10px; padding-right: 10px; height:2em"
                                          (click)="addActionTime(item)">Save</button>
                                        <!-- clrs-cell form-control panel-boader clrs-cell  -->
                                        <button class="primary btn-link" data-toggle="modal" data-target="#actionItemParticipants"
                                          (click)="select2EditAction(item)">
                                          Participants
                                        </button></small>
                                    </div>
                                  </div>
                                </div>
                              </li>
                            </ol>
                            <!-- </div> -->
                            <div class="card-footer text-right">
                              <div class="row">
                                <div class="col-md-9"></div>
                                <div class="col-md-3">
                                  <button class="primary btn-link" data-toggle="modal" data-target="#newActionToday">
                                    New Action
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="reports">

                  <!-- <p class="clrs-h1" style="margin-top:0em; color:darkslategray">Company Report...</p> -->

                  <div class="col-md-12">
                    <div class="card">
                      <div class="card-body" style="margin-top: -3em">
                        <div class="nav-tabs-navigation">
                          <div class="nav-tabs-wrapper">
                            <ul id="tabs" class="nav nav-tabs" role="tablist">
                              <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#internalReport" role="tab" aria-expanded="true">Internal</a>
                              </li>
                              <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#publicReport" role="tab" aria-expanded="false">Public</a>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div id="my-tab-content" class="tab-content text-center">
                          <div class="tab-pane active" id="internalReport" role="tabpanel" aria-expanded="true">
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Company Details</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p" style="margin-left:2em ">
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Company Name </span>
                                    <span class="col-sm-9">: {{ (company)?.name }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Sector </span>
                                    <span class="col-sm-9">: {{ (company)?.sector }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Services </span>
                                    <span class="col-sm-9">
                                      <a *ngFor="let service of (company)?.services">: {{ service.display }} <br></a>
                                    </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Location </span>
                                    <span class="col-sm-9">: {{ (company)?.location }} </span>
                                  </span><br>
                                  <!-- Location : {{ (company)?.location }} -->
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Compliance</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Tax Clearance </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Industry sector registration </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Health and Safety </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Metrics</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Revenue Per Capital </span>
                                        <span class="col-sm-2">: 5/10 </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Annual staff costs percentage of
                                          total Annual Revenue </span>
                                        <span class="col-sm-2">: 70 % </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Sum of projects finished to projects
                                          supposed to be finished to date </span>
                                        <span class="col-sm-2">: 7/10 </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks
                                          planned to Date </span>
                                        <span class="col-sm-2">: 80 % </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks
                                          planned to Date By Key Personel </span>
                                        <span class="col-sm-2">: 60 % </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Departments</p>
                              <div class="card-plain card-content">
                              <div *ngIf="displayDeptReport" class="card-body">
                                <div class="row">
                                  <div class="col-sm-4">
                                    <p class="clrs-h4" style="margin-top:0em; color:darkslategray">List of Departments...</p>

                                    <ol class="card-category">
                                      <li *ngFor="let dept of companyDptsArray | async" class="text-left">
                                        <a (click)="viewDeptReport(dept)" style="cursor:context-menu" class="text-left">{{ dept.name }}</a>
                                      </li>
                                    </ol>

                                  </div>
                                  <div *ngIf="deptDemoNotes" class="col-sm-8">
                                    <!-- <h3>Another Title Here</h3> -->
                                    <p class="clrs-h4" style="margin-top:0em; color:darkslategray">Department Details...</p>

                                    <p class="text-info ">Click to view on a department to see report.</p>
                                  </div>
                                </div>
                              </div>
                              <div *ngIf="displayDept" class="card-body" style="margin-top: -3em" id="DepartmentDisplay">
                                <div class="col-md-12">
                                  <div class="row">
                                    <div class="col-md-10">
                                      <p class="clrs-h1 pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span class="title card-category"
                                          style="color:darkslategray">{{ setDept.name }}</span>`s report overview...</p>
                                    </div>
                                    <div class="col-md-2">
                                      <button class="btn-link btn-magnify" (click)="back2Dept()">Back</button>
                                    </div>
                                  </div>
                                  <br><br>

                                  <nav aria-label="Page navigation example">
                                    <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist" style="margin-top: -30px;">
                                      <li class="nav-item">
                                        <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab" href="#deptOverview"
                                          role="tablist">
                                          Overview
                                        </a>
                                      </li>
                                      <span style="color:darkslategrey"> -|- </span>
                                      <li class="nav-item">
                                        <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab" href="#deptOther"
                                          role="tablist">
                                          Other
                                        </a>
                                      </li>
                                    </ul>
                                  </nav>
                                  <div class="tab-content tab-space tab-subcategories col-md-12">
                                    <div class="tab-pane active" id="deptOverview">
                                      <div class="col-md-11 mr-auto ml-auto text-left">
                                        Total Number of Tasks Complete : {{ (allDeptTasksComplete | async)?.length }}<br>
                                        Total Number of outstanding Tasks : {{ outstandingDptTasks.length }}<br>
                                        Total Number of Tasks allocated: {{ (allDeptTasks | async)?.length }}<br>
                                      </div>
                                      <div class="col-md-12">
                                        <div *ngIf="((allDeptTasks | async)?.length != 0)" class="row">
                                          <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                          <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                          <!-- <div class="col-sm-2 card-header">Target</div> -->
                                          <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                          <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                          <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                          <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                        </div>
                                        <ol style="padding-left: 10px;">
                                          <p *ngIf="(setDeptOutstandingTasks.length != 0)" class="category text-warning">Outstanding Tasks.</p>
                                          <li *ngFor="let item of setDeptOutstandingTasks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a>{{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category col-sm-3">
                                                <a>{{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                          <p *ngIf="(setDeptCurrentTAsks != 0)" class="category text-success">Current Tasks.</p>
                                          <li *ngFor="let item of setDeptCurrentTAsks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a> {{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category  col-sm-3">
                                                <a> {{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                          <p *ngIf="(setDeptUpcomingTAsks != 0)" class="category text-info">Upcurrent Tasks.</p>
                                          <li *ngFor="let item of setDeptUpcomingTAsks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a> {{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category  col-sm-3">
                                                <a> {{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                        </ol>
                                      </div>
                                    </div>
                                    <div class="tab-pane" id="deptTimesheet">
                                      Timesheet
                                      <br>
                                    </div>
                                    <div class="tab-pane" id="deptOther">
                                      Other reports
                                    </div>
                                  </div>
                                </div>
                              </div>
                              </div>
                            </div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Staff</p>
                              <div class="card-plain card-content">
                                <div *ngIf="displayUserReport" class="card-body">
                                  <div class="row">
                                    <div class="col-sm-4">
                                      <p class="clrs-h4" style="margin-top:0em; color:darkslategray">List of Employees...</p>
                                      <ol class="card-category">
                                        <li *ngFor="let man of companyStaff | async" class="text-left">
                                          <a (click)="viewReport(man)" style="cursor:context-menu">{{ man.name }}</a>
                                        </li>
                                      </ol>
                                    </div>
                                    <div *ngIf="demoNotes" class="col-sm-8">
                                      <p class="clrs-h4" style="margin-top:0em; color:darkslategray">Employee Details...</p>
                                      <p class="text-info ">Click to view on an employee`s name to see their report.</p>
                                    </div>
                                  </div>
                                </div>
                                <div *ngIf="displayUser" class="card-body">
                                  <div class="col-md-12">
                                    <div class="row">
                                      <div class="col-md-10">
                                        <p class="clrs-h4 pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span class="title card-category"
                                            style="color:darkslategray">{{ setUser.name }}</span>`s report overview...</p>
                                      </div>
                                      <div class="col-md-2">
                                        <button class="btn-link btn-magnify" (click)="back2Users()">Back</button>
                                      </div>
                                    </div>
                                    <br><br>
                                    <nav aria-label="Page navigation example">
                                      <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist" style="margin-top: -30px;">
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab" href="#link7"
                                            role="tablist">
                                            Overview
                                          </a>
                                        </li>
                                        <span style="color:darkslategrey"> -|- </span>
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary" title="click to see the timesheet" data-toggle="tab" href="#link8"
                                            role="tablist">
                                            Timesheet
                                          </a>
                                        </li>
                                        <span style="color:darkslategrey"> -|- </span>
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab" href="#link9"
                                            role="tablist">
                                            Other
                                          </a>
                                        </li>
                                      </ul>
                                    </nav>
                                    <div class="tab-content tab-space tab-subcategories col-md-12">
                                      <div class="tab-pane active" id="link7">
                                        <div class="col-md-11 mr-auto ml-auto text-left">
                                          Total Number of Tasks Complete : {{ (myCompletetasks | async)?.length }}<br>
                                          Total Number of outstanding Tasks: {{ outstandingTasks.length }}<br>
                                          Total Number of Tasks allocated: {{ (allMyTasks | async)?.length }}<br>
                                        </div>
                                        <div class="col-md-12">
                                          <div *ngIf="((allMyTasks | async)?.length != 0)" class="row">
                                            <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                            <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                            <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                          </div>
                                          <ol style="padding-left: 10px;">
                                            <p *ngIf="(setUserOutstandingTasks.length != 0)" class="category text-warning">Outstanding Tasks.</p>
                                            <li *ngFor="let item of setUserOutstandingTasks">
                                              <div class="row">
                                                <div class="col-md-3 col-sm-3 text-left">
                                                  <a>{{ item.name }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a>{{ item.start }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a>{{ item.finish }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a>{{ item.complete }}</a>
                                                </div>
                                                <div class="col-md-3 card-category col-sm-3">
                                                  <a>{{ item.champion.name }}</a>
                                                </div>
                                              </div>
                                            </li>
                                            <p *ngIf="(setUserCurrentTAsks != 0)" class="category text-success">Current Tasks.</p>
                                            <li *ngFor="let item of setUserCurrentTAsks">
                                              <div class="row">
                                                <div class="col-md-3 col-sm-3 text-left">
                                                  <a> {{ item.name }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.start }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.finish }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.complete }}</a>
                                                </div>
                                                <div class="col-md-3 card-category  col-sm-3">
                                                  <a> {{ item.champion.name }}</a>
                                                </div>
                                              </div>
                                            </li>
                                            <p *ngIf="(setUserUpcomingTAsks != 0)" class="category text-info">Upcurrent Tasks.</p>
                                            <li *ngFor="let item of setUserUpcomingTAsks">
                                              <div class="row">
                                                <div class="col-md-3 col-sm-3 text-left">
                                                  <a> {{ item.name }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.start }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.finish }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.complete }}</a>
                                                </div>
                                                <div class="col-md-3 card-category  col-sm-3">
                                                  <a> {{ item.champion.name }}</a>
                                                </div>
                                              </div>
                                            </li>
                                          </ol>
                                        </div>
                                      </div>
                                      <div class="tab-pane" id="link8">
                                        Timesheet
                                        <br>
                                      </div>
                                      <div class="tab-pane" id="link9">
                                        Other reports
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Projects</p>
                              <div class="card-plain card-content">
                                <div *ngIf="displayProjReport" class="card-body">
                                  <div class="row">
                                    <div class="col-sm-4">
                                      <!-- <h3>List of Employees</h3> -->
                                      <p class="clrs-h4" style="margin-top:0em; color:darkslategray">List of Projects...</p><br>
                                      <ol class="card-category">
                                        <li *ngFor="let project of allCompProjects | async" class="text-left">
                                          <a (click)="viewProjectReport(project)" style="cursor:context-menu">{{ project.name }}</a>
                                        </li>
                                      </ol>
                                    </div>
                                    <div *ngIf="ProjectDemoNotes" class="col-sm-8">
                                      <!-- <h3>Another Title Here</h3> -->
                                      <p class="clrs-h4" style="margin-top:0em; color:darkslategray">Project Details...</p>
                                      <p class="text-info ">Click to view on an Project to see their report.</p>
                                    </div>
                                  </div>
                                </div>
                                <div *ngIf="displayProject" class="card-body" style="margin-top: -3em">
                                  <div class="col-md-12">
                                    <div class="row">
                                      <div class="col-md-10">
                                        <p class="clrs-h4 pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span class="title card-category"
                                            style="color:darkslategray">{{ projectSet.name }}</span>`s project report overview...</p>
                                      </div>
                                      <div class="col-md-2">
                                        <button class="btn-link btn-magnify" (click)="back2Proj()">Back</button>
                                      </div>
                                    </div>
                                    <br><br>

                                    <nav aria-label="Page navigation example">
                                      <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist" style="margin-top: -30px;">
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab" href="#projOverview"
                                            role="tablist">
                                            Overview
                                          </a>
                                        </li>
                                        <!-- <span style="color:darkslategrey"> -|- </span><li class="nav-item">
                                          <a class="pagination pagination-primary" title="click to see the timesheet" data-toggle="tab" href="#projTimesheet" role="tablist">
                                            Timesheet
                                          </a>         </li> -->
                                        <span style="color:darkslategrey"> -|- </span>
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab" href="#projOther"
                                            role="tablist">
                                            Other
                                          </a>
                                        </li>
                                      </ul>
                                    </nav>
                                    <div class="tab-content tab-space tab-subcategories col-md-12">
                                      <div class="tab-pane active" id="projOverview">
                                        <div class="col-md-11 mr-auto ml-auto text-left">
                                          Total Number of Tasks Complete : {{ (compProjectTasksComplete | async)?.length }}<br>
                                          Total Number of outstanding Tasks : {{ outstandingProjectTasks.length }}<br>
                                          Total Number of Tasks allocated : {{ (allProjectTasks | async)?.length }}<br>
                                        </div>
                                        <div class="col-md-12">
                                          <div *ngIf="((allProjectTasks | async)?.length != 0)" class="row">
                                            <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                            <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                            <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                          </div>
                                          <ol style="padding-left: 10px;">
                                          <p *ngIf="(setPojOutstandingTasks.length != 0)" class="category text-warning">Outstanding Tasks.</p>
                                          <li *ngFor="let item of setPojOutstandingTasks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a>{{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category col-sm-3">
                                                <a>{{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                          <p *ngIf="(setPojCurrentTAsks != 0)" class="category text-success">Current Tasks.</p>
                                          <li *ngFor="let item of setPojCurrentTAsks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a> {{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category  col-sm-3">
                                                <a> {{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                          <p *ngIf="(setPojUpcomingTAsks != 0)" class="category text-info">Upcurrent Tasks.</p>
                                          <li *ngFor="let item of setPojUpcomingTAsks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a> {{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category  col-sm-3">
                                                <a> {{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                        </ol>
                                        </div>
                                      </div>
                                      <div class="tab-pane" id="projTimesheet">
                                        Timesheet
                                        <br>
                                      </div>
                                      <div class="tab-pane" id="projOther">
                                        Other reports
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Reference</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>Financial Capacity : view document</li>
                                    <li>Management Capacity : view document</li>
                                    <li>Key Personel : view document</li>
                                    <li>Management Continuity : view document</li>
                                    <li>Shareholder and Risk Management : view document</li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="tab-pane" id="publicReport" role="tabpanel" aria-expanded="false">

                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Company Details</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p" style="margin-left:2em ">
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Company Name </span>
                                    <span class="col-sm-9">: {{ (company)?.name }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Sector </span>
                                    <span class="col-sm-9">: {{ (company)?.sector }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Services </span>
                                    <span class="col-sm-9">
                                      <a *ngFor="let service of (company)?.services">: {{ service.display }} <br></a>
                                    </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Location </span>
                                    <span class="col-sm-9">: {{ (company)?.location }} </span>
                                  </span><br>
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Compliance</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Tax Clearance </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Industry sector registration </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Health and Safety </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Metrics</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Revenue Per Capital </span>
                                        <span class="col-sm-2">: 5/10 </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Annual staff costs percentage of
                                          total Annual Revenue </span>
                                        <span class="col-sm-2">: 70 % </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Sum of projects finished to projects
                                          supposed to be finished to date </span>
                                        <span class="col-sm-2">: 7/10 </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks
                                          planned to Date </span>
                                        <span class="col-sm-2">: 80 % </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks
                                          planned to Date By Key Personel </span>
                                        <span class="col-sm-2">: 60 % </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>

                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- <div class="col-md-12">
                    <div class="card">
                      <div class="card-body" style="margin-top: -3em">
                        <div class="nav-tabs-navigation">
                          <div class="nav-tabs-wrapper">
                            <ul id="tabs" class="nav nav-tabs" role="tablist">
                              <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#company" role="tab" aria-expanded="true">Company</a>
                              </li>
                              <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#deptTab" role="tab" aria-expanded="false">Department</a>
                              </li>
                              <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#workersTab" role="tab" aria-expanded="false">Staff</a>
                              </li>
                              <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#projectsTab" role="tab" aria-expanded="false">Project</a>
                              </li>
                              <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#compReferences" role="tab" aria-expanded="false">References</a>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div id="my-tab-content" class="tab-content text-center">
                          <div class="tab-pane active" id="company" role="tabpanel" aria-expanded="true">
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Company Details</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p" style="margin-left:2em ">
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Company Name </span>
                                    <span class="col-sm-9">: {{ (company)?.name }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Sector </span>
                                    <span class="col-sm-9">: {{ (company)?.sector }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Services </span>
                                    <span class="col-sm-9">
                                      <a *ngFor="let service of (company)?.services">: {{ service.display }} <br></a>
                                    </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Location </span>
                                    <span class="col-sm-9">: {{ (company)?.location }} </span>
                                  </span><br>
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Compliance</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Tax Clearance </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li><li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Industry sector registration </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li><li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Health and Safety </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Metrics</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Revenue Per Capital </span>
                                        <span class="col-sm-2">: 5/10 </span>
                                      </span>
                                    </li><li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Annual staff costs percentage of total Annual Revenue </span>
                                        <span class="col-sm-2">: 70 % </span>
                                      </span>
                                    </li><li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Sum of projects finished to projects supposed to be finished to date </span>
                                        <span class="col-sm-2">: 7/10 </span>
                                      </span>
                                    </li><li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks planned to Date </span>
                                        <span class="col-sm-2">: 80 % </span>
                                      </span>
                                    </li><li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks planned to Date By Key Personel </span>
                                        <span class="col-sm-2">: 60 % </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="tab-pane" id="deptTab" role="tabpanel" aria-expanded="false">
                            <div *ngIf="displayDeptReport" class="card-body">
                              <div class="row">
                                <div class="col-sm-4">
                                  <p class="clrs-h1" style="margin-top:0em; color:darkslategray">List of Departments...</p>

                                  <ol class="card-category">
                                    <li *ngFor="let dept of companyDptsArray | async" class="text-left">
                                      <a (click)="viewDeptReport(dept)" style="cursor:context-menu" class="text-left">{{ dept.name }}</a>
                                    </li>
                                  </ol>

                                </div>
                                <div *ngIf="deptDemoNotes" class="col-sm-8">
                                  <p class="clrs-h1" style="margin-top:0em; color:darkslategray">Department Details...</p>

                                  <p class="text-info ">Click to view on a department to see report.</p>
                                </div>
                              </div>
                            </div>
                            <div *ngIf="displayDept" class="card-body" style="margin-top: -3em" id="DepartmentDisplay">
                              <div class="col-md-12">
                                <div class="row">
                                  <div class="col-md-10">
                                    <p class="clrs-h1 pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span class="title card-category" style="color:darkslategray">{{ setDept.name }}</span>`s report overview...</p>
                                  </div>
                                  <div class="col-md-2">
                                    <button class="btn-link btn-magnify" (click)="back2Dept()">Back</button>
                                  </div>
                                </div>
                                <br><br>
                                
                                <nav aria-label="Page navigation example">
                                  <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist" style="margin-top: -30px;">
                                    <li class="nav-item">
                                      <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab" href="#deptOverview" role="tablist">
                                        Overview 
                                      </a>
                                    </li>
                                    <span style="color:darkslategrey"> -|- </span>
                                    <li class="nav-item">
                                      <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab" href="#deptOther" role="tablist">
                                        Other
                                      </a>
                                    </li>
                                  </ul>
                                </nav>
                                <div class="tab-content tab-space tab-subcategories col-md-12">
                                  <div class="tab-pane active" id="deptOverview">
                                    <div class="col-md-11 mr-auto ml-auto text-left">
                                      Total Number of Tasks Complete : {{ (allDeptTasksComplete | async)?.length }}<br>
                                      Total Number of outstanding Tasks : {{ outstandingDptTasks.length }}<br>
                                      Total Number of Tasks allocated: {{ (allDeptTasks | async)?.length }}<br>
                                    </div>
                                    <div class="col-md-12">
                                      <div *ngIf="((allDeptTasks | async)?.length != 0)" class="row">
                                        <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                        <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                        <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                        <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                        <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                        <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="tab-pane" id="deptTimesheet">
                                    Timesheet
                                    <br>
                                  </div>
                                  <div class="tab-pane" id="deptOther">
                                    Other reports
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="tab-pane" id="workersTab" role="tabpanel" aria-expanded="false">
                            <div *ngIf="displayUserReport" class="card-body">
                              <div class="row">
                                <div class="col-sm-4">
                                  <p class="clrs-h1" style="margin-top:0em; color:darkslategray">List of Employees...</p>
                                  <ol class="card-category">
                                    <li *ngFor="let man of companyStaff | async" class="text-left">
                                      <a (click)="viewReport(man)" style="cursor:context-menu">{{ man.name }}</a>
                                    </li>
                                  </ol>
                                </div>
                                <div *ngIf="demoNotes" class="col-sm-8">
                                  <p class="clrs-h1" style="margin-top:0em; color:darkslategray">Employee Details...</p>

                                  <p class="text-info ">Click to view on an employee`s name to see their report.</p>
                                </div>
                              </div>
                            </div>
                            <div *ngIf="displayUser" class="card-body">
                              <div class="col-md-12">
                                <div class="row">
                                  <div class="col-md-10">
                                    <p class="clrs-h1 pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span class="title card-category" style="color:darkslategray">{{ setUser.name }}</span>`s report overview...</p>
                                  </div>
                                  <div class="col-md-2">
                                    <button class="btn-link btn-magnify" (click)="back2Users()">Back</button>
                                  </div>
                                </div><br><br>
                                <nav aria-label="Page navigation example">
                                  <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist" style="margin-top: -30px;">
                                    <li class="nav-item">
                                      <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab" href="#link7" role="tablist">
                                        Overview 
                                      </a>
                                    </li>
                                    <span style="color:darkslategrey"> -|- </span>
                                    <li class="nav-item">
                                      <a class="pagination pagination-primary" title="click to see the timesheet" data-toggle="tab" href="#link8" role="tablist">
                                        Timesheet
                                      </a>
                                    </li>
                                    <span style="color:darkslategrey"> -|- </span>
                                    <li class="nav-item">
                                      <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab" href="#link9" role="tablist">
                                        Other
                                      </a>
                                    </li>
                                  </ul>
                                </nav>
                                <div class="tab-content tab-space tab-subcategories col-md-12">
                                  <div class="tab-pane active" id="link7">
                                    <div class="col-md-11 mr-auto ml-auto text-left">
                                      Total Number of Tasks Complete : {{ (myCompletetasks | async)?.length }}<br>
                                      Total Number of outstanding Tasks: {{ outstandingTasks.length }}<br>
                                      Total Number of Tasks allocated: {{ (allMyTasks | async)?.length }}<br>
                                    </div>
                                    <div class="col-md-12">
                                        <div *ngIf="((allMyTasks | async)?.length != 0)" class="row">
                                          <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                          <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                          <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                          <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                          <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                          <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                        </div>
                                    </div>
                                  </div>
                                  <div class="tab-pane" id="link8">
                                    Timesheet
                                    <br>
                                  </div>
                                  <div class="tab-pane" id="link9">
                                    Other reports
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="tab-pane" id="projectsTab" role="tabpanel" aria-expanded="false">
                            <div *ngIf="displayProjReport" class="card-body">
                              <div class="row">
                                <div class="col-sm-4">
                                  <p class="clrs-h1" style="margin-top:0em; color:darkslategray">List of Projects...</p><br>
                                  <ol class="card-category">
                                    <li *ngFor="let project of allCompProjects | async" class="text-left">
                                      <a (click)="viewProjectReport(project)" style="cursor:context-menu">{{ project.name }}</a>
                                    </li>
                                  </ol>
                                </div>
                                <div *ngIf="ProjectDemoNotes" class="col-sm-8">
                                  <p class="clrs-h1" style="margin-top:0em; color:darkslategray">Project Details...</p>
                                  <p class="text-info ">Click to view on an Project to see their report.</p>
                                </div>
                              </div>
                            </div>
                            <div *ngIf="displayProject" class="card-body" style="margin-top: -3em">
                              <div class="col-md-12">
                                <div class="row">
                                  <div class="col-md-10">
                                    <p class="clrs-h1 pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span
                                        class="title card-category" style="color:darkslategray">{{ projectSet.name }}</span>`s project report overview...</p>
                                  </div>
                                  <div class="col-md-2">
                                    <button class="btn-link btn-magnify" (click)="back2Proj()">Back</button>
                                  </div>
                                </div>
                                <br><br>
                              
                                <nav aria-label="Page navigation example">
                                  <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist"
                                    style="margin-top: -30px;">
                                    <li class="nav-item">
                                      <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab"
                                        href="#projOverview" role="tablist">
                                        Overview
                                      </a>
                                    </li>
                                    <span style="color:darkslategrey"> -|- </span>
                                    <li class="nav-item">
                                      <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab"
                                        href="#projOther" role="tablist">
                                        Other
                                      </a>
                                    </li>
                                  </ul>
                                </nav>
                                <div class="tab-content tab-space tab-subcategories col-md-12">
                                  <div class="tab-pane active" id="projOverview">
                                    <div class="col-md-11 mr-auto ml-auto text-left">
                                      Total Number of Tasks Complete : {{ (compProjectTasksComplete | async)?.length }}<br>
                                      Total Number of outstanding Tasks : {{ outstandingProjectTasks.length }}<br>
                                      Total Number of Tasks allocated : {{ (allProjectTasks | async)?.length }}<br>
                                    </div>
                                    <div class="col-md-12">
                                      <div *ngIf="((allProjectTasks | async)?.length != 0)" class="row">
                                        <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                        <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                        <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                        <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                        <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                        <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="tab-pane" id="projTimesheet">
                                    Timesheet
                                    <br>
                                  </div>
                                  <div class="tab-pane" id="projOther">
                                    Other reports
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="tab-pane" id="compReferences" role="tabpanel" aria-expanded="false">
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4" style="color: darkslategray">Reference</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>Financial Capacity : view document</li>
                                    <li>Management Capacity : view document</li>
                                    <li>Key Personel : view document</li>
                                    <li>Management Continuity : view document</li>
                                    <li>Shareholder and Risk Management : view document</li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div> -->
                </div>
                <div class="tab-pane" id="test">
                  <div class="col-md-12">
                    <div class="card">
                      <div class="card-body">
                        TimeSheet
                        <div id="accordionActionData" role="tablist" aria-multiselectable="true" class="card-collapse">
                          <ol>
                            <li class="" style="color:steelblue" *ngFor="let item of myActionItems">
                              <div class="card card-plain">
                                <div class="card-header" role="tab" id="heading2">
                                  <a class="collapsed" data-toggle="collapse" href="#{{ item.id }}" (click)="showTaskActions(item)"
                                    aria-expanded="false" aria-current="false">
                                    {{ item.name }}<span class="label text-warning"> {{ item.when }}</span><i class="nc-icon nc-minimal-down"></i>
                                  </a>
                                </div>
                                <div id="{{ item.id }}" class="collapse" data-parent="#accordionActionData" role="tabpanel"
                                  aria-labelledby="heading2">
                                  <div class="card-body">

                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                      <div class="col-sm-2" style="padding-left: 5px; padding-right:5px">
                                        <div class="form-group">
                                          <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.start"
                                            style=" padding-left: 10px; padding-right: 10px; height:2em" placeholder="Time from" />
                                        </div>
                                      </div>
                                      <div class="col-sm-2" style="padding-left: 5px; padding-right:5px">
                                        <div class="form-group">
                                          <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.end"
                                            style=" padding-left: 10px; padding-right: 10px;  height:2em" placeholder="Time to" />
                                        </div>
                                      </div>
                                    </div>

                                  </div>
                                  <button class="btn-link btn-round primary" (click)="selectTask(item)" data-toggle="modal"
                                    data-target="#newAction">
                                    <small>Add action item</small></button>
                                </div>
                              </div>
                            </li>
                          </ol>
                        </div>



                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="request">
                  <div class="col-md-12">
                    <div class="card">
                      <div class="card-body">
                        TimeSheet

                        <div id="accordionActionData" role="tablist" aria-multiselectable="true" class="card-collapse">
                          <ol>
                            <li class="" style="color:steelblue" *ngFor="let item of myActionItems">
                              <div class="card card-plain">
                                <div class="card-header" role="tab" id="heading2">
                                  <a class="collapsed" data-toggle="collapse" href="#{{ item.id }}" (click)="showTaskActions(item)"
                                    aria-expanded="false" aria-current="false">
                                    {{ item.name }}<span class="label text-warning"> {{ item.when }}</span><i class="nc-icon nc-minimal-down"></i>
                                  </a>
                                </div>
                                <div id="{{ item.id }}" class="collapse" data-parent="#accordionActionData" role="tabpanel"
                                  aria-labelledby="heading2">
                                  <div class="card-body">

                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                      <div class="col-sm-2" style="padding-left: 5px; padding-right:5px">
                                        <div class="form-group">
                                          <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.start"
                                            style=" padding-left: 10px; padding-right: 10px; height:2em" placeholder="Time from" />
                                        </div>
                                      </div>
                                      <div class="col-sm-2" style="padding-left: 5px; padding-right:5px">
                                        <div class="form-group">
                                          <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.end"
                                            style=" padding-left: 10px; padding-right: 10px;  height:2em" placeholder="Time to" />
                                        </div>
                                      </div>
                                    </div>

                                  </div>
                                  <button class="btn-link btn-round primary" (click)="selectTask(item)" data-toggle="modal"
                                    data-target="#newAction">
                                    <small>Add action item</small></button>
                                </div>
                              </div>
                            </li>
                          </ol>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="tskModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto col-form-label info">
            <font size=4>Create a Task</font>
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <div class="row">
            <label class="col-md-3 col-form-label">Task name</label>
            <div class="col-md-8">
              <div class="form-group">
                <input type="text" [(ngModel)]="task.name" name="taskName" class="form-control" placeholder="Task name">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-3 col-form-label">Start Date</label>
            <div class="col-md-8">
              <div class="form-group">
                <input type="date" [(ngModel)]="start" name="start" class="form-control">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-3 col-form-label">Finish Date</label>
            <div class="col-md-8">
              <div class="form-group">
                <input type="date" [(ngModel)]="finish" name="finish" class="form-control">
              </div>
            </div>
          </div>
          <ng-container *ngIf="showdept">
            <div class="row">
              <label class="col-md-3 col-form-label">Department</label>
              <div class="col-md-8">
                <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                  {{(selectedDepartment)?.name }}
                  <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleDeptTable(); toggleDpt()">
                    <i class="fa fa-edit fa-fw"></i>
                  </button>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showDeptTable">
                  <div class="table table-responsive user_table" style="overflow: auto;">
                    <code>Select a Department</code>
                    <table class="table">
                      <tbody class="">
                        <tr *ngFor="let item of departsList | async " class="">
                          <td class=" td-clrs">{{ item.name }}</td>
                          <td class=" td-clrs"><button class="primary btn-link" (click)="selectDepartment(item)"> select
                            </button></td>
                        </tr>
                      </tbody>
                    </table>
                    <footer class="pull-right">
                      <button class="primary btn-link" (click)="toggleDpt(); toggleDeptTable()" style="padding-right:3em"> back
                      </button>
                    </footer>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
          <div *ngIf="selectedDepartment">
            <ng-container *ngIf="showdeptChamp">
              <div class="row">
                <label class="col-md-3 col-form-label">Champion</label>
                <div class="col-md-8">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    {{(userChampion)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleDeptUsersTable(); toggleDeptChamp()">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </ng-container>
            <div class="row">
              <div class="col-md-8 ml-auto mr-auto">
                <div class="form-group">
                  <ng-container *ngIf="showDeptPartTable">
                    <div class="table-responsive user_table" style="overflow: auto;">
                      <code>Select a Champion</code>
                      <table class="table">
                        <tbody class="">
                          <tr *ngFor="let user of deptParticipants | async " class=" td-clrs">
                            <td class="td-clrs">{{ user.name }}</td>
                            <td class="td-clrs"><button class="primary btn-link" (click)="selectDepartmentChamp(user)">select</button></td>
                          </tr>
                        </tbody>
                      </table>
                      <footer class="pull-right">
                        <button class="primary btn-link" (click)="toggleDeptChamp(); toggleDeptUsersTable()" style="padding-right:3em"> back
                        </button>
                      </footer>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
          <ng-container *ngIf="showChamp">
            <div class="row">
              <label class="col-md-3 col-form-label">Champion</label>
              <div class="col-md-8">
                <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                  {{(userChampion)?.name }}
                  <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleUsersTable(); toggleChamp()">
                    <i class="fa fa-edit fa-fw"></i>
                  </button>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showUserTable">
                  <div class="table-responsive user_table" style="overflow: auto;">
                    <code>Select a Champion</code>
                    <table class="table">
                      <tbody class="">
                        <tr *ngFor="let user of staff3 | async " class="td-clrs">
                          <td class="td-clrs">{{ user.name }}</td>
                          <td class="td-clrs"><button class="primary btn-link" (click)="selectCompanyUser(user)">select</button></td>
                        </tr>
                      </tbody>
                    </table>
                    <footer class="pull-right">
                      <button class="primary btn-link" (click)="toggleChamp(); toggleUsersTable()" style="padding-right:3em"> back
                      </button>
                    </footer>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
          <ng-container *ngIf="showProj">
            <div class="row">
              <label class="col-md-3 col-form-label">Project</label>
              <div class="col-md-8">
                <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                  {{(selectedProject)?.name }}
                  <button type="text" name="taskProject" class="btn btn-icon primary btn-link " (click)="toggleProjTable(); toggleProj()">
                    <i class="fa fa-edit fa-fw"></i>
                  </button>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showProjectTable">
                  <div class="table-responsive user_table" style="overflow: auto;">
                    <code>Select Project</code>
                    <table class="table">
                      <tbody>
                        <tr *ngFor="let project of projectsCollection | async " class="">
                          <td class="td-clrs">{{ project.name }}</td>
                          <td class="td-clrs"><button class="primary btn-link" (click)="selectProject(project)">select</button></td>
                        </tr>
                      </tbody>
                    </table>
                    <footer class="pull-right">
                      <button class="primary btn-link" (click)="toggleProj(); toggleProjTable()" style="padding-right:3em"> back
                      </button>
                    </footer>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </form>

        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="newTask()" data-dismiss="modal" title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="usersList" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Choose a staff from colours
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <ng-container *ngIf="showChamp">
            <div class="col-md-12 ml-auto mr-auto">
              <div class="row">
                <label class="col-md-4 col-form-label">User</label>
                <div class="col-md-8 mr-auto">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    :{{(newCompanystaff)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleUsersTable(); toggleChamp()"
                      rel="tooltip" title="select a new staff">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showUserTable">
                  <div class="table-responsive user_table">
                    <code>Select a Champion</code>
                    <table class="table">
                      <tbody class="">
                        <tr *ngFor="let user of coloursUsers | async " class="">
                          <td>{{ user.name }}</td>
                          <td><button class="primary btn-link" (click)="selectColUser(user)"> select
                            </button></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="saveNewStaff()" data-dismiss="modal" title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="dptStaffList" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Choose a staff from department
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <ng-container *ngIf="showChamp">
            <div class="col-md-12 ml-auto mr-auto">
              <div class="row">
                <label class="col-md-4 col-form-label">User</label>
                <div class="col-md-8 mr-auto">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    :{{(companystaff)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleUsersTable(); toggleChamp()"
                      rel="tooltip" title="select a new staff">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showUserTable">
                  <div class="table-responsive user_table">
                    <table class="table">
                      <tbody class="">
                        <tr *ngFor="let user of calldptStaff | async " class="">
                          <td>{{ user.name }}</td>
                          <td><button class="primary btn-link" (click)="selectUser(user)"> select
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="add2DptStaff()" data-dismiss="modal" title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="taskdptStaff" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Choose a staff from department
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <ng-container *ngIf="showChamp">
            <div class="col-md-12 ml-auto mr-auto">
              <div class="row">
                <label class="col-md-4 col-form-label">User</label>
                <div class="col-md-8 mr-auto">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    :{{(companystaff)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleUsersTable(); toggleChamp()"
                      rel="tooltip" title="select a new staff">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showUserTable">
                  <div class="table-responsive user_table">
                    <table class="table">
                      <tbody class="">
                        <tr *ngFor="let user of calldptStaff | async " class="">
                          <td>{{ user.name }}</td>
                          <td><button class="primary btn-link" (click)="selectUser(user)"> select
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="addTaskDptStaff()" data-dismiss="modal"
              title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="entDptStaff" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Choose a staff from department
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <ng-container *ngIf="showChamp">
            <div class="col-md-12 ml-auto mr-auto">
              <div class="row">
                <label class="col-md-4 col-form-label">User</label>
                <div class="col-md-8 mr-auto">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    :{{(companystaff)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleUsersTable(); toggleChamp()"
                      rel="tooltip" title="select a new staff">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showUserTable">
                  <div class="table-responsive user_table">
                    <table class="table">
                      <tbody class="">
                        <!-- <tr *ngFor="let user of deptStaff | async " class=""> -->
                        <tr *ngFor="let user of compStaff2 | async " class="">
                          <td>{{ user.name }}</td>
                          <td><button class="primary btn-link" (click)="selectUser(user)"> select
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="setDptHead()" data-dismiss="modal" title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="actionItemParticipants" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Select Participants<br> for Action item: <b>{{ editedAction.name }}</b> </p><br>

        </div>
        <div class="col-md-10 ml-auto mr-auto">
          <br>
          <ol>
            <li *ngFor="let person of staff | async">
              <div class="row">
                <div class="col-md-9">
                  {{ person.name }}
                </div>
                <div class="col-md-3" style="padding-top: 12px;">
                  <input class="card-category pull-right col-form-label" type="checkbox" (change)="selectActionStaff($event, person)">
                </div>
              </div>
            </li>
          </ol>
          <ng-container *ngIf="actionParticipants != null">
            <small>Participants:<br>
              <a *ngFor="let person of actionParticipants | async">{{ person.name }}, </a></small>
          </ng-container>
        </div>
      </div>
      <hr>
      <div class="modal-footer" style="margin-bottom:0%">
        <div class="left-side">
          <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-success btn-link" data-dismiss="modal" title="save task">Save</button>
        </div>
      </div>
      <!-- </div> -->
    </div>
  </div>
</div>
<div class="modal fade" id="dptModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <!--  modal-sm -->
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <div class="row">
          <ng-template #showPrompt>
            <div class="col-md-8 ml-auto mr-auto">
              <p>Select the Department</p>
            </div>
          </ng-template>
        </div>
        <ng-container *ngIf="showDpt; else showPrompt">
          <p>You want to add the Task to <b>{{ selectedDepartment.name }}</b> department ?</p>
        </ng-container>
      </div>
      <div class="modal-body">
        <div class="table-responsive pro_info">
          <table class="table">
            <thead class="">
            </thead>
            <tbody>
              <tr *ngFor="let department of companyDpts | async">
                <td>{{ department.name }}</td>
                <td class="justify-content-center">
                  <button class="warning btn-link" rel="tooltip" title="Company" (click)="showDptName(); selectDpt(department)">select</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" (click)="add2Dpartment()" data-dismiss="modal">
            Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="newAction" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto col-form-label na-an info" style="color:steelblue">
            <font size=4>New Action Item for <br>{{ selectedTask.name }} task</font>
          </p>
        </div>
        <hr>
        <!-- <a> Selected Unit: <span></span><small> {{ setSui.id }}</small></a><br> -->
        <form class="form-horizontal">
          <div class="row">
            <label class="col-md-4 col-form-label">Action Name</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="text" [(ngModel)]="actionItem.name" name="taskName" class="form-control" placeholder="Action name">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">Unit measure</label>
            <div class="col-md-7 col-lg-6 col-sm-5">
              <div class="form-group">

                <ng-select [items]="SIunits" bindLabel="name" name="jyu" placeholder="Select unit of Measure"
                  [(ngModel)]="setSui">
                </ng-select>

              </div>
            </div>
          </div>
          <!-- <div class="row">
            <label class="col-md-4 col-form-label">Start Date</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="date" [(ngModel)]="actionItem.startDate" name="siu" class="form-control">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">End Date</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="date" [(ngModel)]="actionItem.endDate" name="siu" class="form-control">
              </div>
            </div>
          </div> -->
        </form>

        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="newAction(actionItem)" data-dismiss="modal"
              title="save action">Enter</button>
          </div>
        </div>
      </div>
    </div>
  </div>P
</div>

<div class="modal fade" id="newActionToday" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-10 ml-auto mr-auto title na-an info" style="color:steelblue">
            <font size=4>New Action Item for {{ selectedTask.name }} task</font>
          </p>
        </div>
        <hr>
        <!-- <a> Selected Unit: <span></span><small> {{ setSui.id }}</small></a><br> -->
        <form class="form-horizontal">
          <div class="row">
            <label class="col-md-4 col-form-label">Action Name</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="text" [(ngModel)]="actionItem.name" name="taskName" class="form-control" placeholder="Action name">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">Unit measure</label>
            <div class="col-md-7 col-lg-6 col-sm-5">
              <div class="form-group">
                <ng-select [items]="SIunits" bindLabel="name" name="jyu" placeholder="Select unit of Measure"
                  [(ngModel)]="setSui">
                </ng-select>
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">Department</label>
            <div class="col-md-7 col-lg-6 col-sm-5">
              <div class="form-group">
                <ng-select placeholder="Select department" [(ngModel)]="dp" name="actionDpt" (change)="showDpTasks(dp)">
                  <ng-option *ngFor="let department of departments | async" [value]="department.id">
                    {{ department.name }}</ng-option>
                </ng-select>
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">Task</label>
            <div class="col-md-7 col-lg-6 col-sm-5">
              <div class="form-group">
                <ng-select placeholder="Select Task" [(ngModel)]="taskId" name="actionTask">
                  <ng-option *ngFor="let tas of dptTasks | async" [value]="tas.id">
                    {{ tas.name }}</ng-option>
                </ng-select>
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">Staff</label>
            <div class="col-md-7 col-lg-6 col-sm-5">
              <div class="form-group">
                <ng-select placeholder="Select staff" [(ngModel)]="selectedStaffId" name="actionStaffSelect">
                  <!-- (change)="saveUserId(selectedStaffId)"  (change)="showUserTasks(staffId)" -->
                  <ng-option *ngFor="let user of dptStaff | async" [value]="user.id">{{ user.name }}</ng-option>
                </ng-select>
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">Start Date</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="time" [(ngModel)]="actionItem.start" name="siu" class="form-control">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">End Date</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="time" [(ngModel)]="actionItem.end" name="siu" class="form-control">
              </div>
            </div>
          </div>
        </form>

        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="newActionToday(actionItem)" data-dismiss="modal"
              title="save action">Enter</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="addStaffdpt" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">

  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <div class="row">
          <ng-template #showPrompt>
            <div class="col-md-8 ml-auto mr-auto">
              <p>Select the department</p>
            </div>
          </ng-template>
        </div>
        <ng-container *ngIf="showDpt; else showPrompt">
          <p>You want to add {{ companystaff.name }} to <b>{{ selectedDepartment.name }}</b> department ?</p>
        </ng-container>
      </div>
      <div class="modal-body">
        <div class="table-responsive pro_info">
          <table class="table">
            <thead class="">
            </thead>
            <tbody>
              <tr *ngFor="let department of companyDpts | async">
                <td>{{ department.name }}</td>
                <td class="justify-content-center">
                  <button class="warning btn-link" rel="tooltip" title="Company" (click)="showDptName(); selectDpt(department)">select</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" (click)="addStaff2Dpartment()" data-dismiss="modal">
            Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="companyPicker" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">

  <div class="modal-dialog">
    <!--  modal-sm -->
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <div class="row">
          <ng-template #promptClient>
            <div class="col-md-8 ml-auto mr-auto">
              <p class="title na-p">Select Company</p>
            </div>
          </ng-template>
        </div>
        <ng-container *ngIf="showClient; else promptClient">
          <h4 class="title na-p">Adding <b>{{ selectedClient.name }}</b> to Company`s Clients?</h4>
        </ng-container>
      </div>
      <div class="modal-body">

        <ul>
          <li *ngFor="let company of companies | async">
            <div class="row">
              <span class="col-md-6 text-left">{{ company.name }}</span>
              <span class="col-md-6"><a class="text-success" style="cursor: context-menu" (click)="setClient(company)">select</a></span>
            </div>
          </li>
        </ul>

      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" (click)="addClient()" data-dismiss="modal">
            Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="editAction" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto col-form-label info" style="color:steelblue">
            <font size=4>Edit Action item <br> "{{ selectedAction.name }}"</font>
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <div class="row">
            <label class="col-md-4 col-form-label">Start Date</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="date" [(ngModel)]="startDate" name="siu" class="form-control">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">End Date</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="date" [(ngModel)]="endDate" name="siu" class="form-control">
              </div>
            </div>
          </div>
        </form>

        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="editAction(startDate,endDate)" data-dismiss="modal"
              title="save action">Enter</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade modal-primary" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header justify-content-center text-info">
        <div class="modal-profile ml-auto mr-auto">
          <i class="nc-icon nc-bulb-63"></i>
        </div>
        <div class="modal-body">
          <p class="text-info"><span class="title clrs-h4">{{ joinmyProject.name }} project</span></p>
        </div>
      </div>
      <div class="modal-body text-center">
        <p>Press confirm to Join the project</p>
      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal">Back</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" (click)="joinProject(project)">Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>