<div class="main-content" *ngIf="company">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="row">
          <div class=" col-md-7">
            <div class="card-header">
              <p class="card-category clrs-h1-font">
                <!-- style="height: 28px; font-size: 8; -->
                Company : {{ (company)?.name }}
              </p>
            </div>
          </div>
          <div *ngIf="getSearch" class="row col-md-5 pull-right" style="padding-top: 15px">
            <div class="col-md-3">
              <button class="btn-link btn-magnify" (click)="viewCom()">Close X</button>              
            </div>
            <div class="col-md-9">
              <div class="input-group pull-left" [ngClass]="{'input-group-focus':focus===true}">
                <input id ="input" type="text" class="form-control  pull-left" placeholder="Search..." (keyup)="searchresult()"
                  name="Inputinn" (focus)="focus=true" (blur)="focus=false" [(ngModel)]="value"/>
                <div class="input-group-append" type="button" style="height: 35px;">
                  <span class="input-group-text" style="padding-bottom: 7px; padding-left: 10px;" (click)="searchresult()"><i class="nc-icon nc-zoom-split"></i></span>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="!getSearch" class="col-md-5 pull-right">
                <!-- &body=Colours%20Is%20invited%20to%20a%20big%20summer%20party! -->
            <div class="card-header pull-right">
              <button class="btn-link btn-magnify input-group-text pull-right" style="padding-bottom: 7px; padding-left: 10px;" (click)="gotoSearch()"><i class="nc-icon nc-zoom-split"></i></button>
              <button class="btn-link btn-magnify" (click)="printReport()">Print</button> <!--  *ngIf="displayDept" -->
             <!--  <a href="mailto:someone@example.com? &subject=Welcome%20to%20Colours &body=Colours%20Is%20inviting%20you%20to%20join%20Colours%20System%20" target="_top">
                Email
              </a> *ngIf="displayDept" -->
              <!-- <div class="col-md-4">
                <button class="btn-link btn-magnify" (click)="Update()">Update</button>
              </div> -->
              <button class="btn-link btn-magnify" (click)="doc$(company.id); refreshCompany()">
                 <!-- <i class="fa fa-spinner fa-spin fa-2x fa-fw"></i> -->
                Refresh</button>
            </div>
          </div>
        </div>
        <div class="card-body" style="margin-top: -20">
          <div class="row"> <!--  style="margin-left:3em; margin-right:0em" -->
            <div class="clrs-tabs">
            <!-- <div class="col-lg-2 col-md-2 col-sm-3" style="margin-left: -50px"> -->
              <div class="nav-tabs-navigation vertical-navs">
                <div class="nav-tabs-wrapper">
                  <ul class="nav nav-tabs flex-column nav-stacked text-left" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link  active" href="#info" role="tab" data-toggle="tab">Dashboard</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link " href="#standards" role="tab" data-toggle="tab">Standards</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link " (click)="minimizeSidebar()" href="#compSetup" role="tab" data-toggle="tab">Setup</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link " (click)="minimizeSidebar()" href="#planning" role="tab" data-toggle="tab">Planning</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link " (click)="minimizeSidebar()" href="#implement" role="tab" data-toggle="tab">Implementation</a><!-- sortTasks(); -->
                    </li>
                    <li class="nav-item">
                      <!-- <a class="nav-link " (click)="minimizeSidebar()" href="#reports" role="tab" data-toggle="tab">Reporting</a> -->
                      <a class="nav-link" (click)="minimizeSidebar()" routerLink="/enterprise-r" role="tab" data-toggle="tab">Reporting</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!-- <div class="col-lg-110 col-md-10 col-sm-9 col-8" style="padding-right: 0px;padding-left: 15px;margin-right: -50px"> -->
            <div *ngIf="!getSearch" class="col-lg-9 col-md-8 col-sm-8 col-8 ml-auto mr-auto" style="padding-right: 0px;padding-left: 0px;"> <!--  dash-size  -->

              <!-- Tab panes -->
              <div class="tab-content">
                <div class="tab-pane active" id="info">
                  <div class="row">
                    <div class="col-xs-3 col-sm-4 dash-col-left">
                      <div class="card card-category">
                        <div class="btn-magnify">
                          <div class="row col-md-12" style="margin-left:1em; padding-bottom: -1em ">
                            <div class="pull-left card-category clrs-h1-font">
                              <a>
                                <i class="nc-icon nc-palette"></i> Colours Personal</a>
                            </div>
                          </div>
                          <div class="pull-left col-md-10" style="margin-left:1em;padding-top: -1em; color: steelblue ">
                            <a>My Diary Today</a>
                          </div>
                          <div class="spacer" style="height: 2.4em;"></div>
                          <div class="row" style="height: 100px">
                            <div id="container">
                              <!-- <div class="content container scroll-em" *ngIf="showActions"> -->
                              <div class="content container scroll-em" *ngIf="actionNo2 != 0">
                                <ol style="list-style-type:none;padding-left: 12px;">
                                  <!-- <li class="" style="color:steelblue" *ngFor="let event of maActivities"> -->
                                  <li class="" style="color:steelblue" *ngFor="let event of stdWorks">
                                    <div class="col-sm-12" style="margin-left: 2px; margin-right:-.5em">
                                      <a class="nameCol" style="color:slategrey" [ngStyle]="{color: event.txtColours}">
                                        <!-- <span class="label text-warning"> {{ event.start }}</span> {{ event.name }} -->
                                        <span class="row">
                                          <span class="label text-warning" style="width: 4em; padding-left: 1em"> {{ event.start }}</span>
                                          <span class="nameCol" style="padding-left: 0.5em"> {{ event.name }}</span>
                                        </span>
                                      </a>
                                    </div>
                                  </li>
                                </ol>
                              </div>
                              <div class="content container scroll-em" *ngIf="actionNo2 === 0">
                                <div class="row">
                                  <div class="col-sm-12" style="margin-left:-.5em; margin-right:-.5em">
                                    <ol style="list-style-type:none;">
                                      <li>
                                        <!-- <div class="row"> -->
                                        <a style="color:lightgrey">
                                          <span class="col-md-9 text-info">Meeting</span>
                                          <span class="col-md-3 mr-auto number text-warning"> 1000 hrs</span>
                                        </a>
                                        <!-- </div> -->
                                      </li>
                                      <li>
                                        <!-- <div class="row"> -->
                                        <a style="color:lightgrey">
                                          <span class="col-md-9 text-info">Email</span>
                                          <span class="col-md-3 mr-auto ml-auto number text-success">1230 Hrs</span>
                                        </a>
                                        <!-- </div> -->
                                      </li>
                                      <li>
                                        <!-- <div class="row"> -->
                                        <a style="color:lightgrey">
                                          <span class="col-md-9 text-info">Skype</span>
                                          <span class="col-md-3 mr-auto ml-auto label text-success"> 1400 Hrs </span>
                                        </a>
                                        <!-- </div> -->
                                      </li>
                                      <li>
                                        <!-- <div class="row "> -->
                                        <a style="color:lightgrey">
                                          <span class="col-md-9 text-info">Scheduling</span>
                                          <span class="col-lg-3 mr-auto ml-auto label text-success"> 0800 Hrs </span>
                                        </a>
                                        <!-- </div> -->
                                      </li>
                                    </ol>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- <div class="card-body">
                                            <h6 class="big-title">total earnings in last ten quarters</h6>
                                            <canvas id="activeUsers" width="auto" height="200"></canvas>
                                          </div> -->
                        <div class="card-footer">
                          <hr>
                          <div class="row">
                            <div class="col-sm-7">
                              <!-- <div class="footer-title">View more.....</div> -->
                            </div>
                            <div class="col-sm-5">
                              <div class="pull-right">
                                <!-- <button class="btn btn-success btn-round btn-icon btn-sm">
                                  <i class="nc-icon nc-simple-add"></i>
                                </button> -->
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-xs-3 col-sm-4 dash-col">
                      <div class="card card-category">
                        <div class="btn-magnify">
                          <div class="row col-md-12" style="margin-left:1em; padding-bottom: -1em ">
                            <div class="pull-left card-category clrs-h1-font">
                              <a>
                                <i class="fa fa-folder-o [&#xf114;]"></i> Colours Project</a>
                            </div>
                          </div>
                          <!-- <hr class="line" style="padding-bottom:0em; padding-top: -1em"> -->
                          <!-- <div class="pull-left col-md-12 card-category" style="margin-left:2em;padding-top: -1em; color: steelblue; "> -->
                          <div class="pull-left col-md-12" style="margin-left:1em;padding-top: -1em; color: steelblue; ">
                            <a>My Current Priority Projects</a>
                          </div>
                          <div class="spacer" style="height:2.4em;"></div>
                          <div class="col-sm-10" id="pTasklist" style="height: 100px">
                            <!--  style="margin-left: 2em" -->
                            <div class="content container scroll-em" *ngIf="showProjs">
                              <ol style="list-style-type:none;padding-left: 18px;">
                                <!-- <li class="col-xs-12 ml-auto mr-auto" style="color:steelblue" *ngFor="let project of myProjects | async"> -->
                                <li class="col-xs-12 ml-auto mr-auto" style="color:steelblue" *ngFor="let project of projs">
                                  <a class="nameCol" [routerLink]="[ '/projects/', project.id ]" style="color:slategray">
                                    <span class="nameCol text-info">{{ project.name }}</span></a>
                                </li>
                              </ol>
                            </div>
                            <div class="content container scroll-em" *ngIf="hideProjs">
                              <div class="row">
                                <div class="col-sm-12" style="margin-left:-.5em; margin-right:-.5em">
                                  <ol>
                                    <li>
                                      <!-- <div class="row"> -->
                                      <a style="color:lightgrey">
                                        <span class="col-md-12 text-info">Project 1</span>
                                      </a>
                                      <!-- </div> -->
                                    </li>
                                    <li>
                                      <!-- <div class="row"> -->
                                      <a style="color:lightgrey">
                                        <span class="col-md-12 text-info">Project 2</span>
                                      </a>
                                      <!-- </div> -->
                                    </li>
                                    <li>
                                      <!-- <div class="row"> -->
                                      <a style="color:lightgrey">
                                        <span class="col-md-12 text-info">Project 3</span>
                                      </a>
                                      <!-- </div> -->
                                    </li>
                                    <li>
                                      <!-- <div class="row "> -->
                                      <a style="color:lightgrey">
                                        <span class="col-md-12 text-info">Project 4</span>
                                      </a>
                                      <!-- </div> -->
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- <div class="card-body">
                                            <h6 class="big-title">total subscriptions in last 7 days</h6>
                                            <canvas id="emailsCampaignChart" width="auto" height="200"></canvas>
                                          </div> -->
                        <div class="card-footer">
                          <hr>
                          <div class="row">
                            <div class="col-sm-7">
                              <!-- <div class="footer-title">View more.....</div> -->
                            </div>
                            <div class="col-sm-5">
                              <div class="pull-right">
                                <!-- <button class="btn btn-danger btn-round btn-icon btn-sm">
                                  <i class="nc-icon nc-button-play"></i>
                                </button> -->
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-xs-3 col-sm-4 ml-auto mar-auto dash-col-right">
                      <div class="card card-category">
                        <div class="card-content btn-magnify">
                          <div class="row col-sm-12 ml-auto mr-auto" style="padding-bottom: -1em ">
                            <div class="clrs-h1-font">
                              <a><i class="fa fa-feed  fa-flip-vertical fa-fw"></i> {{ (company)?.name }} News</a>
                            </div>
                            <div class="text-left col-md-12" style="margin-left: 1em; color: steelblue;font-size: 2 ">
                              <a>All {{ (company)?.name }} enterprise News</a>
                            </div>
                          </div>
                          <div class="spacer" style="height: 1em;"></div>
                          <div id="eTasklixt" class="row col-sm-12 ml-auto mr-auto">
                            <marquee direction="up">
                              <ol style="padding-left: 14px; padding-right: 14px;">
                                <li>
                                    <div class="col-md-9 " style="margin-left: 1em">
                                      <a class="text-danger" href="#Respond_to_feed" style="color:lightgrey">
                                        Increase your ﬁnancial networth by using Colours
                                        to get the best results out of your efforts.
                                      </a>
                                    </div>
                                </li>
                                <li>
                                    <div class="col-md-9" style="margin-left:1em">
                                      <a href="#Respond_to_mail" style="color:lightgrey">
                                        Use Colours to TRACK your own daily performance metrics, review and improve on
                                        the same.
                                      </a>
                                    </div>
                                </li>
                                <li>
                                    <div class="col-md-9" style="margin-left:1em">
                                      <a href="#Contact_Supplier" style="color:lightgrey">
                                        Colours will help you pay attention to the effective
                                        use of yo time and your any other resources.
                                      </a>
                                    </div>
                                </li>
                                <li>
                                    <div class="col-md-9" style="margin-left:1em">
                                      <a href="#Aripo" style="color:lightgrey">
                                        Colours will help you squeeze the most out of your life
                                      </a>
                                    </div>
                                </li>
                              </ol>
                            </marquee>
                          </div>
                        </div>
                        <div class="card-footer">
                          <hr>
                          <div class="row">
                            <div class="col-sm-7">
                              <div class="footer-title">View more.....</div>
                            </div>
                            <div class="col-sm-5">
                              <div class="pull-right">
                                <button class="btn btn-warning btn-round btn-icon btn-sm">
                                  <i class="nc-icon nc-alert-circle-i"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="standards">
                  <div class="col-md-5 mr-auto ml-auto text-center">
                    <p>Coming Soon.</p>
                  </div>
                </div>
                <div class="tab-pane" id="compSetup">
                  <div class="col-md-12">
                    <div class="card-body nav-hor-tabs">
                      <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                          <ul id="tabs" class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                              <a class="nav-link nav-colors active" data-toggle="tab" href="#subs" role="tab"
                                aria-expanded="false">Subsidiaries</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#dept" role="tab" aria-expanded="true">Departments</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#proj" role="tab" aria-expanded="false">Projects</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#cstaff" role="tab" aria-expanded="false">Staff
                                Register</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#client" role="tab" aria-expanded="false">Clients</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#asset" role="tab" aria-expanded="false">Asset
                                Register</a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div id="my-tab-content" class="tab-content text-center">
                        <div class="tab-pane" role="tabpanel" id="dept" aria-expanded="false">
                          <div class="card-header text-left" style="padding-top: 0px;">
                            <h5 class="card-category" style="height: 28px; font-size: 8;">
                              Company Departments<br><small>
                              </small><br>
                            </h5>
                          </div>
                          <div class="table-responsive">
                            <table class="table text-left">
                              <thead class="card-category">
                                <th>Department</th>
                                <th>Head(HOD)</th>
                                <th>Action</th>
                              </thead>
                              <tbody>
                                <tr *ngFor="let dept of departments" style="border-bottom: darkslategrey">
                                  <td class="td-clrs" style="padding-left: 1em">{{ dept.name }}</td>
                                  <td class="td-clrs" style="padding-left: 1em">{{ (dept.hod)?.name }}</td>
                                  <td class="td-clrs">
                                    <a *ngIf="dept.hod == null" class="btn warning btn-link btn-icon btn-sm edit"
                                      data-toggle="modal" (click)="dpTasks(dept)" data-target="#entDptStaff" rel="tooltip"
                                      title="Set department head"><i class="fa fa-edit"></i></a>
                                    <a class="btn danger btn-link btn-icon btn-sm remove" (click)="deleteDept(dept)"><i
                                        class="fa fa-times"></i></a>
                                  </td>
                                  <hr>
                                </tr>

                                <div class="">
                                  <div class="spacer" style="height:2em"></div>
                                  <input class="form-control" placeholder="Add Department" type="text" [(ngModel)]="dpt.name">
                                  <button class="primary btn-link" (click)="saveDept(dpt)">Save</button>
                                </div>
                              </tbody>
                            </table>
                          </div>
                        </div>

                        <div class="tab-pane active" id="subs" role="tabpanel" aria-expanded="true">
                          <div class="card-header text-left" style="padding-top: 0px;">
                            <h5 class="card-category" style="height: 28px; font-size: 8;">
                              Company Subsidiaries<br><small>
                              </small><br>
                            </h5>
                          </div>
                          <div class="table-responsive">
                            <!--  pro_info -->
                            <table class="table text-left">
                              <thead class="card-category">
                                <th>Subsidiary</th>
                                <th>Sector</th>
                                <th>Location</th>
                                <th>Action</th>
                              </thead>
                              <tbody>
                                <tr *ngFor="let subsidiary of subsidiaries | async">
                                  <!--  style="border-bottom: darkslategrey" -->
                                  <td class=" td-clrs" style="padding-left: 1em">{{ subsidiary.name }}</td>
                                  <td class=" td-clrs" style="padding-left: 1em">{{ subsidiary.sector }}</td>
                                  <td class=" td-clrs" style="padding-left: 1em">{{ subsidiary.location }}</td>
                                  <td class=" td-clrs">
                                    <!-- <a class="btn warning btn-link btn-icon btn-sm edit" rel="tooltip" title="Select Department"><i class="fa fa-edit"></i></a> -->
                                    <a class="btn danger btn-link btn-icon btn-sm remove" (click)="deleteSubs(subsidiary)"><i
                                        class="fa fa-times"></i></a>
                                  </td>
                                  <hr>
                                </tr>
                              </tbody>
                            </table>
                            <div class="text-left">
                              <div class="spacer" style="height:2em"></div>
                              <div class="card-header text-left" style="padding-top: 0px;">
                                <h5 class="card-category" style="height: 28px; font-size: 8;">
                                  Add Subsidiary
                                </h5>
                              </div>
                              <div class="row">
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="nc-icon nc-tablet-2"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Subsidiary name..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="subsidiary.name">
                                  </div>
                                </div>
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="nc-icon nc-tag-content"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Location..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="subsidiary.location">
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text">
                                        <i class="nc-icon nc-tag-content"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Industry sector..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="subsidiary.sector">
                                  </div>
                                </div>
                              </div>
                              <button class="primary btn-link" (click)="saveSubsidiary()">save</button>
                            </div>
                          </div>
                        </div>

                        <div class="tab-pane" id="proj" role="tabpanel" aria-expanded="false">

                          <div class=" row card-header text-left" style="padding-top: 0px;">
                            <h5 class="card-category col-md-8" style="height: 28px; font-size: 8;">
                              Company projects<br><small>
                              </small><br>
                            </h5>
                            <a class="info btn-link" rel="tooltip" routerLink="/work" title="create project">
                              <!--  (click)="joinProject(project)" style="cursor:default"-->Create 
                            </a>
                            <span style="padding-top: 8px;">/</span>
                            <a class="info btn-link" rel="tooltip" routerLink="/projects/join-project" title="Join project">
                              <!--  (click)="joinProject(project)" style="cursor:default"-->Join project
                            </a>
                          </div>
                          <div class="table-responsive pro_info">
                            <table class="table">
                              <thead class="card-category">
                                <th class="text-left">Name</th>
                                <th>Sector</th>
                                <th>Location</th>
                                <!-- <th>Project Id</th> -->
                                <th>Action</th>
                              </thead>
                              <tbody>
                                <tr *ngFor="let project of projects">
                                  <!--  [routerLink]="[ '/projects/', project.id ]" -->
                                  <td class="text-left"> {{ project.name }} </td>
                                  <td> {{ project.sector }}</td>
                                  <td> {{ project.location }}</td>
                                  <!-- <td> {{ project.id }} </td> -->
                                  <td class="text-center">

                                    <a class="btn btn-warning btn-link btn-icon btn-sm edit" rel="tooltip" data-toggle="modal"
                                      data-target="#confirmModal" (click)="setProject(project)" title="join project">
                                      <!--  (click)="joinProject(project)" style="cursor:default"-->
                                      <i class="fa fa-edit"></i>
                                    </a>
                                    <a *ngIf="project.byId == userId" class="btn btn-danger btn-link btn-icon btn-sm remove"
                                      (click)="deleteProject(project.id)">
                                      <i class="fa fa-times"></i>
                                    </a>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>

                        <div class="tab-pane" id="cstaff" role="tabpanel" aria-expanded="false">
                          <div class="row">
                            <div class="col-md-12">
                              <div class="card-header text-left" style="padding-top: 0px;">
                                <h5 class="card-category title clrs-h4-font" style="height: 28px; font-size: 8;">
                                  Company Staff<br><small>
                                  </small><br>
                                </h5>
                              </div>
                              <div class="table-responsive">
                                <table class="table text-left">
                                  <thead class="card-category">
                                    <th>Name</th>
                                    <th>Department</th>
                                    <th>Action</th>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let person of allStaff" style="border-bottom: #2f4f4f">
                                      <td class="td-clrs" style="padding-left: 1em">{{ person.name }}</td>
                                      <td class="td-clrs" style="padding-left: 1em">{{ person.department }}</td>
                                      <td class="td-clrs">
                                        <a *ngIf="!person.department" class="btn warning btn-link btn-icon btn-sm edit"
                                          rel="tooltip" title="Add to Department" (click)="selectUser(person)" data-toggle="modal" data-target="#addStaffdpt"><i class="fa fa-edit"></i></a>
                                        <a class="btn danger btn-link btn-icon btn-sm remove" (click)="deleteStaff(person)"><i class="fa fa-times"></i></a>
                                        <a class="btn danger btn-link btn-icon btn-sm remove text-info" (click)="viewStaff(person)" style ="padding-top: 5px;" data-toggle="modal" data-target="#editStaffdata"><small>edit</small></a>
                                      </td>
                                      <hr>
                                    </tr>
                                  </tbody>
                                </table>
                                <div class="text-left">
                                  <div class="row" style="padding-top: 0px;">
                                    <div class="col-ms-8">
                                      <div class="card-header text-left">
                                        <h5 class="card-category" style="height: 28px; font-size: 8;">
                                          Add new staff
                                        </h5>
                                      </div>
                                    </div>
                                    <div class="col-ms-4 mr-auto ml-auto">
                                      <div class="card-header text-right">
                                        <h5 class="card-category" style="height: 28px; font-size: 8;">
                                          Add from <button class="primary btn-link" data-toggle="modal" data-target="#usersList">Colours
                                            Users</button>
                                        </h5>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-10">
                                      <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                        <div class="input-group-prepend">
                                          <span class="input-group-text">
                                            <i class="fa fa-user-md"></i>
                                          </span>
                                        </div>
                                        <input type="text" class="form-control" placeholder="Staff name..." (focus)="focus=true"
                                          (blur)="focus=false" [(ngModel)]="companystaff.name">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-10">
                                      <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                        <div class="input-group-prepend">
                                          <span class="input-group-text">
                                            <i class="nc-icon nc-tag-content"></i>
                                          </span>
                                        </div>
                                        <input type="text" class="form-control" placeholder="Phone number ..." (focus)="focus=true"
                                          (blur)="focus=false" [(ngModel)]="companystaff.phoneNumber">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-10">
                                      <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                        <div class="input-group-prepend">
                                          <span class="input-group-text">
                                            <i class="nc-icon nc-email-85"></i>
                                          </span>
                                        </div>
                                        <input type="email" class="form-control" placeholder="email address ..."
                                          (focus)="focus=true" (blur)="focus=false" [(ngModel)]="companystaff.email">
                                      </div>
                                    </div>
                                  </div>
                                  <button class="primary btn-link" (click)="saveStaff(companystaff)">save</button>
                                </div>
                              </div>
                            </div>
                            <!-- <div class="col-md-4 mr-auto ml-auto">
                              <div class="card-plain">
                                <div class="card-header text-left" style="padding-top: 0px;">
                                  <h5 class="card-category title clrs-h4-font" style="height: 28px; font-size: 8;">
                                    Connection Requests<br><small>
                                    </small><br>
                                  </h5>
                                </div>
                                <ul>
                                  <li *ngFor="let rMan of staffRequests | async"><span>{{ rMan.name }}</span><span><button
                                        class="btn-link" (click)="acceptRequest(rMan)"> Accept
                                      </button></span></li>
                                </ul>
                              </div>
                            </div> -->
                          </div>
                        </div>

                        <div class="tab-pane" id="client" role="tabpanel" aria-expanded="false">
                          <div class="">
                            <div class="card-header text-left" style="padding-top: 0px;">
                              <h5 class="card-category" style="height: 28px; font-size: 8;">
                                Company Client Accounts<br><small>
                                </small><br>
                              </h5>
                            </div>
                            <div class="table-responsive">
                              <!--  pro_info -->
                              <table class="table text-left">
                                <thead class="card-category">
                                  <th>Client</th>
                                  <th>Contact person</th>
                                  <th>Action</th>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let user of clients | async" style="border-bottom: darkslategrey">
                                    <td class="td-clrs" style="padding-left: 1em">{{ (user)?.name }}</td>
                                    <td class="card-category td-clrs" style="padding-left: 1em">
                                      <span *ngIf="user.contactPerson">
                                        {{ user.contactPerson.name }}
                                      </span>
                                      <span *ngIf="user.champion">
                                        {{ user.champion.name }}
                                      </span></td>
                                    <td class="td-clrs">
                                      <button class="btn-link btn-icon edit" rel="tooltip" title="Send mail"><i class="nc-icon nc-email-85"></i></button>
                                      <button class=" btn-link btn-icon remove" (click)="deleteDept(dept)"><i class="nc-icon nc-simple-remove"></i></button>
                                    </td>
                                    <hr>
                                  </tr>
                                </tbody>
                              </table>
                              <div class="text-left">
                                <div class="spacer" style="height:2em"></div>
                                <div class="card-body">
                                  <div class="row text-info">
                                    <div class="col-md-1"></div>
                                    <div class="col-md-10 ml-auto mr-auto">
                                      <a style="cursor: context-menu" data-toggle="modal" data-target="#companyPicker">Pick
                                        client from existing Companies in Colours</a>
                                    </div>
                                  </div>
                                  <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
                                    <div class="card card-plain">
                                      <div class="card-header" role="tab" id="headingOne">
                                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse2"
                                          aria-expanded="false" aria-controls="collapse2">
                                          Add Client
                                          <i class="nc-icon nc-minimal-down"></i>
                                        </a>
                                      </div>
                                      <div id="collapse2" class="collapse" role="tabpanel" aria-labelledby="heading2">
                                        <div class="card-body">
                                          <div class="row">
                                            <div class="col-md-5">
                                              <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-suitcase"></i>
                                                  </span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Company name..."
                                                  (focus)="focus=true" (blur)="focus=false" [(ngModel)]="client.name">
                                              </div>
                                            </div>
                                          </div>
                                          <div class="card-header text-left" style="padding-top: 0px;">
                                            <h5 class="card-category" style="font-size: 8; padding-top: 4px; margin-bottom: 6px;">
                                              Contact personel details
                                            </h5>
                                          </div>
                                          <div class="row">
                                            <div class="col-md-7">
                                              <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="nc-icon nc-email-85"></i>
                                                  </span>
                                                </div>
                                                <input type="email" class="form-control" placeholder="email..." (focus)="focus=true"
                                                  (blur)="focus=false" [(ngModel)]="contactPerson.email">
                                              </div>
                                            </div>
                                          </div>
                                          <div class="row">
                                            <div class="col-md-5">
                                              <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-user-o"></i>
                                                  </span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Contact name..."
                                                  (focus)="focus=true" (blur)="focus=false" [(ngModel)]="contactPerson.name">
                                              </div>
                                            </div>
                                            <div class="col-md-5">
                                              <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-phone"></i>
                                                  </span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Phone number..."
                                                  (focus)="focus=true" (blur)="focus=false" [(ngModel)]="contactPerson.phoneNumber">
                                              </div>
                                            </div>
                                          </div>
                                          <button class="primary btn-link" (click)="saveClient(asset)">save</button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="tab-pane" id="asset" role="tabpanel" aria-expanded="false">
                          <div class="card-header text-left" style="padding-top: 0px;">
                            <h5 class="card-category" style="height: 28px; font-size: 8;">
                              Company Asset Register<br><small>
                              </small><br>
                            </h5>
                          </div>
                          <div class="table-responsive">
                            <!--  pro_info -->
                            <table class="table text-left">
                              <thead class="card-category">
                                <th>Asset</th>
                                <th>Asset No.</th>
                                <th>Action</th>
                              </thead>
                              <tbody>
                                <tr *ngFor="let asset of assets | async" style="border-bottom: darkslategrey">
                                  <td class="td-clrs" style="padding-left: 1em">{{ asset.name }}</td>
                                  <td class="td-clrs" style="padding-left: 1em">{{ asset.assetNumber }}</td>
                                  <td class="td-clrs">
                                    <a class="btn warning btn-link btn-icon btn-sm edit" rel="tooltip" title="Select Department"><i
                                        class="fa fa-edit"></i></a>
                                    <a class="btn danger btn-link btn-icon btn-sm remove" (click)="removeAsset(asset)"><i
                                        class="fa fa-times"></i></a>
                                  </td>
                                  <hr>
                                </tr>
                              </tbody>
                            </table>
                            <div class="text-left">
                              <div class="spacer" style="height:2em"></div>
                              <div class="card-header text-left" style="padding-top: 0px;">
                                <h5 class="card-category" style="height: 28px; font-size: 8;">
                                  Add Asset
                                </h5>
                              </div>
                              <div class="row">
                                <div class="col-md-8">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text" style="padding-bottom: 7px;">
                                        <i class="nc-icon nc-tablet-2"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Asset name..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="asset.name">
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text" style="padding-bottom: 7px;">
                                        <i class="nc-icon nc-tablet-2"></i>
                                      </span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Serial /Reg No..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="asset.assetNumber">
                                  </div>
                                </div>
                                <div class="col-md-5">
                                  <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text" style="padding-bottom: 7px;">
                                        <i class="fa fa-usd"></i>
                                      </span>
                                    </div>
                                    <input type="number" class="form-control" placeholder="Asset Cost value..." (focus)="focus=true"
                                      (blur)="focus=false" [(ngModel)]="asset.cost">
                                  </div>
                                </div>
                              </div>
                              <button class="primary btn-link" (click)="saveAsset(asset)">save</button>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="planning">
                  <div class="col-md-12">
                    <div class="card-body nav-hor-tabs">
                      <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                          <ul id="tabs" class="nav nav-tabs" role="tablist">
                            <li class="nav-item" hidden >
                              <a class="nav-link nav-colors" data-toggle="tab" href="#week" role="tab"
                                aria-expanded="true">Week</a><!--  (click)="setPeriod('startWeek')" -->
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors active" data-toggle="tab" href="#month" role="tab" aria-expanded="false">Month</a><!--  (click)="setPeriod('startMonth')" -->
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#quarter" role="tab" aria-expanded="false">Quarter</a><!--  (click)="setPeriod('startQuarter')" -->
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#year" role="tab" aria-expanded="false">Year</a><!--  (click)="setPeriod('startYear')" -->
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div id="my-tab-content" class="tab-content text-center">
                        <div hidden class="tab-pane" id="day" role="tabpanel" aria-expanded="true">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startDay')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>
                                  {{ currentDay }}'s Tasks
                                  <button class="btn-link" (click)="changePeriod('next','startDay')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div class="table-responsive">
                                <table class="table">
                                  <thead class="text-primary">
                                    <th class="text-left">Name</th>
                                    <th class="text-center">Details</th>
                                    <th class="text-right">Start</th>
                                    <th class="text-right">Action</th>                                    
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let tss of todayTasks | async">
                                      <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                      <td class="text-center td-clrs">
                                        <span>
                                          <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                          <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2>{{ tss.department }},</font></span>
                                          <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>                                                  
                                        </span>
                                      </td>
                                      <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                      <td class="text-right td-clrs">
                                        <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                          <font size=2> ... </font>
                                        </button>
                                        <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                          <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                            data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                          <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                            (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                        </div>
                                      </td>
                                    </tr>
                                    <tr class="text-left">
                                      <button rel="tooltip" title="click to create a task" class="btn-link" data-toggle="modal"
                                        data-target="#tskModal">New Task</button>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div hidden class="tab-pane" id="week" role="tabpanel" aria-expanded="false">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startWeek')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>Week {{ currentWeek.week() }}'s Tasks of
                                  Year {{ currentWeek.year() }}
                                  <button class="btn-link" (click)="changePeriod('next','startWeek')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div aria-multiselectable="true" class="card-collapse" id="accordionDay" role="tablist">
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day0')" data-toggle="collapse" href="#planDay0"
                                      aria-expanded="false" aria-controls="planDay0">
                                      {{ day0label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay0" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of todayTasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>                                                  
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day1')" data-toggle="collapse" href="#planDay1"
                                      aria-expanded="false" aria-controls="planDay1">
                                      {{ day1label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay1" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day1Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day2')" data-toggle="collapse" href="#planDay2"
                                      aria-expanded="false" aria-controls="planDay2">
                                      {{ day2label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay2" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day2Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>                                                  
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day3')" data-toggle="collapse" href="#planDay3"
                                      aria-expanded="false" aria-controls="planDay3">
                                      {{ day3label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay3" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day3Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>                                                  
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day4')" data-toggle="collapse" href="#planDay4"
                                      aria-expanded="false" aria-controls="planDay4">
                                      {{ day4label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay4" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day4Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>                                                  
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day5')" data-toggle="collapse" href="#planDay5"
                                      aria-expanded="false" aria-controls="planDay5">
                                      {{ day5label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay5" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day5Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>                                                  
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pDAY0">
                                    <a class="collapsed" (click)="setDay('day6')" data-toggle="collapse" href="#planDay6"
                                      aria-expanded="false" aria-controls="planDay6">
                                      {{ day6label }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planDay6" class="collapse" aria-labelledby="pDAY0" data-parent="#accordionDay">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of day6Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>                                                  
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane active" id="month" role="tabpanel" aria-expanded="false">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startMonth')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>
                                  {{ currentMonth }}<small>th</small> month's Tasks of Year {{ currentYear }}
                                  <!-- {{ currentMonth }}<small>th</small> month's Tasks of Year {{ currentYear }} {{ monthLabel }} -->
                                  <button class="btn-link" (click)="changePeriod('next','startMonth')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div aria-multiselectable="true" class="card-collapse" id="accordionWeek" role="tablist">
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pWeek">
                                    <a class="collapsed" (click)="setWeek('week0')" data-toggle="collapse" href="#planWeek0"
                                      aria-expanded="false" aria-controls="planWeek0">
                                      Week {{ week0label.week() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planWeek0" class="collapse" aria-labelledby="pWeek" data-parent="#accordionWeek">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of week0Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pWeek">
                                    <a class="collapsed" (click)="setWeek('week1')" data-toggle="collapse" href="#planWeek1"
                                      aria-expanded="false" aria-controls="planWeek1">
                                      Week {{ week1label.week() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planWeek1" class="collapse" aria-labelledby="pWeek" data-parent="#accordionWeek">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of week1Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pWeek">
                                    <a class="collapsed" (click)="setWeek('week2')" data-toggle="collapse" href="#planWeek2"
                                      aria-expanded="false" aria-controls="planWeek2">
                                      Week {{ week2label.week() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planWeek2" class="collapse" aria-labelledby="pWeek" data-parent="#accordionWeek">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of week2Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pWeek">
                                    <a class="collapsed" (click)="setWeek('week3')" data-toggle="collapse" href="#planWeek3"
                                      aria-expanded="false" aria-controls="planWeek3">
                                      Week {{ week3label.week() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planWeek3" class="collapse" aria-labelledby="pWeek" data-parent="#accordionWeek">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of week3Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane" id="quarter" role="tabpanel" aria-expanded="false">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startQuarter')"><i class="nc-icon nc-minimal-left"
                                      style="margin-right:3em"></i></button>
                                  {{ currentQuarter }}<small>th</small> Quarter's Tasks of Year {{ currentYear }}
                                  <button class="btn-link" (click)="changePeriod('next','startQuarter')"><i class="nc-icon nc-minimal-right"
                                      style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div aria-multiselectable="true" class="card-collapse" id="accordionMonth" role="tablist">
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pMonth">
                                    <a class="collapsed" (click)="setMonth('month1')" data-toggle="collapse" href="#planMonth1"
                                      aria-expanded="false" aria-controls="planMonth1">
                                      {{ month1label.format('MMMM') }}, {{ month1label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planMonth1" class="collapse" aria-labelledby="pMonth" data-parent="#accordionMonth">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of month1Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pMonth">
                                    <a class="collapsed" (click)="setMonth('month2')" data-toggle="collapse" href="#planMonth2"
                                      aria-expanded="false" aria-controls="planMonth2">
                                      {{ month2label.format('MMMM') }}, {{ month2label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planMonth2" class="collapse" aria-labelledby="pMonth" data-parent="#accordionMonth">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of month2Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pMonth">
                                    <a class="collapsed" (click)="setMonth('month3')" data-toggle="collapse" href="#planMonth3"
                                      aria-expanded="false" aria-controls="planMonth3">
                                      {{ month3label.format('MMMM') }}, {{ month3label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planMonth3" class="collapse" aria-labelledby="pMonth" data-parent="#accordionMonth">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of month3Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane" id="year" role="tabpanel" aria-expanded="false">
                          <div class="card">
                            <div class="">
                              <div class="card-text">
                                <p class="card-title">
                                  <button class="btn-link" (click)="changePeriod('previous','startYear')"><i class="nc-icon nc-minimal-left" style="margin-right:3em"></i></button>
                                  Year {{ currentYear }}'s Tasks
                                  <button class="btn-link" (click)="changePeriod('next','startYear')"><i class="nc-icon nc-minimal-right" style="margin-left:3em"></i></button>
                                </p>
                              </div>
                            </div>
                            <div class="card-body">
                              <div aria-multiselectable="true" class="card-collapse" id="accordionQuarter" role="tablist">
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pQuarter">
                                    <a class="collapsed" (click)="setQuarter('quarter0')" data-toggle="collapse" href="#planQuarter0"
                                      aria-expanded="false" aria-controls="planQuarter0">
                                      Quarter {{ quarter0label.quarter() }} of year {{ quarter0label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planQuarter0" class="collapse" aria-labelledby="pQuarter" data-parent="#accordionQuarter">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of quarter0Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link" data-toggle="modal" data-target="#tskModal">New
                                                Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pQuarter">
                                    <a class="collapsed" (click)="setQuarter('quarter1')" data-toggle="collapse" href="#planQuarter1"
                                      aria-expanded="false" aria-controls="planQuarter1">
                                      Quarter {{ quarter1label.quarter() }} of year {{ quarter1label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planQuarter1" class="collapse" aria-labelledby="pQuarter" data-parent="#accordionQuarter">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of quarter1Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pQuarter">
                                    <a class="collapsed" (click)="setQuarter('quarter2')" data-toggle="collapse" href="#planQuarter2"
                                      aria-expanded="false" aria-controls="planQuarter2">
                                      Quarter {{ quarter2label.quarter() }} of year {{ quarter2label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planQuarter2" class="collapse" aria-labelledby="pQuarter" data-parent="#accordionQuarter">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of quarter2Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal" data-target="#taskErase"
                                                    (click)="setDel(tss)" title="Remove {{ tss.name }}"><font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="card card-plain">
                                  <div class="card-header" role="tab" id="pQuarter">
                                    <a class="collapsed" (click)="setQuarter('quarter3')" data-toggle="collapse" href="#planQuarter3"
                                      aria-expanded="false" aria-controls="planQuarter3">
                                      Quarter {{ quarter3label.quarter() }} of year {{ quarter3label.year() }}
                                      <i class="nc-icon nc-minimal-down"></i>
                                    </a>
                                  </div>
                                  <div id="planQuarter3" class="collapse" aria-labelledby="pQuarter" data-parent="#accordionQuarter">
                                    <div class="card-body">
                                      <div class="table-responsive">
                                        <table class="table">
                                          <thead class="text-primary">
                                            <th class="text-left">Name</th>
                                            <th class="text-center">Details</th>
                                            <th class="text-right">Start</th>
                                            <th class="text-right">Action</th>
                                          </thead>
                                          <tbody>
                                            <tr *ngFor="let tss of quarter3Tasks | async">
                                              <td class="text-left td-clrs"><font size=2>{{ tss.name }}</font></td>
                                              <td class="text-center td-clrs">
                                                <span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName !== ''"><font size=2>{{ tss.projectName }},</font></span>
                                                  <span class="text-left text-warning" *ngIf="tss.projectName === '' && tss.department !== ''"><font size=2> {{ tss.department }},</font></span>
                                                  <span class="text-left text-info" *ngIf="tss.champion.name !== ''"><font size=2> {{ tss.champion.name }}</font></span>
                                                </span>
                                              </td>
                                              <td class="text-right td-clrs"><font size=2>{{ tss.start | date }}</font></td>
                                              <td class="text-right td-clrs">
                                                <button class="dropdown-toggle primary btn-link" type="button" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                  <font size=2> ... </font>
                                                </button>
                                                <div class="primary dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="btn-primany dropdown-item text-info btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskInfo" (click)="setDel(tss)" title="{{ tss.name }} info"><font size=2>Info</font></button>
                                                  <button class="btn-primany dropdown-item text-danger btn-link"
                                                   rel="tooltip" data-toggle="modal" data-target="#taskErase" (click)="setDel(tss)" title="Remove {{ tss.name }}">
                                                   <font size=2>Remove</font></button>
                                                </div>
                                              </td>
                                            </tr>
                                            <tr class="text-left">
                                              <button rel="tooltip" title="click to create a task" class="btn-link"
                                                data-toggle="modal" data-target="#tskModal">New Task
                                              </button>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="implement">
                  <div class="card" style="margin-left: -90px;margin-right: -40px;">
                    <div class="card-body" style="padding-top:0px">
                      <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                          <ul id="tabs" class="nav nav-tabs" role="tablist">
                            <li class="nav-item">
                              <a class="nav-link nav-colors active" data-toggle="tab" href="#cIntray" role="tab" aria-expanded="true">
                                In-tray For whole company
                              </a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#dIntray" role="tab" aria-expanded="false">
                                In-tray For Each Department
                              </a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#weekly" role="tab" aria-expanded="true">
                                Weekly Calendar
                              </a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link nav-colors" data-toggle="tab" href="#diary" role="tab"
                                aria-expanded="false">
                                Daily Diary
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div id="my-tab-content" class="tab-content text-center">
                        <div class="tab-pane active" id="cIntray" role="tabpanel" aria-expanded="true">
                          <div class="row">
                            <div class="col-md-6 ml-auto mr-auto">
                              <div class="card">
                                <!-- <div class="card-body text-center" style="padding-left: 0px;padding-right: 0px;padding-top:0px"> -->
                                <div class="card-body text-left" style="padding-top:0px">
                                  <div class="card-header text-left"style="padding-left: 0px;padding-right: 0px;">
                                    <p class="title na-an" style="color: steelblue"><i class="ti-palette"></i> Things To Do In Tray For company</p>
                                    Task List
                                  </div>
                                  <!-- <div class="card-body"> -->
                                  <div class="card-body" style="padding-left: 0px;padding-right: 0px;">
                                    <div id="accordionTsk" role="tablist" aria-multiselectable="true" class="card-collapse">
                                      <div class="card card-plain">
                                        <div class="card-header text-left" role="tab" id="headingOne"> <!--  (click)="sortTasks()" -->
                                          <a data-toggle="collapse" href="#Outstanding" aria-expanded="true"
                                            aria-controls="Outstanding">
                                            Outstanding Tasks
                                            <i class="nc-icon nc-minimal-down"></i>
                                          </a>
                                        </div>
                                        <div id="Outstanding" class="collapse show" role="tabpanel" aria-labelledby="headingOne"
                                          data-parent="#accordionTsk">
                                          <!-- <div class="card-body" style="padding-left: 0px;"> -->
                                          <div class="card-body" style="padding-left: 0px;padding-right: 0px;">

                                            <div class="content container scroll-task" style="padding-left: 0px;">
                                              <!-- <ol style="padding-left:18px;"> -->
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let tss of OutstandingTasks">
                                                  <!-- <div class="row"> -->
                                                    <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                                      <button class="dropdown-toggle btn-link" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="color:slategrey;padding-bottom: 0px;">
                                                        <!-- style="color:slategrey" title="Project: {{ tss.projectName }} Champion: {{ tss.champion.name }}"> -->
                                                        <span *ngIf="tss.projectName !==''; else showSpan" title="Champion:{{ tss.champion.name }}. Project:{{ tss.projectName }}">{{ tss.name }}</span>
                                                        <!-- <span *ngIf="tss.projectName !==''; else showSpan" title="Champion:{{ tss.championName }}. Project:{{ tss.projectName }}">{{ tss.name }}</span> -->
                                                        <ng-template #showSpan>
                                                          <span  title=" Department:{{ tss.department }}.Champion:{{ tss.champion.name }}">{{ tss.name }}</span>
                                                        </ng-template>
                                                        <span class="label text-warning"> {{ tss.when }}</span>
                                                      </button><br>
                                                      <span name="taskDetails">
                                                        <span *ngIf="tss.department !==''" class="category text-info"> {{ tss.department }}</span>
                                                        <span *ngIf="tss.champion !== null || tss.champion !== undefined" class="category text-warning">
                                                          <span *ngIf="tss.champion.name !==''" >; {{ tss.champion.name }}</span>
                                                        </span>
                                                        <span *ngIf="tss.projectName !==''" class="category text-info">; {{ tss.projectName }}</span>
                                                        <span class="text-left" *ngIf="tss.champion !== null || tss.projectName !== ''|| tss.department !==''">.</span>
                                                      </span>
                                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                        <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          (click)="selectTask(tss)" data-toggle="modal" data-target="#dptModal"
                                                          title="Reallocate {{ tss.name }} to a department">Reallocate to department</button>
                                                        <!-- <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          data-toggle="modal" data-target="#tskModal" (click)="closeTask(tss)"
                                                          title="Set task as completed">Task Complete</button> -->
                                                      </div>
                                                    </div>
                                                  <!-- </div> -->
                                                </li>
                                              </ol>
                                              <p *ngIf="OutstandingTasks.length == 0">No Outstanding Tasks</p>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="card card-plain">
                                        <div class="card-header text-left" role="tab" id="headingTwo">
                                          <a class="collapsed" data-toggle="collapse" href="#currentTsk" aria-expanded="false"
                                            aria-controls="currentTsk">
                                            Current Tasks
                                            <i class="nc-icon nc-minimal-down"></i>
                                          </a>
                                        </div>
                                        <div id="currentTsk" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionTsk">
                                          <!-- <div class="card-body" style="padding-left: 0px;"> -->
                                          <div class="card-body" style="padding-left: 0px;padding-right: 0px;">
                                            <div class="content container scroll-task" style="padding-left: 0px;">
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let tss of CurrentTAsks">
                                                  <!-- <div class="row"> -->
                                                    <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                                      <button class="dropdown-toggle btn-link" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="color:slategrey;padding-bottom: 0px;">
                                                        <!-- style="color:slategrey" title="Project: {{ tss.projectName }} Champion: {{ tss.champion.name }}"> -->
                                                        <span *ngIf="tss.projectName !==''; else showSpanC"
                                                          title="Champion:{{ tss.champion.name }}. Project:{{ tss.projectName }}">{{ tss.name }}</span>
                                                          <!-- title="Champion:{{ tss.championName }}. Project:{{ tss.projectName }}">{{ tss.name }}</span> -->
                                                        <ng-template #showSpanC>
                                                          <span title=" Department:{{ tss.department }}.Champion:{{ tss.champion.name }}">{{ tss.name }}</span>
                                                        </ng-template>
                                                        <span class="label text-warning"> {{ tss.when }}</span>
                                                      </button><br>
                                                      <span name="taskDetails">
                                                        <span *ngIf="tss.department !==''" class="category text-info"> {{ tss.department }}</span>
                                                        <span *ngIf="tss.champion !== null || tss.champion !== undefined" class="category text-warning">
                                                          <span *ngIf="tss.champion.name !==''" >; {{ tss.champion.name }}</span>
                                                        </span>
                                                        <span *ngIf="tss.projectName !==''" class="category text-info">; {{ tss.projectName }}</span>
                                                        <span class="text-left" *ngIf="tss.champion !== null || tss.projectName !== ''">.</span>
                                                      </span>
                                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                      <button class="dropdown-item primary btn-link" rel="tooltip"
                                                        (click)="selectTask(tss)" data-toggle="modal" data-target="#dptModal"
                                                        title="Reallocate {{ tss.name }} to a department">Reallocate to department
                                                      </button>
                                                        <!-- <button class="dropdown-item primary btn-link" rel="tooltip"
                                                          data-toggle="modal" data-target="#tskModal" (click)="closeTask(tss)"
                                                          title="Set task as completed">Task Complete</button> -->
                                                      </div>
                                                    </div>
                                                  <!-- </div> -->
                                                </li>
                                              </ol>
                                              <p *ngIf="CurrentTAsks.length == 0">No Current Tasks</p>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="card card-plain">
                                        <div class="card-header text-left" role="tab" id="headingThree">
                                          <a class="collapsed" data-toggle="collapse" href="#upcoming" aria-expanded="false"
                                            aria-controls="upcoming">
                                            Upcoming Tasks
                                            <i class="nc-icon nc-minimal-down"></i>
                                          </a>
                                        </div>
                                        <div id="upcoming" class="collapse" aria-labelledby="headingThree" data-parent="#accordionTsk">
                                          <!-- <div class="card-body" style="padding-left: 0px;"> -->
                                          <div class="card-body" style="padding-left: 0px;padding-right: 0px;">
                                            <div class="content container scroll-task" style="padding-left: 0px;">
                                              <!-- Short Term Tasks<br> -->
                                              <div class="card-header text-left"> Short Term Tasks</div><br>
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let tss of ShortTermTAsks">
                                                  <!-- <div class="row"> -->
                                                    <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                                      <button class="dropdown-toggle btn-link" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="color:slategrey;padding-bottom: 0px;"><!--  title="Project: {{ tss.projectName }} Champion: {{ tss.champion.name }}" -->
                                                        <span *ngIf="tss.projectName !==''; else showSpanS"
                                                          title="Champion:{{ tss.champion.name }}. Project:{{ tss.projectName }}">{{ tss.name }}</span>
                                                          <!-- title="Champion:{{ tss.championName }}. Project:{{ tss.projectName }}">{{ tss.name }}</span> -->
                                                        <ng-template #showSpanS>
                                                          <span title=" Department:{{ tss.department }}.Champion:{{ tss.champion.name }}">{{ tss.name }}</span>
                                                        </ng-template>
                                                        <span class="label text-warning"> {{ tss.when }}</span>
                                                      </button><br>
                                                      <span name="taskDetails">
                                                        <span *ngIf="tss.department !==''" class="category text-info"> {{ tss.department }}</span>
                                                        <span *ngIf="tss.champion !== null || tss.champion !== undefined" class="category text-warning">
                                                          <span *ngIf="tss.champion.name !==''">; {{ tss.champion.name }}</span>
                                                        </span>
                                                        <span *ngIf="tss.projectName !==''" class="category text-info">; {{ tss.projectName }}</span>
                                                        <span class="text-left" *ngIf="tss.champion.null !=='' || tss.projectName !== ''|| tss.department !==''">.</span>
                                                      </span>
                                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                        <button class="dropdown-item primary btn-link" rel="tooltip" (click)="selectTask(tss)" data-toggle="modal"
                                                          data-target="#dptModal" title="Reallocate {{ tss.name }} to a department">Reallocate to department</button>
                                                        <!-- <button class="dropdown-item primary btn-link" rel="tooltip" data-toggle="modal" data-target="#tskModal"
                                                          (click)="closeTask(tss)" title="Set task as completed">Task Complete</button> -->
                                                      </div>
                                                    </div>
                                                  <!-- </div> -->
                                                </li>
                                              </ol>
                                              <!-- Medium Term Tasks<br> -->
                                            <div class="card-header text-left">Medium Term Tasks</div><br>
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let tss of MediumTermTAsks">
                                                  <!-- <div class="row"> -->
                                                    <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                                      <button class="dropdown-toggle btn-link" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="color:slategrey;padding-bottom: 0px;">
                                                        <span *ngIf="tss.projectName !==''; else showSpanM"
                                                          title="Champion:{{ tss.champion.name }}. Project:{{ tss.projectName }}">{{ tss.name }}</span>
                                                          <!-- title="Champion:{{ tss.championName }}. Project:{{ tss.projectName }}">{{ tss.name }}</span> -->
                                                        <ng-template #showSpanM>
                                                          <span title=" Department:{{ tss.department }}.Champion:{{ tss.champion.name }}">{{ tss.name }}</span>
                                                        </ng-template>
                                                        <span class="label text-warning"> {{ tss.when }}</span>
                                                      </button><br>
                                                      <span name="taskDetails">
                                                        <span *ngIf="tss.department !==''" class="category text-info"> {{ tss.department }}</span>
                                                        <span *ngIf="tss.champion !== null || tss.champion !== undefined" class="category text-warning">
                                                          <span *ngIf="tss.champion.name !==''">; {{ tss.champion.name }}</span>
                                                        </span>
                                                        <span *ngIf="tss.projectName !==''" class="category text-info">; {{ tss.projectName }}</span>
                                                        <span class="text-left" *ngIf="tss.champion !== null || tss.projectName !== ''|| tss.department !==''">.</span>
                                                      </span>
                                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                        <button class="dropdown-item primary btn-link" rel="tooltip" (click)="selectTask(tss)" data-toggle="modal"
                                                          data-target="#dptModal" title="Reallocate {{ tss.name }} to a department">Reallocate to department</button>
                                                        <!-- <button class="dropdown-item primary btn-link" rel="tooltip" data-toggle="modal" data-target="#tskModal"
                                                          (click)="closeTask(tss)" title="Set task as completed">Task Complete</button> -->
                                                      </div>
                                                    </div>
                                                  <!-- </div> -->
                                                </li>
                                              </ol>
                                              <!-- Long Term Tasks<br> -->
                                            <div class="card-header text-left">Long Term Tasks</div><br>
                                              <ol>
                                                <li class="" style="color:steelblue" *ngFor="let tss of LongTermTAsks">
                                                  <!-- <div class="row"> -->
                                                    <div class="col-sm-12 text-left" style="margin-right:-.5em">
                                                      <button class="dropdown-toggle btn-link" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="color:slategrey;padding-bottom: 0px;">
                                                        <span *ngIf="tss.projectName !==''; else showSpanL"
                                                          title="Champion:{{ tss.champion.name }}. Project:{{ tss.projectName }}">{{ tss.name }}</span>
                                                          <!-- title="Champion:{{ tss.championName }}. Project:{{ tss.projectName }}">{{ tss.name }}</span> -->
                                                        <ng-template #showSpanL>
                                                          <span title=" Department:{{ tss.department }}.Champion:{{ tss.champion.name }}">{{ tss.name }}</span>
                                                        </ng-template>
                                                        <span class="label text-warning"> {{ tss.when }}</span>
                                                      </button><br>
                                                      <span name="taskDetails">
                                                        <span *ngIf="tss.department !==''" class="category text-info"> {{ tss.department }}</span>
                                                        <span *ngIf="tss.champion !== null || tss.champion !== undefined" class="category text-warning">
                                                          <span *ngIf="tss.champion.name !==''">; {{ tss.champion.name }}</span>
                                                        </span>
                                                        <span *ngIf="tss.projectName !==''" class="category text-info">; {{ tss.projectName }}</span>
                                                        <span class="text-left" *ngIf="tss.champion !==null || tss.projectName !== ''|| tss.department !==''">.</span>
                                                      </span>
                                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                        <button class="dropdown-item primary btn-link" rel="tooltip" (click)="selectTask(tss)" data-toggle="modal"
                                                          data-target="#dptModal" title="Reallocate {{ tss.name }} to a department">Reallocate to department</button>
                                                        <!-- <button class="dropdown-item primary btn-link" rel="tooltip" data-toggle="modal" data-target="#tskModal"
                                                          (click)="closeTask(tss)" title="Set task as completed">Task Complete</button> -->
                                                      </div>
                                                    </div>
                                                  <!-- </div> -->
                                                </li>
                                              </ol>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6 ml-auto mr-auto">
                              <div class="card">
                                <div class="card-body text-center" style="padding-top:0px">
                                  <div class="card-header">
                                    <p class="title na-an" style="color: steelblue"><i class="ti-palette"></i>
                                      Allocate to Department</p>
                                    <div id="accordionB" role="tablist" aria-multiselectable="true" class="card-collapse">
                                        <ul style="list-style-type:none">
                                          <li *ngFor="let department of departments">
                                            <div class="card card-plain">
                                              <div class="card-header" role="tab" id="heading2">
                                                <a class="collapsed" data-toggle="collapse" href="#{{  department.id  }}cdid"
                                                  (click)="showTasks(department)" aria-expanded="false" aria-current="false">{{ department.name }}<i class="nc-icon nc-minimal-down"></i>
                                                </a>
                                              </div>
                                              <div id="{{  department.id  }}cdid" class="collapse" data-parent="#accordionB"
                                                role="tabpanel" aria-labelledby="heading2">
                                                <div class="card-body impl-flow">
                                                  <ol>
                                                    <li *ngFor="let task of dptIntrayTasks | async" class="text-left" style="padding-left: 2em">
                                                      <!-- <div class="card-body impl-flow"> -->
                                                        <ng-container  *ngIf="task.departmentId === department.id">
                                                          <span *ngIf="task.projectName !==''; else showSpanDptsk" class="col-md-8"
                                                            title="Champion:{{ task.champion.name }}. Project:{{ task.projectName }}">
                                                            <font size=2> {{ task.name }}</font>
                                                          </span>
                                                          <ng-template #showSpanDptsk>
                                                            <span class="col-md-8" title=" Department:{{ task.department }}.Champion:{{ task.champion.name }}">
                                                              <font size=2> {{ task.name }}</font>
                                                            </span>
                                                          </ng-template>
                                                          <br>
                                                          <span name="taskDetails">
                                                            <span *ngIf="task.champion.name !=='' || task.champion !== null || task.champion !== undefined" class="category">
                                                              {{ task.champion.name }}</span>
                                                            <span *ngIf="task.projectName !==''" class="category text-info">; {{ task.projectName }}</span>
                                                            <span class="text-left" *ngIf="task.champion.name !=='' || task.projectName !== ''">.</span>
                                                          </span>.
                                                        </ng-container>
                                                      <!-- </div>       -->
                                                    </li>
                                                  </ol>
                                                </div>
                                              </div>
                                            </div>
                                          </li>
                                        </ul>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div hidden class="row">
                            <button data-toggle="modal" data-target="#dptMoveModal" >Move tasks to another Department</button>
                          </div>


                        </div>
                        <div class="tab-pane" id="dIntray" role="tabpanel" aria-expanded="false">
                          <div class="row">
                            <div class="col-md-6 ml-auto mr-auto">
                              <div class="card">
                                <div class="card-body text-center" style="padding-top:0px">
                                  <div class="card-header text-left">
                                    <p class="title na-an" style="color: steelblue"><i class="ti-palette"></i>
                                      Things To Do In Tray For Departments</p>
                                    <div class="row">
                                      <div class="col-md-12">
                                        <ng-select [items]="departments2" bindLabel="name" name="jyu" placeholder="Select department" (change)="showDpTasks()" [(ngModel)]="setDpt">
                                        </ng-select>
                                      </div>
                                    </div>
                                    <div class="col-md-12 impl-flow">
                                      <div class="text-left" style="margin-right:-.5em">
                                        <div id="accordionTasks" role="tablist" aria-multiselectable="true" class="card-collapse">
                                          <ol style="padding-left: 0px;">
                                            <div class="col-md-9">
                                              <li class="impl-dpt-flow" style="color:steelblue;width: min-content;" *ngFor="let tss of taskArr">
                                                <button class="col-md-12 dropdown-toggle btn-link" id="dropdownMenuButton"
                                                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color:slategrey;padding-bottom: 0px; padding-left: 0px;">
                                                  <span *ngIf="tss.projectName !==''; else showSpanDp" class=""
                                                    title="Champion:{{ tss.champion.name }}. Project:{{ tss.projectName }}"><font size=2> {{ tss.name }}</font></span>
                                                    <!-- title="Champion:{{ tss.championName }}. Project:{{ tss.projectName }}">{{ tss.name }}</span> -->
                                                  <ng-template #showSpanDp>
                                                    <span class="text-left" title=" Department:{{ tss.department }}.Champion:{{ tss.champion.name }}">{{ tss.name }}</span>
                                                  </ng-template>
                                                  <span class="label text-warning"><font size=2> {{ tss.when }}</font></span>
                                                </button><br>
                                                <span name="taskDetails">
                                                  <span *ngIf="tss.champion !== null || tss.champion !== undefined" class="category"> 
                                                    <span *ngIf="tss.champion.name !==''">; {{ tss.champion.name }}</span>
                                                  </span>
                                                  <span *ngIf="tss.projectName !==''" class="category text-info">; {{ tss.projectName }}</span>
                                                  <span class="text-left" *ngIf="tss.champion !== null || tss.projectName !== ''">.</span>
                                                </span>.
                                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                  <button class="dropdown-item primary btn-link" rel="tooltip"
                                                    (click)="selectTask(tss)" data-toggle="modal" data-target="#taskdptStaff"
                                                    title="Assign {{ tss.name }} to a department champion ">
                                                    Reallocate Champion
                                                  </button>
                                                </div>
                                              </li>
                                            </div>
                                          </ol>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6 ml-auto mr-auto">
                              <div class="card">
                                <div class="card-body text-center" style="padding-top:0px">
                                  <div class="card-header">
                                    <p class="title na-an text-left" style="color: steelblue"><i class="ti-palette"></i>
                                      In tray for each staff
                                    </p>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-12">
                                      <ng-select [(ngModel)]="staffId" (change)="showUserTasks(staffId)" placeholder="Select Staff">
                                        <ng-option *ngFor="let user of dptStaff | async" [value]="user.id">{{ user.name }}</ng-option>
                                      </ng-select>
                                    </div>
                                  </div>
                                  <div *ngIf="staffId">
                                    <div class="card-body">
                                      <div class="row col-md-12 impl-flow2">
                                        <ol style="list-style-type:none;padding-left: 0px">
                                          <li class="impl-dpt-flow" *ngFor="let tss of staffTasks | async" style="color:slategray">
                                            <div class="card-header text-left" role="tab">
                                              <a class="text-left" aria-current="false"><font size=2>{{ tss.name }}</font></a><br>
                                              <span name="taskDetails">
                                                <span *ngIf="tss.champion !== null || tss.champion !== undefined" class="category">
                                                  <span *ngIf="tss.champion.name !==''">; {{ tss.champion.name }}</span>
                                                </span>
                                                <span *ngIf="tss.projectName !==''" class="category text-info">; {{ tss.projectName }}</span>
                                                <span class="text-left" *ngIf="tss.champion.name !=='' || tss.projectName !== ''">.</span>
                                              </span>.
                                            </div>
                                          </li>
                                        </ol>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane" id="weekly" role="tabpanel" aria-expanded="false">
                          <!-- <div class="card"> -->
                          <div class="card-body text-center" style="padding-top:0px">
                            <div class="row">
                              <div class="col-md-6">
                                <ng-select [items]="compStaff3" bindLabel="name" placeholder="Select Staff" [(ngModel)]="userEmployee" (change)="showUserDetailTasks(userEmployee)"></ng-select>
                              </div>
                            </div>
                          </div>
                          <div *ngIf="!showSubtasks" class="row card-category clrs-h4-font">
                            <!-- <div class="col-xs-1"></div> -->
                            <div class="col-md-3">Sub-task</div>
                            <!-- <div class="col-md-1"></div> -->
                            <div class="col-md-3 text-left na-an">Start</div>
                            <div class="col-md-3 text-left ">Finish</div>
                            <div class="text-left ">Actions</div>
                          </div>
                          <div *ngIf="!showSubtasks" id="accordionTasksActions" role="tablist" aria-multiselectable="true" class="impl-flow">
                            <ol style="list-style-type:none;padding-left: 0px">
                              <li *ngFor="let item of companyActions">
                                <div class="col-md-12 col-ms-12 col-xs-12 row card-category">
                                  <div class="col-sm-3 text-left"><a title="{{ item.by }}">{{ item.name }}</a></div>
                                  <div class="col-sm-3 text-left"><a>{{ item.startDay }}, {{ item.startDate }}</a></div>
                                  <div class="col-sm-3 text-left"><a>{{ item.endDay }}, {{ item.endDate }}</a></div>
                                  <div>
                                    <small>
                                      <button class="primary btn-link" (click)="selectEditAction(item)" data-toggle="modal"
                                        data-target="#editAction">
                                        Add date
                                      </button><button class="primary btn-link" data-toggle="modal" (click)="select2EditAction(item);"
                                        data-target="#actionItemParticipants">
                                        Team
                                      </button>
                                    </small>
                                  </div>
                                </div>
                              </li>
                            </ol>
                          </div>
                          <div *ngIf="showSubtasks" class="impl-flow">
                            <div class="row clrs-h4-font">
                              <div class="col-sm-5 text-left" style="padding-left: 29px;">Task List
                              </div>
                              <div class="col-sm-5">
                                <div class="row">
                                  <div class="col-sm-6 text-left ma-an">Details</div>
                                </div>
                              </div>
                              <div class="col-sm-2"></div>
                            </div>
                            <div class="card-body">
                              <div id="accordionA" role="tablist" aria-multiselectable="true" class="card-collapse col-md-12">
                                <ol style="list-style-type:none;padding-left: 0px">
                                  <!-- <li *ngFor="let tss of staffTasks2 | async" style="color:slategray"> -->
                                  <li *ngFor="let tss of usTasks" style="color:slategray">
                                    <div class="col-md-12 col-ms-12 col-xs-12 row">
                                      <div class="col-md-12 col-sm-10 text-left" style="padding-left: 0px;padding-right: 0px;">
                                        <div class="card card-plain">
                                          <div class="card-header" role="tab" id="heading2">
                                            <a class="collapsed" data-toggle="collapse" href="#{{  tss.id  }}" (click)="showTaskActions(tss)"
                                              title="Click on Tasks in your In Tray" aria-expanded="false" aria-current="false">
                                              <!-- <div class="row"> -->
                                                <span class="text-left" style="width: 20em;">{{ tss.name }},</span>
                                                <!-- <span [ngClass]="{'col-md-6 col-sm-6 text-left' : userId === (duflowKey + est)}"> -->
                                                <ng-container *ngIf = "userId === (duflowKey + est); else showW2">
                                                  <span *ngIf="tss.projectName !== ''" class="text-left text-warning"> {{ tss.projectName }},</span>
                                                    <span *ngIf="tss.champion.name !== ''" class="text-left text-info"> {{ tss.champion.name }}</span>
                                                    <i class="nc-icon nc-minimal-down"></i>
                                                </ng-container>
                                                <ng-template #showW2>
                                                    <span *ngIf="tss.projectName !== ''" class="text-left text-warning"> {{ tss.projectName }},</span>
                                                    <span *ngIf="tss.champion.name !== ''" class="text-left text-info"> {{ tss.champion.name }}</span>
                                                    <i class="nc-icon nc-minimal-down"></i>
                                                </ng-template>
                                                <span *ngIf=" userId === (duflowKey + est)" class="col-md-2">
                                                  <button class="btn-primany dropdown-item text-danger btn-link" rel="tooltip" data-toggle="modal"
                                                    data-target="#taskErase" (click)="setDel(tss)" title="Remove {{ tss.name }}">Remove</button>
                                                </span>
                                              <!-- </div> -->
                                            </a>
                                          </div>
                                          <div id="{{  tss.id  }}" class="collapse" data-parent="#accordionA" role="tabpanel" aria-labelledby="heading2">
                                            <div class="row card-category clrs-h4-font">
                                              <div class="col-sm-3 col-md-3" style="padding-left: 55px;">
                                                <font size=2>Sub-task</font>
                                              </div>
                                              <div class="col-sm-6 col-md-7">
                                                <div class="row">
                                                  <div class="col-sm-6 text-left na-an" style="padding-left: 35px;">
                                                    <font size=2>Start Date</font>
                                                  </div>
                                                  <div class="col-sm-6 text-left na-an" style="padding-left: 35px;">
                                                    <font size=2>Finish Date</font>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="col-sm-2"></div>
                                            </div>
                                            <div class="card-body">
                                              <ol style="list-style-type:none;padding-left: 0px;">
                                                <li *ngFor="let item of taskActions | async">
                                                <!-- <li *ngFor="let item of mytaskActions | async">                                -->
                                                  <div class="row" style="color: darkslategrey">
                                                    <div class="text-left">
                                                      <input style="margin-top: 4px;" name="nchkStd" class="pull-right col-form-label"
                                                        *ngIf="item.selectedWeekWork == true; else wNCK2" type="checkbox" checked disabled
                                                        (change)="setWeekAction($event, item)">
                                                      <ng-template #wNCK2>
                                                        <input style="margin-top: 4px;" name="nchkStd2" class="pull-right col-form-label"
                                                          type="checkbox" (change)="setWeekAction($event, item)">
                                                      </ng-template>
                                                    </div>
                                                    <div class="col-sm-3 pull-left" style="padding-left: 2em">
                                                      <span class="text-left" [ngClass]="{'strikethrough' : item.selectedWeekWork == true}"
                                                        name="weekStdName" style="padding-top: 2px; padding-left: 10px; padding-right: 10px">
                                                        <!-- <font size=2>{{ item.name }}</font> -->
                                                        <!-- <ng-container *ngIf="item.description && item.description != ''; else itemName"> -->
                                                        <ng-container *ngIf="item.description; else itemName">
                                                          <font size=2>{{ item.description }}</font>
                                                        </ng-container>
                                                        <ng-template #itemName><font size=2>{{ item.name }}</font></ng-template>
                                                      </span>
                                                    </div>
                                                    <div class="col-sm-8">
                                                      <div class="row">
                                                        <div class="col-sm-5 text-left">
                                                          <font size=2>{{ item.startDay }}, {{ item.startDate }}</font>
                                                        </div>
                                                        <div class="col-sm-5 text-left">
                                                          <font size=2>{{ item.endDay }}, {{ item.endDate }}</font>
                                                        </div>
                                                        <button class="primary btn-link" (click)="selectEditAction(item)" data-toggle="modal"
                                                          data-target="#editAction" style=" padding-top: 0px; padding-bottom: 0px;">
                                                          Add date</button>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </li>
                                              </ol>
                                            </div>
                                            <!--START -- Munashe 18/09/2019   -->

                                            <button  *ngIf="tss.projectName === ''; else pSubs" class="btn-link btn-round primary" (click)="selectTask(tss)" data-toggle="modal"
                                              data-target="#newAction">
                                              <small> Add Sub-task</small>
                                            </button>

                                            <ng-template #pSubs>  
                                              <small class= "text-warning">
                                                To create subtasks, goto the projects page 
                                                <a [routerLink]="[ '/projects/', tss.projectId ]">
                                                <span class="text-info">{{ tss.projectName }}</span>
                                              </a>
                                            </small>
                                          </ng-template>

                                          <!--End --Munashe 18/09/2019 -->

                                            <!-- <button *ngIf="tss.projectName !== ''; else pSubs" class="btn-link btn-round primary" (click)="selectTask(tss)" data-toggle="modal"
                                              data-target="#newAction">
                                              <small>Add Sub-task</small>
                                            </button>
                                            <ng-template #pSubs>
                                              <button class="btn-link btn-round primary" (click)="selectTask(tss)"
                                                data-toggle="modal" data-target="#newProjectAction">
                                                <small>Add Sub-task</small>
                                              </button>
                                            </ng-template> -->
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </li>
                                </ol>
                              </div>
                            </div>
                            <div class="row card-category">
                              <div class="col-md-12 col-sm-12">
                                <p class="category">Click Add date to add or edit the start and end date for the Sub-task</p>
                              </div>
                            </div>
                          </div>
                        </div>


                        <div class="tab-pane" id="diary" role="tabpanel" aria-expanded="false">
                          <div class="row card-category clrs-h4-font">
                            <div class="col-sm-3 text-left" style="padding-left: 40px;">
                              <a class="clrs-h1-font">Daily Diary</a>
                            </div>
                            <div class="col-sm-1"></div>
                            <div class="col-sm-2"><a class="btn btn-primary btn-link a-mycol" (click)="changeDay('previous','startDate')">Previous</a></div>
                            <div class="col-sm-3 clrs-h4-font text-info">{{ workWeekDay }} {{ workDay }}</div>
                            <div class="col-sm-2"><a class="btn btn-primary btn-link a-mycol" (click)="changeDay('next','startDate')">Next</a></div>
                            <div class="col-sm-1"></div>
                          </div>
                          <div class="row">
                            <div class="col-sm-4 card-header text-left" style="padding-left: 40px;padding-top: 0px;"></div><!-- <b>Sub-task<span class="card-category"> Details</span></b> -->
                            <div class="col-sm-2 card-header text-left" style="padding-left: 1em; padding-right: 0px;padding-top: 0px;"><b>Target Qty</b></div>
                            <div class="col-sm-2 card-header text-left" style="padding-left: 0px; padding-right: 0px;padding-top: 0px;"><b>Start time</b></div>
                            <div class="col-sm-2 card-header text-left" style="padding-left: 12px; padding-right: 0px;padding-top: 0px;"><b>Finish time</b></div>
                            <div class="col-sm-2 card-header text-left"></div>
                          </div><br>
                          <div *ngIf="viewDayActions.length !== 0; else showProcessing" class="card-body impl-flow" style="margin-top: -5px">
                            <!-- <div class="col-sm-12"> -->
                            <ol style="list-style-type:none; padding-left: 10px;">
                              <li *ngFor="let item of viewDayActions">
                                <div class="col-md-12 col-ms-12 col-xs-12 row">
                                  <!-- <div class="col-sm-2"> -->
                                  <div class="text-left col-md-4 col-sm-4 category">
                                    <a>
                                      <ng-container *ngIf="item.description; else subzname">
                                        <div *ngIf="item.description !==''" class="col-sm-4 text-left"> 
                                          <span *ngIf="item.projectName !=='' || item.champion.name; else showSpanDay" title="Champion:{{ item.champion.name }}. Project:{{ item.projectName }}">
                                            <span class="text-info" *ngIf="item.taskName !==''; else showSpan2">{{ item.description }};
                                              <span class="text-warning"> {{ item.taskName }},</span><br>
                                              <span class="" style="color: grey;"> {{ item.projectName }}, {{ item.champion.name }}</span>
                                            </span>
                                            <ng-template #showSpan2>
                                              <span class="text-warning">{{ item.description }},</span><br>
                                              <span class="" style="color: grey;"> {{ item.projectName }}, {{ item.champion.name }}</span>
                                            </ng-template>
                                          </span>
                                          <ng-template #showSpanDay>
                                            <span title=" Department:{{ item.department }}.Champion:{{ item.champion.name }}"><!-- {{ item.taskName }}: {{ item.description }} -->
                                              <span class="text-info" *ngIf="item.taskName !==''; else showSpan3">{{ item.description }};
                                                <span class=" text-warning"> {{ item.taskName }},</span><br>
                                                <span class="" style="color: grey;"> {{ item.department }}, {{ item.champion.name }}</span>
                                              </span>
                                              <ng-template #showSpan3>
                                                <span class="text-warning">{{ item.description }},</span><br>
                                                <span class="" style="color: grey;"> {{ item.department }}, {{ item.champion.name }}</span>
                                              </ng-template>
                                            </span>
                                          </ng-template>
                                        </div>
                                      </ng-container>
                                      <ng-template #subzname>
                                        <span *ngIf="item.projectName !=='' || item.champion.name; else showSpanDay" title="Champion:{{ item.champion.name }}. Project:{{ item.projectName }}">
                                          <span class="text-info" *ngIf="item.taskName !==''; else showSpan2">{{ item.name }};
                                            <span class="text-warning"> {{ item.taskName }},</span><br>
                                            <span class="" style="color: grey;"> {{ item.projectName }}, {{ item.champion.name }}</span>
                                          </span>
                                          <ng-template #showSpan2>
                                            <span class="text-warning">{{ item.name }},</span><br>
                                            <span class="" style="color: grey;"> {{ item.projectName }}, {{ item.champion.name }}</span>
                                          </ng-template>
                                        </span>
                                        <ng-template #showSpanDay>
                                          <span title=" Department:{{ item.department }}.Champion:{{ item.champion.name }}"><!-- {{ item.taskName }}: {{ item.name }} -->
                                            <span class="text-info" *ngIf="item.taskName !==''; else showSpan3">{{ item.name }};
                                              <span class=" text-warning"> {{ item.taskName }},</span><br>
                                              <span class="" style="color: grey;"> {{ item.department }}, {{ item.champion.name }}</span>
                                            </span>
                                            <ng-template #showSpan3>
                                              <span class="text-warning">{{ item.name }},</span><br>
                                              <span class="" style="color: grey;"> {{ item.department }}, {{ item.champion.name }}</span>
                                            </ng-template>
                                          </span>
                                        </ng-template>
                                      </ng-template>
                                    </a>
                                  </div>
                                  <div class="row col-md-8 col-sm-8">
                                    <div class="col-md-3 col-sm-3" style="padding-left: 5px; padding-right:5px">
                                      <!-- <div class="form-group"> -->
                                      <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                        <input type="text" class="form-control panel-boader" [(ngModel)]="item.targetQty" title="Enter Target Quantity"
                                          style=" padding-left: 10px; padding-right: 10px; height:2em" placeholder="Enter" /><!-- clrs-cell  -->
                                        <div class="input-group-postpend">
                                          <span class="input-group-text" style=" padding-left: 10px; padding-right: 10px; height:28px">
                                            <small>{{ item.unit }}</small>
                                          </span>
                                        </div>
                                      </div>
                                      <!-- </div> -->
                                    </div>
                                    <div class="col-md-3 col-sm-3" style="padding-left: 5px; padding-right:5px">
                                      <div class="form-group">
                                        <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.start"
                                          style=" padding-left: 10px; padding-right: 10px; height:2em" placeholder="Time from" />
                                        <!-- clrs-cell  -->
                                      </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3" style="padding-left: 5px; padding-right:5px">
                                      <div class="form-group">
                                        <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.end"
                                          style=" padding-left: 10px; padding-right: 10px;  height:2em" placeholder="Time to" />
                                        <!-- clrs-cell  -->
                                      </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3" style="padding-left: 0px; padding-right:50px">
                                      <div class="form-group">
                                        <small><button class="primary btn-link" style=" padding-left: 10px; padding-right: 0px; height:2em"
                                            (click)="addActionTime(item)">Save</button>
                                          <button class="primary btn-link" data-toggle="modal" data-target="#actionItemParticipants"
                                            (click)="select2EditAction(item)"style="padding-right: 0px;">
                                            Team
                                          </button></small>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </li>
                            </ol>
                          </div>
                          <ng-template #showProcessing>
                            <div class="spacer" style="height:3em" ></div>
                            <div class="body center" style="height: 512px">
                              <i class="fa fa-spinner fa-spin fa-4x fa-fw"></i>
                              <p>Processing.....</p>
                            </div>
                          </ng-template>
                          <div class="card-footer">
                            <div class="row">
                              <div class="col-md-9 text-left">
                                <p class="category">To create new task under<b> Daily Diary </b>If the new activity does not belong to any
                                  existing task Goto Planning & create the Task for your activity and remember to add the task to weekly Tasks</p>
                              </div>
                              <div class="col-md-3 text-right">
                                  <button class="primary btn-link" data-toggle="modal" data-target="#newAction4Today" rel="tooltip" title="Create new Sub-task">                                
                                  <!-- (click)="selectEditAction(item);showActionParticipants()"  -->
                                  New Sub-task
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="reports">
                  <div class="col-md-12">
                    <div class="card">
                      <div class="card-body" style="margin-top: -3em">
                        <div class="nav-tabs-navigation">
                          <div class="nav-tabs-wrapper">
                            <ul id="tabs" class="nav nav-tabs" role="tablist">
                              <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#internalReport" role="tab" aria-expanded="true">Internal</a>
                              </li>
                              <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#publicReport" role="tab" aria-expanded="false">Public</a>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <div id="my-tab-content" class="tab-content text-center">
                          <div class="tab-pane active" id="internalReport" role="tabpanel" aria-expanded="true">
                            <div class="col-md-12 ml-auto mr-auto">
                              <div class="row">
                                <div class="col-md-12">
                                  <p class="text-left title card-category" style="color: darkslategray">
                                    Many other Reports and Metrics are coming up covering all corners of a project, an enterprise and personal life
                                  </p>
                                </div>
                              </div>
                            </div><br>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Company Details</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p" style="margin-left:2em ">
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Company Name </span>
                                    <span class="col-sm-9">: {{ (company)?.name }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Sector </span>
                                    <span class="col-sm-9">: {{ (company)?.sector }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Services </span>
                                    <span class="col-sm-9">
                                      <a *ngFor="let service of (company)?.services">: {{ service.display }} <br></a>
                                    </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Location </span>
                                    <span class="col-sm-9">: {{ (company)?.location }} </span>
                                  </span><br>
                                  <!-- Location : {{ (company)?.location }} -->
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <!-- <p class="text-left title clrs-h4-font" style="color: darkslategray"> Compliance</p> -->
                              <p class="text-left title  clrs-h4-font" style="color: darkslategray"> <!--  [routerLink]="['../../pages/time-spent', compId, 'details']"  -->
                                <span> <a routerLink="../../individual-reports"  style="color: darkslategray">Individual Reports</a></span>
                              </p>
                            </div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <!-- <p class="text-left title clrs-h4-font" style="color: darkslategray"> Compliance</p> -->
                              <p class="text-left title  clrs-h4-font" style="color: darkslategray">
                                <span> <a routerLink="../../individual-rpts" style="color: darkslategray">Department Reports</a></span>
                              </p>
                            </div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <!-- <p class="text-left title clrs-h4-font" style="color: darkslategray"> Compliance</p> -->
                              <p class="text-left title  clrs-h4-font" style="color: darkslategray">
                                <span> <a routerLink="../total-actions" style="color: darkslategray">Project Reports</a></span>
                              </p>
                            </div>
                            <div hidden class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray"> Compliance</p>
                            
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Tax Clearance </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Industry sector registration </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Health and Safety </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                            <div hidden class="spacer" style="height: 2em"></div>
                            <div hidden class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Metrics</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Revenue Per Capital </span>
                                        <span class="col-sm-2">: 5/10 </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Annual staff costs percentage of
                                          total Annual Revenue </span>
                                        <span class="col-sm-2">: 70 % </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Sum of projects finished to projects
                                          supposed to be finished to date </span>
                                        <span class="col-sm-2">: 7/10 </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks
                                          planned to Date </span>
                                        <span class="col-sm-2">: 80 % </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks
                                          planned to Date By Key Personel </span>
                                        <span class="col-sm-2">: 60 % </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                            <div hidden class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Departments</p>
                              <div class="card-plain card-content">
                              <div *ngIf="displayDeptReport" class="card-body">
                                <div class="row">
                                  <div class="col-sm-4">
                                    <p class="clrs-h4-font" style="margin-top:0em; color:darkslategray">List of Departments...</p>

                                    <ol class="card-category">
                                      <li *ngFor="let dept of companyDptsArray" class="text-left">
                                        <a (click)="viewDeptReport(dept)" style="cursor:context-menu" class="text-left">{{ dept.name }}</a>
                                      </li>
                                    </ol>

                                  </div>
                                  <div *ngIf="deptDemoNotes" class="col-sm-8">
                                    <!-- <h3>Another Title Here</h3> -->
                                    <p class="clrs-h4-font" style="margin-top:0em; color:darkslategray">Department Details...</p>

                                    <p class="text-info ">Click to view on a department to see report.</p>
                                  </div>
                                </div>
                              </div>
                              <div *ngIf="displayDept" class="card-body" style="margin-top: -3em" id="DepartmentDisplay">
                                <div class="col-md-12">
                                  <div class="row">
                                    <div class="col-md-10">
                                      <p class="clrs-h1-font pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span class="title card-category"
                                          style="color:darkslategray">{{ setDept.name }}</span>`s report overview...</p>
                                    </div>
                                    <div class="col-md-2">
                                      <button class="btn-link btn-magnify" (click)="back2Dept()">Back</button>
                                    </div>
                                  </div>
                                  <br><br>

                                  <nav aria-label="Page navigation example">
                                    <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist" style="margin-top: -30px;">
                                      <li class="nav-item">
                                        <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab" href="#deptOverview"
                                          role="tablist">
                                          Overview
                                        </a>
                                      </li>
                                      <span style="color:darkslategrey"> -|- </span>
                                      <li class="nav-item">
                                        <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab" href="#deptOther"
                                          role="tablist">
                                          Other
                                        </a>
                                      </li>
                                    </ul>
                                  </nav>
                                  <div class="tab-content tab-space tab-subcategories col-md-12">
                                    <div class="tab-pane active" id="deptOverview">
                                      <div class="col-md-11 mr-auto ml-auto text-left">
                                        Total Number of Tasks Complete : {{ (allDeptTasksComplete | async)?.length }}<br>
                                        Total Number of outstanding Tasks : {{ outstandingDptTasks.length }}<br>
                                        Total Number of Tasks allocated: {{ (allDeptTasks | async)?.length }}<br>
                                      </div>
                                      <div class="col-md-12">
                                        <div *ngIf="((allDeptTasks | async)?.length != 0)" class="row">
                                          <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                          <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                          <!-- <div class="col-sm-2 card-header">Target</div> -->
                                          <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                          <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                          <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                          <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                        </div>
                                        <ol style="padding-left: 10px;">
                                          <p *ngIf="(setDeptOutstandingTasks.length != 0)" class="category text-warning">Outstanding Tasks.</p>
                                          <li *ngFor="let item of setDeptOutstandingTasks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a>{{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category col-sm-3">
                                                <a>{{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                          <p *ngIf="(setDeptCurrentTAsks.length != 0)" class="category text-success">Current Tasks.</p>
                                          <li *ngFor="let item of setDeptCurrentTAsks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a> {{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category  col-sm-3">
                                                <a> {{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                          <p *ngIf="(setDeptUpcomingTAsks.length != 0)" class="category text-info">Upcurrent Tasks.</p>
                                          <li *ngFor="let item of setDeptUpcomingTAsks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a> {{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category  col-sm-3">
                                                <a> {{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                        </ol>
                                      </div>
                                    </div>
                                    <div class="tab-pane" id="deptTimesheet">
                                      Timesheet
                                      <br>
                                    </div>
                                    <div class="tab-pane" id="deptOther">
                                      Other reports
                                    </div>
                                  </div>
                                </div>
                              </div>
                              </div>
                            </div>
                            <div hidden class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Staff</p>
                              <div class="card-plain card-content">
                                <div *ngIf="displayUserReport" class="card-body">
                                  <div class="row">
                                    <div class="col-sm-4">
                                      <p class="clrs-h4-font" style="margin-top:0em; color:darkslategray">List of Employees...</p>
                                      <ol class="card-category">
                                        <li *ngFor="let man of companyStaff" class="text-left">
                                          <a (click)="viewReport(man)" style="cursor:context-menu">{{ man.name }}</a>
                                        </li>
                                      </ol>
                                    </div>
                                    <div *ngIf="demoNotes" class="col-sm-8">
                                      <p class="clrs-h4-font" style="margin-top:0em; color:darkslategray">Employee Details...</p>
                                      <p class="text-info ">Click to view on an employee`s name to see their report.</p>
                                    </div>
                                  </div>
                                </div>
                                <div *ngIf="displayUser" class="card-body">
                                  <div class="col-md-12">
                                    <div class="row">
                                      <div class="col-md-10">
                                        <p class="clrs-h4-font pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span class="title card-category"
                                            style="color:darkslategray">{{ setUser.name }}</span>`s report overview...</p>
                                      </div>
                                      <div class="col-md-2">
                                        <button class="btn-link btn-magnify" (click)="back2Users()">Back</button>
                                      </div>
                                    </div>
                                    <br><br>
                                    <nav aria-label="Page navigation example">
                                      <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist" style="margin-top: -30px;">
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab" href="#link7"
                                            role="tablist">
                                            Overview
                                          </a>
                                        </li>
                                        <span style="color:darkslategrey"> -|- </span>
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary" title="click to see the timesheet" data-toggle="tab" href="#link8"
                                            role="tablist">
                                            Timesheet
                                          </a>
                                        </li>
                                        <span style="color:darkslategrey"> -|- </span>
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab" href="#link9"
                                            role="tablist">
                                            Other
                                          </a>
                                        </li>
                                      </ul>
                                    </nav>
                                    <div class="tab-content tab-space tab-subcategories col-md-12">
                                      <div class="tab-pane active" id="link7">
                                        <div class="col-md-11 mr-auto ml-auto text-left">
                                          Total Number of Tasks Complete : {{ (myCompletetasks | async)?.length }}<br>
                                          Total Number of outstanding Tasks: {{ outstandingTasks.length }}<br>
                                          Total Number of Tasks allocated: {{ (allMyTasks | async)?.length }}<br>
                                        </div>
                                        <div class="col-md-12">
                                          <div *ngIf="((allMyTasks | async)?.length != 0)" class="row">
                                            <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                            <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                            <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                          </div>
                                          <ol style="padding-left: 10px;">
                                            <p *ngIf="(setUserOutstandingTasks.length != 0)" class="category text-warning">Outstanding Tasks.</p>
                                            <li *ngFor="let item of setUserOutstandingTasks">
                                              <div class="row">
                                                <div class="col-md-3 col-sm-3 text-left">
                                                  <a>{{ item.name }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a>{{ item.start }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a>{{ item.finish }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a>{{ item.complete }}</a>
                                                </div>
                                                <div class="col-md-3 card-category col-sm-3">
                                                  <a>{{ item.champion.name }}</a>
                                                </div>
                                              </div>
                                            </li>
                                            <p *ngIf="(setUserCurrentTAsks.length != 0)" class="category text-success">Current Tasks.</p>
                                            <li *ngFor="let item of setUserCurrentTAsks">
                                              <div class="row">
                                                <div class="col-md-3 col-sm-3 text-left">
                                                  <a> {{ item.name }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.start }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.finish }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.complete }}</a>
                                                </div>
                                                <div class="col-md-3 card-category  col-sm-3">
                                                  <a> {{ item.champion.name }}</a>
                                                </div>
                                              </div>
                                            </li>
                                            <p *ngIf="(setUserUpcomingTAsks.length != 0)" class="category text-info">Upcurrent Tasks.</p>
                                            <li *ngFor="let item of setUserUpcomingTAsks">
                                              <div class="row">
                                                <div class="col-md-3 col-sm-3 text-left">
                                                  <a> {{ item.name }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.start }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.finish }}</a>
                                                </div>
                                                <div class="col-md-2 col-sm-2">
                                                  <a> {{ item.complete }}</a>
                                                </div>
                                                <div class="col-md-3 card-category  col-sm-3">
                                                  <a> {{ item.champion.name }}</a>
                                                </div>
                                              </div>
                                            </li>
                                          </ol>
                                        </div>
                                      </div>
                                      <div class="tab-pane" id="link8">
                                        Timesheet
                                        <br>
                                      </div>
                                      <div class="tab-pane" id="link9">
                                        Other reports
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div hidden class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Projects</p>
                              <div class="card-plain card-content">
                                <div *ngIf="displayProjReport" class="card-body">
                                  <div class="row">
                                    <div class="col-sm-4">
                                      <!-- <h3>List of Employees</h3> -->
                                      <p class="clrs-h4-font" style="margin-top:0em; color:darkslategray">List of Projects...</p><br>
                                      <ol class="card-category">
                                        <li *ngFor="let project of allCompProjects" class="text-left">
                                          <a (click)="viewProjectReport(project)" style="cursor:context-menu">{{ project.name }}</a>
                                        </li>
                                      </ol>
                                    </div>
                                    <div *ngIf="ProjectDemoNotes" class="col-sm-8">
                                      <!-- <h3>Another Title Here</h3> -->
                                      <p class="clrs-h4-font" style="margin-top:0em; color:darkslategray">Project Details...</p>
                                      <p class="text-info ">Click to view on an Project to see their report.</p>
                                    </div>
                                  </div>
                                </div>
                                <div *ngIf="displayProject" class="card-body" style="margin-top: -3em">
                                  <div class="col-md-12">
                                    <div class="row">
                                      <div class="col-md-10">
                                        <p class="clrs-h4-font pull-left" style="margin-top:0em; color:darkslategray; margin-bottom: 0px;"><span class="title card-category"
                                            style="color:darkslategray">{{ projectSet.name }}</span>`s project report overview...</p>
                                      </div>
                                      <div class="col-md-2">
                                        <button class="btn-link btn-magnify" (click)="back2Proj()">Back</button>
                                      </div>
                                    </div>
                                    <br><br>

                                    <nav aria-label="Page navigation example">
                                      <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-right" role="tablist" style="margin-top: -30px;">
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary active" title="click to see the overview" data-toggle="tab" href="#projOverview"
                                            role="tablist">
                                            Overview
                                          </a>
                                        </li>
                                        <!-- <span style="color:darkslategrey"> -|- </span><li class="nav-item">
                                          <a class="pagination pagination-primary" title="click to see the timesheet" data-toggle="tab" href="#projTimesheet" role="tablist">
                                            Timesheet
                                          </a>         </li> -->
                                        <span style="color:darkslategrey"> -|- </span>
                                        <li class="nav-item">
                                          <a class="pagination pagination-primary" title="click to see the other reports" data-toggle="tab" href="#projOther"
                                            role="tablist">
                                            Other
                                          </a>
                                        </li>
                                      </ul>
                                    </nav>
                                    <div class="tab-content tab-space tab-subcategories col-md-12">
                                      <div class="tab-pane active" id="projOverview">
                                        <div class="col-md-11 mr-auto ml-auto text-left">
                                          Total Number of Tasks Complete : {{ (compProjectTasksComplete | async)?.length }}<br>
                                          Total Number of outstanding Tasks : {{ outstandingProjectTasks.length }}<br>
                                          Total Number of Tasks allocated : {{ (allProjectTasks | async)?.length }}<br>
                                        </div>
                                        <div class="col-md-12">
                                          <div *ngIf="((allProjectTasks | async)?.length != 0)" class="row">
                                            <div class="col-sm-1 card-header text-left" style="padding-right: 0px; padding-left: 12px;">#</div>
                                            <div class="col-sm-2 card-header text-left" style="padding-left: 0px;">Task</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Start</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Finish</div>
                                            <div class="col-md-2 col-sm-2 card-header text-left">Complete</div>
                                            <div class="col-md-3 col-sm-3 card-header text-left">Champion</div>
                                          </div>
                                          <ol style="padding-left: 10px;">
                                          <p *ngIf="(setPojOutstandingTasks.length != 0)" class="category text-warning">Outstanding Tasks.</p>
                                          <li *ngFor="let item of setPojOutstandingTasks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a>{{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a>{{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category col-sm-3">
                                                <a>{{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                          <p *ngIf="(setPojCurrentTAsks.length != 0)" class="category text-success">Current Tasks.</p>
                                          <li *ngFor="let item of setPojCurrentTAsks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a> {{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category  col-sm-3">
                                                <a> {{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                          <p *ngIf="(setPojUpcomingTAsks.length != 0)" class="category text-info">Upcurrent Tasks.</p>
                                          <li *ngFor="let item of setPojUpcomingTAsks">
                                            <div class="row">
                                              <div class="col-md-3 col-sm-3 text-left">
                                                <a> {{ item.name }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.start }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.finish }}</a>
                                              </div>
                                              <div class="col-md-2 col-sm-2">
                                                <a> {{ item.complete }}</a>
                                              </div>
                                              <div class="col-md-3 card-category  col-sm-3">
                                                <a> {{ item.champion.name }}</a>
                                              </div>
                                            </div>
                                          </li>
                                        </ol>
                                        </div>
                                      </div>
                                      <div class="tab-pane" id="projTimesheet">
                                        Timesheet
                                        <br>
                                      </div>
                                      <div class="tab-pane" id="projOther">
                                        Other reports
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div hidden class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Reference</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>Financial Capacity : view document</li>
                                    <li>Management Capacity : view document</li>
                                    <li>Key Personel : view document</li>
                                    <li>Management Continuity : view document</li>
                                    <li>Shareholder and Risk Management : view document</li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="tab-pane" id="publicReport" role="tabpanel" aria-expanded="false">
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Company Details</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p" style="margin-left:2em ">
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Company Name </span>
                                    <span class="col-sm-9">: {{ (company)?.name }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Sector </span>
                                    <span class="col-sm-9">: {{ (company)?.sector }} </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Services </span>
                                    <span class="col-sm-9">
                                      <a *ngFor="let service of (company)?.services">: {{ service.display }} <br></a>
                                    </span>
                                  </span><br>
                                  <span class="row col-md-12">
                                    <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Location </span>
                                    <span class="col-sm-9">: {{ (company)?.location }} </span>
                                  </span><br>
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Compliance</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Tax Clearance </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Industry sector registration </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-6" style="padding-left: 0px; padding-right: 0px;">Health and Safety </span>
                                        <span class="col-sm-6">: Document </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                            <div class="spacer" style="height: 2em"></div>
                            <div class="col-md-10 ml-auto mr-auto">
                              <p class="text-left title clrs-h4-font" style="color: darkslategray">Metrics</p>
                              <div class="card-plain card-content">
                                <div class="text-left na-p">
                                  <ol>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Revenue Per Capital </span>
                                        <span class="col-sm-2">: 5/10 </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Annual staff costs percentage of
                                          total Annual Revenue </span>
                                        <span class="col-sm-2">: 70 % </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Sum of projects finished to projects
                                          supposed to be finished to date </span>
                                        <span class="col-sm-2">: 7/10 </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks
                                          planned to Date </span>
                                        <span class="col-sm-2">: 80 % </span>
                                      </span>
                                    </li>
                                    <li>
                                      <span class="row col-md-12">
                                        <span class="col-sm-10" style="padding-left: 0px; padding-right: 0px;">Tasks complete percentage to tasks
                                          planned to Date By Key Personel </span>
                                        <span class="col-sm-2">: 60 % </span>
                                      </span>
                                    </li>
                                  </ol>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="request">
                  <div class="col-md-12">
                    <div class="card">
                      <div class="card-body">
                        TimeSheet

                        <div id="accordionActionData" role="tablist" aria-multiselectable="true" class="card-collapse">
                          <ol>
                            <li class="" style="color:steelblue" *ngFor="let item of myActionItems">
                              <div class="card card-plain">
                                <div class="card-header" role="tab" id="heading2">
                                  <a class="collapsed" data-toggle="collapse" href="#{{ item.id }}" (click)="showTaskActions(item)"
                                    aria-expanded="false" aria-current="false">
                                    <!-- {{ item.name }}<span class="label text-warning"> {{ item.when }}</span><i class="nc-icon nc-minimal-down"></i> -->
                                    {{ item.name }}<span class="label text-warning"> {{ item.start }}</span><i class="nc-icon nc-minimal-down"></i>
                                  </a>
                                </div>
                                <div id="{{ item.id }}" class="collapse" data-parent="#accordionActionData" role="tabpanel"
                                  aria-labelledby="heading2">
                                  <div class="card-body">

                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                      <div class="col-sm-2" style="padding-left: 5px; padding-right:5px">
                                        <div class="form-group">
                                          <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.start"
                                            style=" padding-left: 10px; padding-right: 10px; height:2em" placeholder="Time from" />
                                        </div>
                                      </div>
                                      <div class="col-sm-2" style="padding-left: 5px; padding-right:5px">
                                        <div class="form-group">
                                          <input type="time" class="form-control panel-boader timepicker" [(ngModel)]="item.end"
                                            style=" padding-left: 10px; padding-right: 10px;  height:2em" placeholder="Time to" />
                                        </div>
                                      </div>
                                    </div>

                                  </div>
                                  <button class="btn-link btn-round primary" (click)="selectTask(item)" data-toggle="modal"
                                    data-target="#newAction">
                                    <small>Add Sub-task</small></button>
                                </div>
                              </div>
                            </li>
                          </ol>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="getSearch" class="col-lg-9 col-md-8 col-sm-8 col-8 ml-auto mr-auto" style="padding-right: 0px;padding-left: 0px;">
              <div *ngIf="!viewTask">
                <div *ngIf="value !== ''" class="row">
                  Tasks Found {{ results?.length }}
                    <table class="table table-striped">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">Name </th>
                        <th scope="col">Champion</th>
                        <th scope="col" class="text-right">Project</th>
                        <th scope="col" class="text-right">Enterprise</th>
                        <th scope="col" class="text-right">Complete</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let workitem of results" > 
                        <td class="table td-clrs"><a class="text-primary" (click)="seltTask(workitem)" style="cursor: pointer;">{{ workitem.name }}</a></td>
                        <td class="table td-clrs">{{ workitem.champion.name }}</td>
                        <td class="table td-clrs text-right">{{ workitem.projectName }}</td>
                        <td class="table td-clrs text-right">{{ workitem.companyName }}</td>
                        <td class="table td-clrs text-right">{{ workitem.complete }}</td>
                      </tr>
                    </tbody>
                  </table> 
                </div>
              </div>
              <div *ngIf="viewTask">
                <div class="row">
                  <div class="card col-md-9 mr-auto ml-auto">
                    <div class="card-body">
                      <label>Task</label>
                      <div class="form-group">
                        <input type="text" class="form-control" style="padding-top: 0px;padding-bottom: 0px; height: 32px;"
                          name="tname" [(ngModel)]="setTask.name" placeholder=" {{ setTask.name }}">
                      </div>
                      <label>Company</label>
                      <div class="form-group">
                        <input type="text" class="form-control" style="padding-top: 0px;padding-bottom: 0px; height: 32px;"
                          name="tcomp" [(ngModel)]="setTask.companyName" placeholder="{{ setTask.companyName }}">
                      </div>
                      <label>Project</label>
                      <div class="form-group">
                        <input type="text" class="form-control" style="padding-top: 0px;padding-bottom: 0px; height: 32px;"
                          name="tproj" [(ngModel)]="setTask.projectName" placeholder="{{ setTask.projectName }}">
                      </div>
                      <label>Champion</label>
                      <div class="form-group">
                        <input type="text" class="form-control" style="padding-top: 0px;padding-bottom: 0px; height: 32px;"
                          name="tchamp" [(ngModel)]="setTask.champion.name" placeholder="{{ setTask.champion.name }}">
                      </div>
                      <label>Dept</label>
                      <div class="form-group">
                        <input type="text" class="form-control" style="padding-top: 0px;padding-bottom: 0px; height: 32px;"
                          name="tdept" [(ngModel)]="setTask.department" placeholder="{{ setTask.department }}">
                      </div>
                    </div>
                  </div>
                  <div class="card col-md-3 mr-auto ml-auto">
                    <div class="card-body">
                      <button class="btn-link"><label>Add subtask</label></button><br>
                      <button class="btn-link"><label>View subtasks</label></button><br>
                      <button class="btn-link"><label>Comment</label></button><br>
                      <button class="btn-link"><label>Edit</label></button><br>
                      <button class="btn-link"><label>Delete</label></button><br>
                      <button class="btn-link" (click)="viewList()"><label>Back</label></button><br>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="tskModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto col-form-label info">
            <font size=4>Create a Task</font>
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <div class="row">
            <label class="col-md-3 col-form-label">Task name</label>
            <div class="col-md-8">
              <div class="form-group">
                <input type="text" [(ngModel)]="task.name" name="taskName" class="form-control" placeholder="Task name">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-3 col-form-label">Start Date</label>
            <div class="col-md-8">
              <div class="form-group">
                <input type="date" [(ngModel)]="start" name="start" class="form-control">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-3 col-form-label">Finish Date</label>
            <div class="col-md-8">
              <div class="form-group">
                <input type="date" [(ngModel)]="finish" name="finish" class="form-control">
              </div>
            </div>
          </div>
          <ng-container *ngIf="showdept">
            <div class="row">
              <label class="col-md-3 col-form-label">Department</label>
              <div class="col-md-8">
                <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                  {{(selectedDepartment)?.name }}
                  <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleDeptTable(); toggleDpt()">
                    <i class="fa fa-edit fa-fw"></i>
                  </button>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-10 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showDeptTable">
                  <ng-select [items]="deptLi" bindLabel="name" name="dptts" placeholder="Select Department " 
                    (change)="selectDepartment(selectedDepartment)" [(ngModel)]="selectedDepartment">
                  </ng-select>
                  <!-- <div class="table table-responsive user_table" style="overflow: auto;">
                    <code>Select a Department</code>
                    <table class="table">
                      <tbody class="">
                        <!- <tr *ngFor="let item of departsList | async " class=""> ->
                        <tr *ngFor="let item of deptLi" class="">
                          <td class=" td-clrs">{{ item.name }}</td>
                          <td class=" td-clrs"><button class="primary btn-link" (click)="selectDepartment(item)"> select
                            </button></td>
                        </tr>
                      </tbody>
                    </table>
                    <footer class="pull-right">
                      <button class="primary btn-link" (click)="toggleDpt(); toggleDeptTable()" style="padding-right:3em"> back
                      </button>
                    </footer>
                  </div> -->
                </ng-container>
              </div>
            </div>
          </div>
          <div *ngIf="selectedDepartment">
            <ng-container *ngIf="showdeptChamp">
              <div class="row">
                <label class="col-md-3 col-form-label">Champion</label>
                <div class="col-md-8">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    {{(userChampion)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleDeptUsersTable(); toggleDeptChamp()">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </ng-container>
            <div class="row">
              <div class="col-md-10 ml-auto mr-auto">
                <div class="form-group">
                  <ng-container *ngIf="showDeptPartTable">
                      <ng-select [items]="deptParticipants" bindLabel="name" name="dptParticipants" placeholder="Select Department staff " 
                          (change)="selectDepartmentChamp(userChampion)" [(ngModel)]="userChampion">
                      </ng-select>
                    <!-- <div class="table-responsive user_table" style="overflow: auto;">
                      <code>Select a Champion</code>
                      <table class="table">
                        <tbody class="">
                          <tr *ngFor="let user of deptParticipants | async " class=" td-clrs">
                          <!- <tr *ngFor="let user of cmppas" class=" td-clrs"> ->
                            <td class="td-clrs">{{ user.name }}</td>
                            <td class="td-clrs"><button class="primary btn-link" (click)="selectDepartmentChamp(user)">select</button></td>
                          </tr>
                        </tbody>
                      </table>
                      <footer class="pull-right">
                        <button class="primary btn-link" (click)="toggleDeptChamp(); toggleDeptUsersTable()" style="padding-right:3em"> back
                        </button>
                      </footer>
                    </div> -->
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
          <ng-container *ngIf="showProj">
            <div class="row">
              <label class="col-md-3 col-form-label">Project</label>
              <div class="col-md-8">
                <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                  {{(selectedProject)?.name }}
                  <button type="text" name="taskProject" class="btn btn-icon primary btn-link " (click)="toggleProjTable(); toggleProj()">
                    <i class="fa fa-edit fa-fw"></i>
                  </button>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-10 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showProjectTable">
                  <ng-select [items]="subProjects" bindLabel="name" name="procols" placeholder="Select Project" 
                    (change)="selectProject(selectedProject)" [(ngModel)]="selectedProject">
                  </ng-select>
                  <!-- <div class="table-responsive user_table" style="overflow: auto;">
                    <code>Select Project</code>
                    <table class="table">
                      <tbody>
                        <tr *ngFor="let project of projectsCollection | async " class="">
                          <td class="td-clrs">{{ project.name }}</td>
                          <td class="td-clrs"><button class="primary btn-link" (click)="selectProject(project)">select</button></td>
                        </tr>
                      </tbody>
                    </table>
                    <footer class="pull-right">
                      <button class="primary btn-link" (click)="toggleProj(); toggleProjTable()" style="padding-right:3em"> back
                      </button>
                    </footer>
                  </div> -->
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="testNewTask()" data-dismiss="modal" title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="usersListjk" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Choose a staff from colours
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <ng-container *ngIf="showChamp">
            <div class="col-md-12 ml-auto mr-auto">
              <div class="row">
                <label class="col-md-4 col-form-label">User</label>
                <div class="col-md-8 mr-auto">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">:{{(newCompanystaff)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleUsersTable(); toggleChamp()"
                      rel="tooltip" title="select a new staff">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showUserTable">
                  <div class="table-responsive user_table">
                    <code>Select new Worker</code>
                    <table class="table">
                      <tbody class="">
                        <tr *ngFor="let user of coloursUsers | async " class="">
                          <td>{{ user.name }}</td>
                          <td><button class="primary btn-link" (click)="selectColUser(user)"> select
                            </button></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="saveNewStaff()" data-dismiss="modal" title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="usersList" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Choose a staff from colours
          </p>
        </div>
        <hr>
        <div class="col-md-10 ml-auto mr-auto">
          <ng-select [items]="coloursUsers | async" bindLabel="name" name="psection" placeholder="Select new staff " (change)="selectColUser2(selectedColUser)" [(ngModel)]="selectedColUser">
          </ng-select>
        </div>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="saveNewStaff()" data-dismiss="modal"
              title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="dptStaffList" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Choose a staff from department
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <ng-container *ngIf="showChamp">
            <div class="col-md-12 ml-auto mr-auto">
              <div class="row">
                <label class="col-md-4 col-form-label">User</label>
                <div class="col-md-8 mr-auto">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    :{{(companystaff)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleUsersTable(); toggleChamp()"
                      rel="tooltip" title="select a new staff">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showUserTable">
                  <div class="table-responsive user_table">
                    <table class="table">
                      <tbody class="">
                        <tr *ngFor="let user of calldptStaff | async " class="">
                          <td>{{ user.name }}</td>
                          <td><button class="primary btn-link" (click)="selectUser(user)"> select
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="add2DptStaff()" data-dismiss="modal" title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="taskdptStaff" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Choose a staff from department
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <ng-container *ngIf="showDptChamp">
            <div class="col-md-12 ml-auto mr-auto">
              <div class="row">
                <label class="col-md-4 col-form-label">User</label>
                <div class="col-md-8 mr-auto">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    :{{(companystaff)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleDpUsersTable(); toggleDeptChampion()"
                      rel="tooltip" title="select a new staff">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showDptUserTable">
                  <div class="table-responsive user_table">
                    <table class="table">
                      <tbody class="">
                        <tr *ngFor="let user of calldptStaff | async " class="">
                          <td>{{ user.name }}</td>
                          <td><button class="primary btn-link" (click)="depSelectUser(user)"> select
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="addTaskDptStaff()" data-dismiss="modal"
              title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="entDptStaff" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Select new Head of Department 
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <ng-container *ngIf="showChamp">
            <div class="col-md-12 ml-auto mr-auto">
              <div class="row">
                <label class="col-md-4 col-form-label">User</label>
                <div class="col-md-8 mr-auto">
                  <div class="form-group" style="margin-top: -8px; margin-left: 15px; margin-bottom: -2px;">
                    :{{(companystaff)?.name }}
                    <button type="text" name="taskChampion" class="btn btn-icon primary btn-link " (click)="toggleUsersTable(); toggleChamp()"
                      rel="tooltip" title="select a new staff">
                      <i class="fa fa-edit fa-fw"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <div class="row">
            <div class="col-md-8 ml-auto mr-auto">
              <div class="form-group">
                <ng-container *ngIf="showUserTable">
                  <ng-select [items]="compStaff2" bindLabel="name" name="jyu" placeholder="Select new Hod"
                    (change)="selectUser(companystaff)" [(ngModel)]="companystaff">
                  </ng-select>
                </ng-container>
              </div>
            </div>
          </div>
        </form>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="setDptHead()" data-dismiss="modal" title="save task">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="actionItemParticipants" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto title na-am col-form-label info">
            Select Team<br> for Sub-task: <b>{{ editedAction.name }}</b> </p><br>
        </div>
        <div class="col-md-10 ml-auto mr-auto">
          <br>
          <ol>
            <li *ngFor="let person of staff">
              <div class="row">
                <div class="col-md-9">
                  {{ person.name }}
                </div>
                <div class="col-md-3" style="padding-top: 12px;">
                  <input class="card-category pull-right col-form-label" type="checkbox" (change)="selectActionStaff($event, person)">
                </div>
              </div>
            </li>
          </ol>
          <ng-container *ngIf="actionParticipants != null">
            <small>Team:<br>
              <a *ngFor="let person of actionParticipants | async">{{ person.name }}, </a></small>
          </ng-container>
        </div>
      </div>
      <hr>
      <div class="modal-footer" style="margin-bottom:0%">
        <div class="left-side">
          <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-success btn-link" data-dismiss="modal" title="save task">Save</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="dptMoveModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <!--  modal-sm -->
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <div class="row">
          <ng-template #showPrompt>
            <div class="col-md-8 ml-auto mr-auto">
              <p>Select the Department to reallocate</p>
            </div>
          </ng-template>
        </div>
        <ng-container *ngIf="showDpt; else showPrompt">
          <p>Move tasks from <b>{{ setdDepartment?.name }} to {{ (setdDepartment2)?.name }}</b> department ?</p>
        </ng-container>
      </div>
      <div class="modal-body">
        <div class="row">
          <ng-select [items]="companyDpts1" bindLabel="name" name="setD1" style="width: 294px;"
            placeholder="Department transfer from" (change)="selectDept(setdDepartment)" [(ngModel)]="setdDepartment">
          </ng-select>
        </div>
        <div class="row">
          <ng-select [items]="companyDpts1" bindLabel="name" name="setD2"  style="width: 294px;"
            placeholder="Department transfer to" (change)="selectDept2(setdDepartment2)" [(ngModel)]="setdDepartment2">
          </ng-select>
        </div>
      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" (click)="swifData()" data-dismiss="modal">
            Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="dptModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <!--  modal-sm -->
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <div class="row">
          <ng-template #showPrompt>
            <div class="col-md-8 ml-auto mr-auto">
              <p>Select the Department to reallocate</p>
            </div>
          </ng-template>
        </div>
        <ng-container *ngIf="showDpt; else showPrompt">
          <p>Add Task to <b>{{ selectedDepartment.name }}</b> department ?</p>
        </ng-container>
      </div>
      <div class="modal-body">
        <div class="table-responsive pro_info">
          <table class="table">
            <thead class="">
            </thead>
            <tbody>
              <tr *ngFor="let department of companyDpts">
                <td>{{ department.name }}</td>
                <td class="justify-content-center">
                  <button class="warning btn-link" rel="tooltip" title="Company" (click)="showDptName(); selectDpt(department)">select</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" (click)="add2Dpartment()" data-dismiss="modal">
            Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="newProjectAction" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <h4 *ngIf="selectedTask?.name" class="clrs-h4-font" style="margin-top: 0px;">
            <span class="">Create a new sub-task for
              <span style="border-bottom-style: ridge;">&nbsp;{{ selectedTask.name }}&nbsp;</span>
            </span>
          </h4>
        </div>
        <hr>
        <div class="row">
          <label class="col-md-3 col-form-label" style="align-self: center;margin-left: 25px;">Sub-task</label>
          <div class="col-md-8 col-lg-8 col-sm-7">
            <ng-select [items]="allWorks | async" bindLabel="name" name="s1SectionWorkAction"
              placeholder="Select Sub-task" (change)="setAction(setItem)" [(ngModel)]="setItem">
            </ng-select>
          </div>
        </div>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="newAction()" data-dismiss="modal"
              title="save activity">Enter</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="newAction" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto col-form-label na-an info" style="color:steelblue">
            <font size=4>New Sub-task for <br>{{ selectedTask.name }} task</font>
          </p>
        </div>
        <hr>
        <div class="row">
          <div class="card col-md-9 mr-auto ml-auto">
            <form class="form-horizontal">
              <div class="form-group has-label">
                <label for="" class="control-label">Name (descripton):
                  <span class="star">*</span>
                  <code *ngIf="descAvail2">*<b> Add Name </b></code>
                  <textarea rows="auto" cols="80" class="form-control textarea" placeholder="Add sub-task's description" [(ngModel)]="actionItem.description" 
                    style="padding-left: 10px;" (change)="testD()" name="actDescription"></textarea>
                </label>
              </div>
              <div class="form-group has-label col-md-12">
                <label for="" class="control-label">Type of work:
                  <span class="star">*</span>
                  <input type="text" cols="80" [(ngModel)]="actionItem.name" name="taskName" class="form-control" placeholder="Type of work">
                </label>
              </div>
              <div class="form-group has-label col-md-12">
                <label for="" class="control-label">Units:
                  <span class="star">*</span>
                  <ng-select [items]="SIunits" cols="80" bindLabel="name" name="jyu" placeholder="Select unit of Measure" [(ngModel)]="setSui"></ng-select>
                </label>
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="newAction(actionItem)" data-dismiss="modal"
              title="save activity">Enter</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="editNewAction" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto col-form-label info" style="color:steelblue">
            <font size=4>Edit Sub-task<br> "{{ selectedAction.name }}"</font>
          </p>
        </div>
        <hr>
        <!-- <form class="form-horizontal"> -->
        <div class="row">
          <label class="col-md-4 col-form-label">Sub-task</label>
          <div class="col-md-7">
            <div class="form-group">
              <input type="text" [(ngModel)]="selectedAction.name" name="actName" class="form-control">
            </div>
          </div>
        </div>
  
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="editActivity()"
              data-dismiss="modal" title="save activity">Enter</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="newAction4Today" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-10 ml-auto mr-auto title na-an info" style="color:steelblue">
            <font size=4>New Sub-task for {{ selectedTask.name }} task</font>
          </p>
        </div>
        <hr>
        <div class="row">
          <label class="col-md-4 col-form-label">Sub-task</label>
          <div class="col-md-7">
            <div class="form-group">
              <input type="text" [(ngModel)]="actionItem.name" name="taskName" class="form-control" placeholder="Name">
            </div>
          </div>
        </div>
        <div class="row">
          <label class="col-md-4 col-form-label">Unit</label>
          <div class="col-md-7 col-lg-6 col-sm-5">
            <div class="form-group">
              <ng-select [items]="SIunits" bindLabel="name" name="jyu" placeholder="Select unit of Measure"
                [(ngModel)]="setSui">
              </ng-select>
            </div>
          </div>
        </div>
        <div class="row" hidden>
          <label class="col-md-4 col-form-label">Department</label>
          <div class="col-md-7 col-lg-6 col-sm-5">
            <div class="form-group">
              <!-- <ng-select placeholder="Select department" [(ngModel)]="dp" name="actionDpt" (change)="showDpTasks(dp)">
                          <ng-option *ngFor="let department of departments3 | async" [value]="department.id">
                            {{ department.name }}</ng-option>
                        </ng-select> -->
              <ng-select [items]="departments3" bindLabel="name" name="jyu" placeholder="Select unit of Measure" (change)="showDpTasks(setActionDpt)" [(ngModel)]="setActionDpt"></ng-select>
        
            </div>
          </div>
        </div>
        <div class="row">
          <label class="col-md-4 col-form-label">Task</label>
          <div class="col-md-7 col-lg-6 col-sm-5">
            <div class="form-group">
              <!-- <ng-select placeholder="Select Task" [(ngModel)]="taskId" name="actionTask">
                          <ng-option *ngFor="let tas of dptTasks | async">
                            {{ tas.name }}</ng-option>
                        </ng-select> -->
              <ng-select [items]="dptTasks | async" bindLabel="name" name="userDptList" placeholder="Select Period"
                [(ngModel)]="setCompTask"></ng-select>
            </div>
          </div>
        </div>
        <div class="row">
          <label class="col-md-4 col-form-label">Staff</label>
          <div class="col-md-7 col-lg-6 col-sm-5">
            <div class="form-group">
              <ng-select placeholder="Select staff" [(ngModel)]="selectedStaffId" name="actionStaffSelect">
                <!-- (change)="saveUserId(selectedStaffId)"  (change)="showUserTasks(staffId)" -->
                <ng-option *ngFor="let user of dptStaff | async" [value]="user.id">{{ user.name }}</ng-option>
              </ng-select>
            </div>
          </div>
        </div>
        <div class="row">
          <label class="col-md-4 col-form-label">Start Date</label>
          <div class="col-md-7">
            <div class="form-group">
              <input type="time" [(ngModel)]="actionItem.start" name="siu" class="form-control">
            </div>
          </div>
        </div>
        <div class="row">
          <label class="col-md-4 col-form-label">End Date</label>
          <div class="col-md-7">
            <div class="form-group">
              <input type="time" [(ngModel)]="actionItem.end" name="siu" class="form-control">
            </div>
          </div>
        </div>
        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="newActionToday(actionItem)" data-dismiss="modal"
              title="save activity">Enter</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="addStaffdpt" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">

  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <div class="row">
          <ng-template #showPrompt>
            <div class="col-md-8 ml-auto mr-auto">
              <p>Select the department</p>
            </div>
          </ng-template>
        </div>
        <ng-container *ngIf="showDpt; else showPrompt">
          <p>You want to add {{ companystaff.name }} to <b>{{ selectedDepartment.name }}</b> department ?</p>
        </ng-container>
      </div>
      <div class="modal-body">
        <div class="table-responsive pro_info">
          <table class="table">
            <thead class="">
            </thead>
            <tbody>
              <tr *ngFor="let department of departments3">
                <td>{{ department.name }}</td>
                <td class="justify-content-center">
                  <button class="warning btn-link" rel="tooltip" title="Company" (click)="showDptName(); selectDpt(department)">select</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" (click)="addStaff2Dpartment()" data-dismiss="modal">
            Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="companyPicker" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">

  <div class="modal-dialog">
    <!--  modal-sm -->
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <div class="row">
          <ng-template #promptClient>
            <div class="col-md-8 ml-auto mr-auto">
              <p class="title na-p">Select Company</p>
            </div>
          </ng-template>
        </div>
        <ng-container *ngIf="showClient; else promptClient">
          <h4 class="title na-p">Adding <b>{{ selectedClient.name }}</b> to Company`s Clients?</h4>
        </ng-container>
      </div>
      <div class="modal-body">

        <ul>
          <li *ngFor="let company of companies | async">
            <div class="row">
              <span class="col-md-6 text-left">{{ company.name }}</span>
              <span class="col-md-6"><a class="text-success" style="cursor: context-menu" (click)="setClient(company)">select</a></span>
            </div>
          </li>
        </ul>

      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" (click)="addClient()" data-dismiss="modal">
            Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="editAction" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="card-body ">
        <div class="card-header text-center">
          <p class="col-md-8 ml-auto mr-auto col-form-label info" style="color:steelblue">
            <font size=4>Edit Sub-task<br> "{{ selectedAction.name }}"</font>
          </p>
        </div>
        <hr>
        <form class="form-horizontal">
          <div class="row">
            <label class="col-md-4 col-form-label">Start Date</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="date" [(ngModel)]="startDate" name="siu" class="form-control">
              </div>
            </div>
          </div>
          <div class="row">
            <label class="col-md-4 col-form-label">End Date</label>
            <div class="col-md-7">
              <div class="form-group">
                <input type="date" [(ngModel)]="endDate" name="siu" class="form-control">
              </div>
            </div>
          </div>
        </form>

        <div class="modal-footer" style="margin-bottom:0%">
          <div class="left-side">
            <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
          </div>
          <div class="divider"></div>
          <div class="right-side">
            <button type="button" class="btn btn-success btn-link" (click)="editAction(startDate,endDate)" data-dismiss="modal"
              title="save activity">Enter</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade modal-primary" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header justify-content-center text-info">
        <div class="modal-profile ml-auto mr-auto">
          <i class="nc-icon nc-bulb-63"></i>
        </div>
        <div class="modal-body">
          <p class="text-info"><span class="title clrs-h4-font">{{ joinmyProject.name }} project</span></p>
        </div>
      </div>
      <div class="modal-body text-center">
        <p>Press confirm to Join the project</p>
      </div>
      <div class="modal-footer">
        <div class="left-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal">Back</button>
        </div>
        <div class="divider"></div>
        <div class="right-side">
          <button type="button" class="btn btn-link btn-link" data-dismiss="modal" (click)="joinProject()">Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="editStaffdata" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notice modal-lg">
    <div *ngIf="pgOne" class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title clrs-h1-font" id="myModalLabel">{{ (company)?.name }} staff</h5>
      </div>
      <div class="modal-body">
        <div class="instruction">
          <div class="row">
            <div class="col-md-8">
              <span class="row col-md-12">
                <span class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">Full name </span>
                <span class="col-sm-9">
                  <span class="col-sm-9 card-category" style="color:black">: {{ (setCompStaff)?.name }} </span>
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">Department </span>
                <span class="col-sm-9">
                  <span class="col-sm-9 card-category" style="color:black">: {{ (setCompStaff)?.department }} </span>
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">Bus email </span>
                <span class="col-sm-9">
                  <span class="col-sm-9">: {{ (setCompStaff)?.bus_email }} </span>
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">Hierarchy </span>
                <span class="col-sm-9">
                  <span class="col-sm-9">: {{ (setCompStaff)?.hierarchy }} </span>
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">Address </span>
                <span class="col-sm-9">
                  <span class="col-sm-9">: {{ (setCompStaff)?.address }} </span>
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">Country </span>
                <span class="col-sm-9">
                  <span class="col-sm-9">: {{ (setCompStaff)?.nationality }} </span>
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">NationalId </span>
                <span class="col-sm-9">
                  <span class="col-sm-9">: {{ (setCompStaff)?.nationalId }} </span>
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">Contact </span>
                <span class="col-sm-9">
                  <span class="col-sm-9">: {{ (setCompStaff)?.phoneNumber }} </span>
                </span>
              </span><br>
            </div><br>
            <div class="col-md-4">
              <div class="picture">
                <img *ngIf="setCompStaff.photoURL ; else showAvatar" src="{{ setCompStaff.photoURL }}"
                  class="rounded img-raised">
                <ng-template #showAvatar>
                  <img src="./assets/img/faces/default-avatar.png" class="rounded img-raised">
                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer justify-content-center">
        <button (click)="pageNext()" type="button" class="btn btn-success btn-round" data-dismiss="modal">Edit</button>
        <button type="button" class="btn btn-warning btn-round" data-dismiss="modal">Close</button>
      </div>
    </div>
    <div *ngIf="pgTwo" class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title clrs-h1-font" id="myModalLabel">Edit Staff Profile</h5>
      </div>
      <div class="modal-body">
        <div class="instruction">
          <div class="row">
            <div class="col-md-8">
              <span class="row col-md-12">
                <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Full name </span>
                <span class="col-sm-9">
                  <input type="text" class="form-control col-sm-9" name="userFullname" [(ngModel)]="setCompStaff.name" required
                    (focus)="focus1=true" style="padding-top: 0px;padding-bottom: 0px; height: 32px;" (blur)="focus1=false">
                </span>
              </span><br>
              <!-- <span class="row col-md-12">
                <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Department </span>
                <span class="col-sm-9">
                  <-- <ng-select [items]="departments4 | async" bindLabel="name" name="userDptList" placeholder="Select Period" [(ngModel)]="staffDepartment"></ng-select>  ->
                  <ng-select [items]="departments4 | async" bindLabel="name" name="userDptList" placeholder="Select Period"  [(ngModel)]="setCompStaff.department"></ng-select>                  
                </span>
              </span><br> -->
              <span class="row col-md-12">
                <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Bus email </span>
                <span class="col-sm-9">
                  <input type="text" class="form-control col-sm-9" name="userBus_email" [(ngModel)]="setCompStaff.bus_email" required
                    (focus)="focus1=true" style="padding-top: 0px;padding-bottom: 0px; height: 32px;" (blur)="focus1=false">
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Hierarchy </span>
                <span class="col-sm-9">
                  <ng-select [items]="hierarchies" bindLabel="name" name="userHierarchyList" placeholder="Select Hierarchy" [(ngModel)]="setCompStaff.hierarchy"></ng-select>
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Address </span>
                <span class="col-sm-9">
                  <input type="text" class="form-control col-sm-9" name="userAddress" [(ngModel)]="setCompStaff.address" required
                    (focus)="focus1=true" style="padding-top: 0px;padding-bottom: 0px; height: 32px;" (blur)="focus1=false">
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Country </span>
                <span class="col-sm-9">
                  <input type="text" class="form-control col-sm-9" name="userCountry" [(ngModel)]="setCompStaff.nationality" required
                    (focus)="focus1=true" style="padding-top: 0px;padding-bottom: 0px; height: 32px;" (blur)="focus1=false">
                </span>
              </span><br><span class="row col-md-12">
                <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">National Id </span>
                <span class="col-sm-9">
                  <input type="text" class="form-control col-sm-9" name="userCountry" [(ngModel)]="setCompStaff.nationalId" required
                    (focus)="focus1=true" style="padding-top: 0px;padding-bottom: 0px; height: 32px;" (blur)="focus1=false">
                </span>
              </span><br>
              <span class="row col-md-12">
                <span class="col-sm-3" style="padding-left: 0px; padding-right: 0px;">Contact </span>
                <span class="col-sm-9">
                  <input type="text" class="form-control col-sm-9" name="userCountry" [(ngModel)]="setCompStaff.phoneNumber" required
                    (focus)="focus1=true" style="padding-top: 0px;padding-bottom: 0px; height: 32px;" (blur)="focus1=false">
                </span>
              </span><br>
            </div><br>
            <div class="col-md-4">
              <div class="picture">
                <img *ngIf="setCompStaff.photoURL ; else showAvatar" src="{{ setCompStaff.photoURL }}"
                  class="rounded img-raised">
                <ng-template #showAvatar>
                  <img src="./assets/img/faces/default-avatar.png" class="rounded img-raised">
                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer justify-content-center">
        <button (click)="pageBack()" type="button" class="btn btn-info btn-round" data-dismiss="modal">Close</button>
        <button (click)="saveStaffData(setCompStaff)" type="button" class="btn btn-success btn-round">Save</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="taskErase" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notice">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          <i class="nc-icon nc-simple-remove"></i>
        </button>
        <h5 class="modal-title" id="myModalLabel">{{ tss.name }}</h5>
      </div>
      <div class="modal-body">
        <div class="instruction">
          <div class="row">
            <div class="col-md-10 text-center">
              <strong>Are you sure you want to delete this Task</strong>
            </div>
          </div>
          <br>
          <div class="col-md-10 text-center">
              <strong>If sure Task's reports will lost</strong>
            <p>If you sure, Click Delete to complete</p>
          </div>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-info btn-round" (click)="deleteTask()"
            data-dismiss="modal">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="taskInfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notice">
    <!-- <div class="modal-dialog"> -->
      <div class="modal-content">
        <div class="card-body ">
          <div class="card-header text-center">
            <p class="col-md-8 ml-auto mr-auto col-form-label info">
              <font size=4>Edit Task</font>
            </p>
          </div>
          <hr>
          <!-- <form class="form-horizontal"> -->
            <div class="row">
              <label class="col-md-3 col-form-label">Task name</label>
              <div class="col-md-8">
                <div class="form-group">
                  <input type="text" [(ngModel)]="tss.name" name="updateTaskName" class="form-control" placeholder="Task name">
                </div>
              </div>
            </div>
            <div class="row">
              <label class="col-md-3 col-form-label">Start Date</label>
              <div class="col-md-8">
                <div class="form-group">
                  <input type="date" [(ngModel)]="tss.start" name="updateTstart" class="form-control">
                </div>
              </div>
            </div>
            <div class="row">
              <label class="col-md-3 col-form-label">Finish Date</label>
              <div class="col-md-8">
                <div class="form-group">
                  <input type="date" [(ngModel)]="tss.finish" name="updateTfinish" class="form-control">
                </div>
              </div>
            </div>
          <!-- </form> -->
          <div class="modal-footer" style="margin-bottom:0%">
            <div class="left-side">
              <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Close</button>
            </div>
            <div class="divider"></div>
            <div class="right-side">
              <button type="button" class="btn btn-success btn-link" (click)="testNewTask()" data-dismiss="modal"
                title="save task">Save</button>
            </div>
          </div>
        </div>
      </div>
    <!-- </div> -->
  </div>
</div>
